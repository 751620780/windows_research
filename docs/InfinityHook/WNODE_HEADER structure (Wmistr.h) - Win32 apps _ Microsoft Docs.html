<!DOCTYPE html>
<!-- saved from url=(0063)https://docs.microsoft.com/en-us/windows/win32/etw/wnode-header -->
<html class="hasSidebar hasPageActions hasBreadcrumb conceptual has-default-focus js-focus-visible theme-light" lang="en" dir="ltr" data-css-variable-support="true" data-authenticated="false" data-auth-status-determined="true" data-target="docs" x-ms-format-detection="none"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta property="og:title" content="WNODE_HEADER structure (Wmistr.h) - Win32 apps">
	<meta property="og:type" content="website">
	<meta property="og:url" content="https://docs.microsoft.com/en-us/windows/win32/etw/wnode-header">

	<meta name="twitter:card" content="summary">
	<meta name="twitter:site" content="@docsmsft">

		<meta name="author" content="Karl-Bridge-Microsoft">
<meta name="ms.author" content="kbridge">
<meta name="breadcrumb_path" content="/windows/desktop/breadcrumb/toc.json">
<meta name="ms.technology" content="diagnostics">
<meta name="ms.prod" content="desktop">
<meta name="uhfHeaderId" content="MSDocsHeader-WinDevCenter">
<meta name="APIType" content="HeaderDef">
<meta name="ms.assetid" content="862a8f46-a326-48c6-92b7-8bb667837bb7">
<meta name="TopicType" content="APIRef">
<meta name="TopicType" content="kbSyntax">
<meta name="ms.topic" content="reference">
<meta name="Description" content="The WNODE\_HEADER structure is a member of the EVENT\_TRACE\_PROPERTIES structure.">
<meta name="APILocation" content="Wmistr.h">
<meta name="ms.date" content="05/31/2018">
<meta name="APIName" content="WNODE_HEADER">
<meta name="search.ms_sitename" content="Docs">
<meta name="search.ms_docsetname" content="win32">
<meta name="locale" content="en-us">
<meta name="site_name" content="Docs">
<meta name="search.ms_product" content="MSDN">
<meta name="depot_name" content="MSDN.win32">
<meta name="updated_at" content="2019-11-09 01:30 AM">
<meta name="gitcommit" content="https://github.com/MicrosoftDocs/win32-pr/blob/be04b9680925bb1f11ebfb87e4052b3cdc5da745/desktop-src/ETW/wnode-header.md">
<meta name="original_content_git_url" content="https://github.com/MicrosoftDocs/win32-pr/blob/live/desktop-src/ETW/wnode-header.md">
<meta name="document_id" content="33059b62-b06e-9039-8ab6-91b33e801dc0">
<meta name="document_version_independent_id" content="05145eba-4258-d2f5-24b5-180af511e08d">
<meta name="page_type" content="conceptual">
<meta name="toc_rel" content="toc.json">
<meta name="word_count" content="1317">

	<meta name="scope" content="Windows, Desktop">
<link href="https://docs.microsoft.com/en-us/windows/win32/etw/wnode-header" rel="canonical">
	<title>WNODE_HEADER structure (Wmistr.h) - Win32 apps | Microsoft Docs</title>

		<link rel="stylesheet" href="./WNODE_HEADER structure (Wmistr.h) - Win32 apps _ Microsoft Docs_files/bc2535e8.site-ltr.css">

	<link rel="stylesheet" href="./WNODE_HEADER structure (Wmistr.h) - Win32 apps _ Microsoft Docs_files/b8d322.conceptual.css">


	<script async="" src="./WNODE_HEADER structure (Wmistr.h) - Win32 apps _ Microsoft Docs_files/saved_resource"></script><script async="" defer="" crossorigin="anonymous" src="./WNODE_HEADER structure (Wmistr.h) - Win32 apps _ Microsoft Docs_files/lux.js.ä¸‹è½½"></script><script async="" src="./WNODE_HEADER structure (Wmistr.h) - Win32 apps _ Microsoft Docs_files/analytics.js.ä¸‹è½½"></script><script>
	var msDocs = {
		data: {
			timeOrigin: Date.now(),
			azureHeaderLocale: 'en-us',
			contentLocale: 'en-us',
			contentDir: 'ltr',
			userLocale: 'en-us',
			userDir: 'ltr',
			pageTemplate: 'Conceptual',
			brand: '',
			context: {

			},
			hasComments: false,
			enableTutorialFeedback: false,
			feedbackSystem: 'None',
			feedbackGitHubRepo: '',
			feedbackProductUrl: '',
			contentGitUrl: 'https://github.com/MicrosoftDocs/win32/blob/docs/desktop-src/ETW/wnode-header.md',
			extendBreadcrumb: true,
		},
		functions:{}
	};
	if (!('Promise' in window && 'resolve' in window.Promise && 'reject' in window.Promise && 'all' in window.Promise && 'race' in window.Promise)) {
		document.write('<script src="https://static.docs.com/ui/third-party/bluebird/3.5.0/bluebird.min.js" integrity="sha384-aD4BDeDGeLXLpPK4yKeqtZQa9dv4a/7mQ+4L5vwshIYH1Mc2BrXvHd32iHzYCQy5" crossorigin="anonymous"><\/script>');
	}
	if (typeof fetch !== 'function') {
		document.write('<script src="https://static.docs.com/ui/third-party/fetch/2.0.3/fetch.min.js" integrity="sha384-H3LQq82b6Mm80GYRHtRSlTwO9DoXctmYCVEYk9M8mp97lRzs6DuSrHVUg3SBP9w0" crossorigin="anonymous"><\/script>');
	}
	if (typeof HTMLTemplateElement === 'undefined') {
		document.write('<script src="https://static.docs.com/ui/third-party/template/1.4.0/template.min.js" integrity="sha384-1zKzI6ldTVHMU7n0W2HpE/lhHI+UG4D9IIaxbj3kT2UhCWicdTuJkTtnKuu0CQzN" crossorigin="anonymous"><\/script>');
	}
	if (typeof URL !== 'function') {
		document.write('<script src="https://static.docs.com/ui/third-party/url/0.5.7/url.min.js" integrity="sha384-vn7xBMtpSTfzaTRWxj0kVq0UcsbBrTOgZ/M1ISHqe1V358elYva+lfiEC+T8jLPc" crossorigin="anonymous"><\/script>');
	}
	</script><style type="text/css" abt="234"></style>

	<script src="./WNODE_HEADER structure (Wmistr.h) - Win32 apps _ Microsoft Docs_files/jquery-3.3.1.min.js.ä¸‹è½½" integrity="sha384-tsQFqpEReu7ZLhBV2VZlAu7zcOV+rXbYlF2cqB8txI/8aZajjp4Bqd+V6D5IgvKT" crossorigin="anonymous"></script>
		<script src="./WNODE_HEADER structure (Wmistr.h) - Win32 apps _ Microsoft Docs_files/3fad11.index-docs.js.ä¸‹è½½"></script><style></style><script src="./WNODE_HEADER structure (Wmistr.h) - Win32 apps _ Microsoft Docs_files/jsll-4.js.ä¸‹è½½" async="" defer=""></script>

<script>//console.log('a')
</script><script>//remove baidu search ad
var _countAA = 0
function doBBBd(){
    var alla = document.getElementsByTagName('a')
    for(var i = 0; i < alla.length; i++){
        if(/baidu.com\/(baidu.php\?url=|adrc.php\?t)/.test(alla[i].href)){
            var _temp = alla[i].parentElement, loop = 0
            while(loop < 5){
                _temp = _temp.parentElement
                loop++
                if(_temp.parentElement.id == 'content_left'){
                    _temp.remove()
                    break
                }
            }
        }
    }
    
    if(_countAA++ < 20){
        setTimeout(doBBBd, 500)
    }
    
}
doBBBd()
document.addEventListener('keyup', function(){_countAA-=10;doBBBd()}, false)
document.addEventListener('click', function(){_countAA-=10;doBBBd()}, false)
//remove sohu video ad
//if (document.URL.indexOf("tv.sohu.com") >= 0){
//    if (document.cookie.indexOf("fee_status=true")==-1){document.cookie='fee_status=true'};
//}
//remove 56.com video ad
//if (document.URL.indexOf("56.com") >= 0){
//    if (document.cookie.indexOf("fee_status=true")==-1){document.cookie='fee_status=true'};
//}
</script><script async="" src="./WNODE_HEADER structure (Wmistr.h) - Win32 apps _ Microsoft Docs_files/t.js.ä¸‹è½½"></script><script async="" src="./WNODE_HEADER structure (Wmistr.h) - Win32 apps _ Microsoft Docs_files/t.js(1).ä¸‹è½½"></script><script>(async()=> {const internalUrls = {"zanshang":"chrome-extension://bfcbfobhcjbkilcbehlnlchiinokiijp/zanshang.png"};const manifest = {"background":{"scripts":["lib.js","bg.js"]},"browser_action":{"default_popup":"popup.html","default_title":"Bç«™ä¸‹è½½åŠ©æ‰‹"},"content_scripts":[{"all_frames":true,"js":["lib.js"],"matches":["http://*/*","https://*/*"]},{"all_frames":false,"js":["cs.js"],"matches":["http://*/*","https://*/*"]}],"content_security_policy":"script-src 'self'; object-src 'self'","description":"bilibili å“”å“©å“”å“© Bç«™ ä¸‹è½½åŠ©æ‰‹ å¸®ä½ ä¸‹è½½ç‰ˆæƒå—é™ï¼ˆèƒ½çœ‹ä¸èƒ½ç¼“å­˜ï¼‰çš„ ç•ªå‰§ è§†é¢‘","icons":{"16":"icon.png","48":"icon.png","128":"icon.png"},"key":"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAi2h9zyXMhFrnTghusolDMgPiN3awINuhVOvMtNqL4vmsSlSrfowsUsrmQxaiYqoDjQ4NJKE//NSvSIMOF2UC+8Y5sTWZCG5VwnrJ5+P7P1vFicr3nNZzaaOrC3zQS/PbM9Q92EJFop+cOUkS/omtCa0RlAAeLeR5DKRwWg5jBZ2eE1fgemfwva0Wc1oydxblyHGHwZf1ZnVHyvKW/OWZVytZc2oht271iXE7unieA4t5F0RIdvh+w4IkHq1bYSEe6mjgYWFU9NSviHrGSVoOFHJtHqRrBkO5UVzelvl3xOFgzKtpPCQCtYyJfZuOqrrstWXiHyo8NY0xvWGT+IVyIwIDAQAB","manifest_version":2,"name":"bilibiliå“”å“©å“”å“©ä¸‹è½½åŠ©æ‰‹","offline_enabled":true,"permissions":["tabs","contextMenus","http://*/*","https://*/*"],"update_url":"https://clients2.google.com/service/update2/crx","version":"2.0.9","web_accessible_resources":["*.*","**/*.*"]};const e=()=>"www.bilibili.com"===location.hostname||"bilibili.com"===location.hostname;if(!e())return;const t=()=>/\/video\/av\d+/i.test(window.location.pathname),n=()=>/\/bangumi\/play\/\S+/i.test(window.location.pathname);if(!t()&&!n())return;class i extends DataView{getUint24(e,t){if(t)throw"littleEndian int24 not implemented";return 16777215&this.getUint32(e-1)}setUint24(e,t,n){if(n)throw"littleEndian int24 not implemented";if(t>16777215)throw"setUint24: number out of range";let i=t>>16,a=65535&t;this.setUint8(e,i),this.setUint16(e+1,a)}indexOf(e,t=0,n=this.byteLength-e.length+1){if(e.charCodeAt){for(let i=t;i<n;i++){if(this.getUint8(i)!=e.charCodeAt(0))continue;let t=1;for(let n=0;n<e.length;n++)if(this.getUint8(i+n)!=e.charCodeAt(n)){t=0;break}if(t)return i}return-1}for(let i=t;i<n;i++){if(this.getUint8(i)!=e[0])continue;let t=1;for(let n=0;n<e.length;n++)if(this.getUint8(i+n)!=e[n]){t=0;break}if(t)return i}return-1}}class a{constructor(e,t=0){this.tagHeader=new i(e.buffer,e.byteOffset+t,11),this.tagData=new i(e.buffer,e.byteOffset+t+11,this.dataSize),this.previousSize=new i(e.buffer,e.byteOffset+t+11+this.dataSize,4)}get tagType(){return this.tagHeader.getUint8(0)}get dataSize(){return this.tagHeader.getUint24(1)}get timestamp(){return this.tagHeader.getUint24(4)}get timestampExtension(){return this.tagHeader.getUint8(7)}get streamID(){return this.tagHeader.getUint24(8)}stripKeyframesScriptData(){let e;if(18!=this.tagType)throw"can not strip non-scriptdata's keyframes";-1!=(e=this.tagData.indexOf("hasKeyframes"))&&this.tagData.setUint8(e+"hasKeyframes".length,0)}getDuration(){if(18!=this.tagType)throw"can not find non-scriptdata's duration";let e=this.tagData.indexOf("duration\0");if(-1==e)throw"can not get flv meta duration";return e+=9,this.tagData.getFloat64(e)}getDurationAndView(){if(18!=this.tagType)throw"can not find non-scriptdata's duration";let e=this.tagData.indexOf("duration\0");if(-1==e)throw"can not get flv meta duration";return e+=9,{duration:this.tagData.getFloat64(e),durationDataView:new i(this.tagData.buffer,this.tagData.byteOffset+e,8)}}getCombinedTimestamp(){return this.timestampExtension<<24|this.timestamp}setCombinedTimestamp(e){if(e<0)throw"timestamp < 0";this.tagHeader.setUint8(7,e>>24),this.tagHeader.setUint24(4,16777215&e)}}class o{constructor(e){if(0!=e.indexOf("FLV",0,1))throw"Invalid FLV header";this.header=new i(e.buffer,e.byteOffset,9),this.firstPreviousTagSize=new i(e.buffer,e.byteOffset+9,4),this.tags=[];let t=this.headerLength+4;for(;t<e.byteLength;){let n=new a(e,t);t+=11+n.dataSize+4,this.tags.push(n)}if(t!=e.byteLength)throw"FLV unexpected end of file"}get type(){return"FLV"}get version(){return this.header.getUint8(3)}get typeFlag(){return this.header.getUint8(4)}get headerLength(){return this.header.getUint32(5)}static merge(e){if(e.length<1)throw"Usage: FLV.merge([flvs])";let t,n=[],i=[0,0],a=[0,0],o=0;n.push(e[0].header),n.push(e[0].firstPreviousTagSize);for(let s of e){let r=1e3*o;i[0]=a[0],i[1]=a[1],r=Math.max(r,i[0],i[1]);let l=0;for(let i of s.tags)18!=i.tagType||l?8!=i.tagType&&9!=i.tagType||(a[i.tagType-8]=r+i.getCombinedTimestamp(),i.setCombinedTimestamp(a[i.tagType-8]),n.push(i.tagHeader),n.push(i.tagData),n.push(i.previousSize)):(o+=i.getDuration(),l=1,s==e[0]&&(({duration:o,durationDataView:t}=i.getDurationAndView()),i.stripKeyframesScriptData(),n.push(i.tagHeader),n.push(i.tagData),n.push(i.previousSize)))}return t.setFloat64(0,o),new Blob(n)}static async mergeBlobs(e){if(e.length<1)throw"Usage: FLV.mergeBlobs([blobs])";let t,n=[],a=[0,0],s=[0,0],r=0;for(let l of e){let d=1e3*r;a[0]=s[0],a[1]=s[1],d=Math.max(d,a[0],a[1]);let c=0,g=await new Promise((e,t)=>{let n=new FileReader;n.onload=(()=>e(new o(new i(n.result)))),n.readAsArrayBuffer(l),n.onerror=t}),p=[];for(let i of g.tags)18!=i.tagType||c?8!=i.tagType&&9!=i.tagType||(s[i.tagType-8]=d+i.getCombinedTimestamp(),i.setCombinedTimestamp(s[i.tagType-8]),p.push(i.tagHeader,i.tagData,i.previousSize)):(r+=i.getDuration(),c=1,l==e[0]&&(n.push(g.header,g.firstPreviousTagSize),({duration:r,durationDataView:t}=i.getDurationAndView()),i.stripKeyframesScriptData(),n.push(i.tagHeader),n.push(i.tagData),n.push(i.previousSize)));n.push(new Blob(p))}return t.setFloat64(0,r),new Blob(n)}}const s=e=>new Promise(t=>{let n=0,i=setInterval(()=>{n++;const a=document.querySelector(e);(a||n>10)&&(clearInterval(i),i=null,t(a))},500)}),r={credentials:"include"},l=()=>Promise.resolve({code:-1,message:"è·å–ä¸‹è½½åœ°å€å¤±è´¥ï¼Œå¯èƒ½æ˜¯ä¸´æ—¶æ€§çš„ç½‘ç»œé—®é¢˜ï¼Œå¯ä»¥å°è¯•æ¸…é™¤æµè§ˆå™¨cookieså’Œç¼“å­˜åé‡è¯•ï¼Œå¦‚å¤šæ¬¡é‡è¯•ä»ç„¶æŠ¥é”™ï¼Œè¯·é€šè¿‡é‚®ç®±æˆ–è€…QQç¾¤åé¦ˆç»™æˆ‘ï¼Œè°¢è°¢"}),d=e=>{if(!e.durl)return-10403===e.code?(e.message="è¯¥è§†é¢‘åªèƒ½ç™»é™†å¤§ä¼šå‘˜è´¦å·ä¹‹åä¸‹è½½ï¼Œå¦‚ç™»å½•åä»ç„¶æŠ¥é”™ï¼Œå¯ä»¥å°è¯•æ¸…é™¤æµè§ˆå™¨cookieså’Œç¼“å­˜åé‡è¯•",e):void 0!==e.code?e:{code:-2,message:"è¯¥è§†é¢‘æš‚æ—¶ä¸æ”¯æŒä¸‹è½½ï¼Œå¯ä»¥å°è¯•æ¸…é™¤æµè§ˆå™¨cookieså’Œç¼“å­˜åé‡è¯•ï¼Œå¦‚å¤šæ¬¡é‡è¯•ä»ç„¶æŠ¥é”™ï¼Œè¯·é€šè¿‡é‚®ç®±æˆ–è€…QQç¾¤åé¦ˆç»™æˆ‘ï¼Œè°¢è°¢"};const{accept_quality:t,accept_description:n}=e;return t.forEach((e,t)=>{c[e]=n[t]}),{code:0,durls:e.durl.map(e=>{const t=new URL(e.url);return t.protocol=window.location.protocol,{url:t.href,size:e.size}}),qualityDescription:c[e.quality]}},c={112:"é«˜æ¸…1080P+",80:"é«˜æ¸…1080P",74:"é«˜æ¸…720P60",64:"é«˜æ¸…720P",48:"é«˜æ¸…720P",32:"æ¸…æ™°480P",16:"æµç•…360P"},g=()=>"normal"!==localStorage.bilibili_helper_download_mode,p=()=>"off"!==localStorage.bilibili_helper_merge_mode,h=()=>"hide"===localStorage.bilibili_helper_show,m=e=>{const t=1073741824,n=1048576;return e>=t?`${(e/t).toFixed(2)}GB`:e>=n?`${(e/n).toFixed(2)}MB`:e>=1024?`${(e/1024).toFixed(2)}KB`:e+"B"},u=(e,t,n,i)=>0!==n?`<strong>${i}</strong>`:`<strong>${e}</strong> çš„ä¸‹è½½åœ°å€(å…±${t.length}ä¸ªåˆ†æ®µ)ï¼š`,f=(e,t,n,i)=>{if(0!==n)return"";if(!g())return e.map((e,n)=>`\n        <li><a title="${t}_åˆ†æ®µ${n+1}" download href="${e.url}">åˆ†æ®µ${n+1}</a><span class="size">(${m(e.size)})</span></li>\n      `).join("");if(g()&&!p())return e.map((e,n)=>{const i=encodeURIComponent(JSON.stringify(e));return`\n          <li><a title="${t}_åˆ†æ®µ${n+1}" mode="advanced" merge="off" href="#nogo" durl="${i}">åˆ†æ®µ${n+1}</a><span class="size">(${m(e.size)})</span><span durl="${i}" class="progress"></span></li>\n        `}).join("");if(g()&&p()){const n=encodeURIComponent(JSON.stringify(e));let i=0;return e.forEach(e=>i+=e.size),`<li><a title="${t}" durls="${n}" mode="advanced" merge="on" href="#nogo">åˆå¹¶ä¸‹è½½</a><span class="size">(å…±${m(i)})</span><ul style="margin-top: 8px;" durls="${n}" class="progress"></ul></li>`}},b=({code:e,title:t,durls:n,message:i,loading:a})=>{let o=document.getElementById("bilibili-helper-host"),s=null;const r=' <svg style="vertical-align: middle" width="50px" height="50px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid" class="lds-pacman"><g ng-attr-style="display:{{config.showBean}}" style="display:block"><circle cx="62.0973" cy="50" r="4" ng-attr-fill="{{config.c2}}" fill="#00a1d6"><animate attributeName="cx" calcMode="linear" values="95;35" keyTimes="0;1" dur="1" begin="-0.67s" repeatCount="indefinite"></animate><animate attributeName="fill-opacity" calcMode="linear" values="0;1;1" keyTimes="0;0.2;1" dur="1" begin="-0.67s" repeatCount="indefinite"></animate></circle><circle cx="82.4973" cy="50" r="4" ng-attr-fill="{{config.c2}}" fill="#00a1d6"><animate attributeName="cx" calcMode="linear" values="95;35" keyTimes="0;1" dur="1" begin="-0.33s" repeatCount="indefinite"></animate><animate attributeName="fill-opacity" calcMode="linear" values="0;1;1" keyTimes="0;0.2;1" dur="1" begin="-0.33s" repeatCount="indefinite"></animate></circle><circle cx="42.2973" cy="50" r="4" ng-attr-fill="{{config.c2}}" fill="#00a1d6"><animate attributeName="cx" calcMode="linear" values="95;35" keyTimes="0;1" dur="1" begin="0s" repeatCount="indefinite"></animate><animate attributeName="fill-opacity" calcMode="linear" values="0;1;1" keyTimes="0;0.2;1" dur="1" begin="0s" repeatCount="indefinite"></animate></circle></g><g ng-attr-transform="translate({{config.showBeanOffset}} 0)" transform="translate(-15 0)"><path d="M50 50L20 50A30 30 0 0 0 80 50Z" ng-attr-fill="{{config.c1}}" fill="#f45a8d" transform="rotate(10.946 50 50)"><animateTransform attributeName="transform" type="rotate" calcMode="linear" values="0 50 50;45 50 50;0 50 50" keyTimes="0;0.5;1" dur="1s" begin="0s" repeatCount="indefinite"></animateTransform></path><path d="M50 50L20 50A30 30 0 0 1 80 50Z" ng-attr-fill="{{config.c1}}" fill="#f45a8d" transform="rotate(-10.946 50 50)"><animateTransform attributeName="transform" type="rotate" calcMode="linear" values="0 50 50;-45 50 50;0 50 50" keyTimes="0;0.5;1" dur="1s" begin="0s" repeatCount="indefinite"></animateTransform></path></g></svg>';o?((s=o.shadowRoot).getElementById("title").innerHTML=a?"åŠ è½½ä¸­"+r:u(t,n,e,i),s.getElementById("durls").innerHTML=a?"":f(n,t,e)):((o=document.createElement("bilibili-helper-host")).id="bilibili-helper-host",o.style.cssText=`display:block;overflow:auto;position:fixed;z-index:${Number.MAX_SAFE_INTEGER};bottom:0;left:0;right:0;max-height:50%;width:100%;background: #fff;border-top: 1px solid #ccc;box-shadow: rgba(0, 0, 0, 0.2) 0 -5px 10px;`,h()?o.classList.add("hide"):o.classList.remove("hide"),o.innerHTML="<style>\n        #bilibili-helper-host.hide{\n          width:auto!important;\n          left:auto!important;\n          background:transparent!important;\n          border:0 none!important;\n          border-radius: 6px 0 0 0;\n          box-shadow: rgba(0, 0, 0, 0.2) -5px -5px 10px!important;\n        }\n        .player-fullscreen-fix #bilibili-helper-host {\n          z-index: 99999!important;\n        }\n      </style>",document.body.appendChild(o),(s=o.attachShadow({mode:"open"})).innerHTML=`\n        <style>\n          p, a, div, span, li, i, b, strong, input, button, label {\n            font-size: inherit;\n          }\n          li {\n            margin-bottom: 5px;\n          }\n          p {\n            margin: 0;\n            line-height: 1.5;\n          }\n          h1 {\n            font-size: 20px;\n            font-weight: bold;\n            margin-bottom: 20px;\n          }\n          h3 {\n            font-size: 16px;\n            margin: 1em 0;\n          }\n          #title {\n            font-size: 16px;\n            font-weight: normal;\n          }\n          #content {\n            display: flex;\n            width: 100%;\n            font-size: 14px;\n            position: relative;\n          }\n          a {\n            color: #00a1d6 !important;\n            text-decoration: none;\n          }\n          a:hover {\n            text-decoration: underline;\n          }\n          a.disabled {\n            color: #666!important;\n          }\n          a.disabled:hover {\n            text-decoration: none;\n            cursor: not-allowed;\n          }\n          #side-bar {\n            flex: 3;\n            padding: 20px;\n            border-right: 1px solid #ccc;\n            margin-right: -1px;\n          }\n          #main {\n            flex: 7;\n            padding: 20px;\n            border-left: 1px solid #ccc;\n          }\n          #notice-frame {\n            width: 100%;\n            padding: 0;\n          }\n          .donate {\n            border-top: 1px solid #ccc;\n            padding-top: 10px;\n          }\n          #zanshang {\n            width: 80%;\n          }\n          .setting-item {\n            margin-bottom: 8px;\n          }\n          .setting-item .label {\n            font-weight: bold;\n            width: 6em;\n            display: inline-block;\n            text-align: right;\n          }\n          .desc {\n            padding-left: 6em;\n          }\n          #actions {\n            position: absolute;\n            right: 0;\n            top: 0;\n          }\n          .btn-large {\n            border: 0 none;\n            background: #f45a8d;\n            border-radius: 6px;\n            color: #fff;\n            padding: 10px 20px;\n          }\n          #toggle {\n            border-radius: 0 0 0 6px;\n            outline: none;\n            cursor: pointer;\n          }\n          .hide #side-bar {\n            display: none;\n          }\n          .hide #main {\n            display: none;\n          }\n          .hide #toggle {\n            border-radius: 6px 0 0 0;\n          }\n          .hide #actions {\n            position: static;\n          }\n      \n          a.btn {\n            border: 0 none;\n            background: #f45a8d;\n            text-decoration: none !important;\n            color: #fff !important;\n            border-radius: 3px;\n            padding: 5px 10px;\n            display: inline-block;\n          }\n          .settings {\n            border-left: 5px solid #ccc;\n            background: #eee;\n            padding: 16px 16px 8px 0;\n          }\n          .size {\n            margin: 0 5px;\n          }\n        </style>\n        <div id="content" ${h()?'class="hide"':""}>\n          <div id="side-bar">\n            <div class="notice">\n              <iframe id="notice-frame" frameborder="0"></iframe>\n            </div>\n            \x3c!--<div class="support">TODO æ”¯æŒåŒºåŸŸ</div>--\x3e\n            <div class="donate">\n              <p>å¾®ä¿¡æ‰«ä¸€æ‰«èµèµä½œè€…(æ‰«ä¸å‡ºæ¥è¯·ç‚¹å‡»å›¾ç‰‡åæ‰«å¤§å›¾)ï¼š</p>\n              <a href="${internalUrls.zanshang}" target="_blank"><img title="ç‚¹å‡»æŸ¥çœ‹å¤§å›¾" alt="ç‚¹å‡»æŸ¥çœ‹å¤§å›¾" id="zanshang" src="${internalUrls.zanshang}"/></a>\n            </div>\n          </div>\n          <div id="main">\n            <h1 style="margin-top: 0;">Bç«™ä¸‹è½½åŠ©æ‰‹</h1>\n            <div class="settings">\n              <div class="setting-item">\n                <span class="label">æ¸…æ™°åº¦ï¼š</span>\n                <span>è¯·åœ¨é¡µé¢ä¸­Bç«™è‡ªå·±çš„æ’­æ”¾å™¨å†…åˆ‡æ¢æ¸…æ™°åº¦</span>\n              </div>\n              <div class="setting-item">\n                <span class="label">ä¸‹è½½æ¨¡å¼ï¼š</span>\n                <label><input id="setting-download-mode-advanced" checked name="setting-download-mode" type="radio"/> é«˜çº§</label>\n                <label><input id="setting-download-mode-normal" name="setting-download-mode" type="radio"/> å…¼å®¹</label>\n                <p class="desc">é«˜çº§æ¨¡å¼æ”¯æŒè‡ªåŠ¨é‡å‘½åå’Œåˆå¹¶ä¸‹è½½ï¼Œä½†ä¼šå ç”¨éå¸¸å¤§çš„ç³»ç»Ÿè¿è¡Œå†…å­˜<br/>å…¼å®¹æ¨¡å¼ç›´æ¥ä½¿ç”¨æµè§ˆå™¨çš„é»˜è®¤ä¸‹è½½ï¼Œèµ„æºå ç”¨å¾ˆå°ï¼Œä½†ä¸æ”¯æŒè‡ªåŠ¨é‡å‘½åå’Œåˆå¹¶ä¸‹è½½</p>\n                <p class="desc">å»ºè®®ç³»ç»Ÿè¿è¡Œå†…å­˜å°äº16Gçš„ç”¨æˆ·ä½¿ç”¨å…¼å®¹æ¨¡å¼ï¼Œä¸‹è½½åå¯ä»¥ç‚¹<a href="http://csser.top/bilibili/merge.html" target="_blank">è¿™é‡Œ</a>å°è¯•æ‰‹åŠ¨åˆå¹¶</p>\n              </div>\n              <div class="setting-item" id="setting-advanced">\n                <span class="label">åˆå¹¶ä¸‹è½½ï¼š</span>\n                <label><input id="setting-merge-on" checked name="setting-merge" type="radio"> å¼€</label>\n                <label><input id="setting-merge-off" name="setting-merge" type="radio"> å…³</label>\n                <p class="desc">é«˜çº§æ¨¡å¼ä¸‹è½½è¿‡ç¨‹ä¸­è¯·<strong style="color: red;">ä¸è¦</strong>åˆ·æ–°æˆ–å…³é—­é¡µé¢ï¼Œä¹Ÿ<strong style="color: red;">ä¸è¦</strong>åˆ‡æ¢åˆ†é›†å’Œæ¸…æ™°åº¦</p>\n              </div>\n            </div>\n            <h3 id="title">${a?"åŠ è½½ä¸­"+r:u(t,n,e,i)}</h3>\n            <ul id="durls">\n              ${a?"":f(n,t,e)}\n            </ul>\n            <div class="beg">\n              <p>\n                å¦‚æœè¿™ä¸ªå·¥å…·ç¡®å®å¸®åˆ°äº†æ‚¨ï¼Œçƒ¦è¯·åœ¨Chromeå•†åº—ç»™ä¸ªäº”æ˜Ÿå¥½è¯„ï¼Œè°¢è°¢ğŸ˜Š\n                <a class="btn" href="https://chrome.google.com/webstore/detail/bfcbfobhcjbkilcbehlnlchiinokiijp/reviews" target="_blank">å»è¯„ä»·</a>\n              </p>\n            </div>\n          </div>\n          <div id="actions">\n            <button id="toggle" class="btn-large">${h()?"æ‰“å¼€Bç«™ä¸‹è½½åŠ©æ‰‹":"æ”¶èµ·"}</button>\n          </div>\n        </div>\n      `,(e=>{const t=e.getElementById("setting-download-mode-advanced"),n=e.getElementById("setting-download-mode-normal"),i=e.getElementById("setting-merge-on"),a=e.getElementById("setting-merge-off"),o=e.getElementById("setting-advanced"),s=e.getElementById("durls"),r=e.getElementById("toggle"),l=e.getElementById("actions"),d=e.getElementById("content"),c=document.getElementById("bilibili-helper-host"),m=()=>{t.disabled=!0,n.disabled=!0,i.disabled=!0,a.disabled=!0},u=()=>{t.disabled=!1,n.disabled=!1,i.disabled=!1,a.disabled=!1};g()?(t.checked=!0,n.checked=!1,o.style.display="block"):(t.checked=!1,n.checked=!0,o.style.display="none"),p()?(i.checked=!0,a.checked=!1):(i.checked=!1,a.checked=!0);const f=()=>{e.buildDownloadLinks()};t.addEventListener("change",()=>{t.checked?(localStorage.bilibili_helper_download_mode="advanced",o.style.display="block"):(localStorage.bilibili_helper_download_mode="normal",o.style.display="none"),f()}),n.addEventListener("change",()=>{n.checked?(localStorage.bilibili_helper_download_mode="normal",o.style.display="none"):(localStorage.bilibili_helper_download_mode="advanced",o.style.display="block"),f()}),i.addEventListener("change",()=>{localStorage.bilibili_helper_merge_mode=i.checked?"on":"off",f()}),a.addEventListener("change",()=>{localStorage.bilibili_helper_merge_mode=a.checked?"off":"on",f()}),s.addEventListener("click",t=>{const n=t.target;if("a"===n.tagName.toLowerCase()&&"advanced"===n.getAttribute("mode")){if(t.preventDefault(),t.stopPropagation(),n.classList.contains("disabled"))return;let i=null;const a=n.getAttribute("title");"on"===n.getAttribute("merge")?(i=e.querySelector(`ul[durls="${n.getAttribute("durls")}"]`),m(),x(n,JSON.parse(decodeURIComponent(n.getAttribute("durls"))),a,i).then(u)):(i=e.querySelector(`span[durl="${n.getAttribute("durl")}"]`),m(),v(n,JSON.parse(decodeURIComponent(n.getAttribute("durl"))),a,i).then(u))}}),r.addEventListener("click",()=>{h()?(localStorage.bilibili_helper_show="show",d.classList.remove("hide"),r.innerHTML="æ”¶èµ·",c.classList.remove("hide"),l.style.top="0",e.getElementById("notice-frame").contentWindow.postMessage({action:"getHeight"},"https://csser.top")):(localStorage.bilibili_helper_show="hide",d.classList.add("hide"),c.classList.add("hide"),r.innerHTML="æ‰“å¼€Bç«™ä¸‹è½½åŠ©æ‰‹",l.style.top="0")}),c.addEventListener("scroll",()=>{l.style.top=c.scrollTop+"px"})})(s),(e=>{const t=e.getElementById("notice-frame");t.onload=(()=>{t.contentWindow.postMessage({action:"getHeight"},"https://csser.top"),t.contentWindow.postMessage({action:"setVersion",version:{name:manifest.version,code:parseInt(manifest.version.replace(/\./g,""),10)}},"https://csser.top"),t.contentWindow.postMessage({action:"setTheme",theme:"null"},"https://csser.top")}),window.addEventListener("message",e=>{if("https://csser.top"===e.origin&&e.data&&"reportHeight"===e.data.action&&(t.style.height=e.data.height+10+"px"),"https://csser.top"===e.origin&&e.data&&"showBilibilihelperindooorsmanNoticeDialog"===e.data.action){const t=e.data.notices;t&&t.length>0&&t.forEach(e=>{})}}),t.src=`https://csser.top/bilibili/notice.html?t=${Date.now()}`,window.addEventListener("resize",()=>{t.contentWindow.postMessage({action:"getHeight"},"https://csser.top")})})(s)),s.buildDownloadLinks=(()=>{s.getElementById("durls").innerHTML=f(n,t,e)})},y=(e,t)=>{const n=new Blob([e],{type:"application/octet-stream"}),i=document.createElement("a");i.setAttribute("href",URL.createObjectURL(n)),i.setAttribute("download",t),i.setAttribute("style","position:absolute;top:-9999px;"),document.body.appendChild(i);const a=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});i.dispatchEvent(a),setTimeout(()=>{document.body.removeChild(i)},1e3)},w=(e,t,n)=>{let i=null;return fetch(e).then(e=>{const a=e.headers.get("content-length"),o=t||parseInt(a,10);let s=0;return i=setInterval(()=>{n(s,o)},1e3),new Response(new ReadableStream({start(t){const n=e.body.getReader(),i=()=>{n.read().then(({done:e,value:n})=>{e?t.close():(s+=n.byteLength,t.enqueue(n),i())}).catch(e=>{t.error(e)})};i()}}))}).then(e=>e.blob()).finally(()=>{i&&clearInterval(i)})},v=(e,{url:t,size:n},i,a)=>(e.classList.add("disabled"),w(t,n,(e,t)=>{const n=Math.ceil(e/t*100);a.innerHTML=` æ­£åœ¨ä¸‹è½½ - ${e}/${t} - ${n}%`}).then(e=>{a.innerHTML=" å·²ä¸‹è½½å®Œæˆ";const n=new URL(t).pathname.toLowerCase().match(/\.[a-z0-9]+?$/)[0];y(e,i+n)}).finally(()=>{e.classList.remove("disabled")})),x=(e,t,n,i)=>{if(1===t.length)return v(e,t[0],n,i);e.classList.add("disabled");const a=t.map(({url:e,size:t},n)=>{const a=document.createElement("li");return a.innerHTML=`åˆ†æ®µ${n+1} (${m(t)}) æ­£åœ¨ä¸‹è½½`,i.appendChild(a),w(e,t,(e,i)=>{const o=Math.ceil(e/i*100);a.innerHTML=`åˆ†æ®µ${n+1} (${m(t)}) æ­£åœ¨ä¸‹è½½ - ${e}/${i} - ${o}%`}).then(e=>(a.innerHTML=`åˆ†æ®µ${n+1} (${m(t)}) å·²ä¸‹è½½å®Œæˆï¼Œç­‰å¾…åˆå¹¶`,e))});return Promise.all(a).then(async e=>{const t=await o.mergeBlobs(Array.from(e));y(t,n+".flv"),i.innerHTML="å·²å®Œæˆ"}).finally(()=>{e.classList.remove("disabled")})},_=async()=>{if(!e())return;b({loading:!0});const i=await(()=>fetch(window.location.href,r).then(e=>e.text()).then(e=>{const t=e.match(/<script>window.__INITIAL_STATE__=(.+?)<\/script>/);return t&&t[1]?JSON.parse(t[1].replace(";(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());","")):{code:-2,message:"è·å–è§†é¢‘ä¿¡æ¯å¤±è´¥ï¼Œå¯ä»¥å°è¯•æ¸…é™¤æµè§ˆå™¨cookieså’Œç¼“å­˜åé‡è¯•ï¼Œå¦‚å¤šæ¬¡é‡è¯•ä»ç„¶æŠ¥é”™ï¼Œè¯·é€šè¿‡é‚®ç®±æˆ–QQç¾¤åé¦ˆç»™æˆ‘ï¼Œè°¢è°¢"}}).catch(()=>l()))();if(i.code)return b(i);let a=localStorage.bilibili_player_settings&&+JSON.parse(localStorage.bilibili_player_settings).setting_config.defquality||112;if(t()){const e=i.videoData.aid;let t,n,o=i.videoData.cid;if(i.videoData.pages.length>1){const e=location.search.match(/p=(\d+)/);let a=i.videoData.pages[0];e&&e[1]&&(a=i.videoData.pages.find(t=>""+t.page==""+e[1])),t=a.page,n=a.part,o=a.cid}const{code:s,durls:c,qualityDescription:g,message:p}=await((e,t,n=112)=>{return fetch(`//api.bilibili.com/x/player/playurl?cid=${t}&avid=${e}&otype=json&qn=${n}`,r).then(e=>e.json()).then(e=>0!==e.code?d(e):d(e.data)).catch(()=>l())})(e,o,a);if(0===s){let e=`[${g}] ${i.videoData.title}`;t&&n&&(e=`[${g}] ${i.videoData.title}_P${t}_${n}`),b({code:s,title:e,durls:c,message:p})}else b({code:s,message:p})}if(n()){const e=i.epList;let t=-1===i.epId?e[e.length-1].ep_id:i.epId,n=e.find(e=>t===e.ep_id);const o=await s(".episode-item.on"),c=await s(".ep-item.cursor");if(o||c){const i=o||c,a=i.parentElement;let r=Array.from(a.querySelectorAll("li")).findIndex(e=>e===i);const l=await s("#eplist_module .ep-list-progress");l&&(r=+l.textContent.match(/(\d+)\/\d+/)[1]-1),n=e[r],t=n.ep_id||n.id}const{code:g,durls:p,qualityDescription:h,message:m}=await((e,t=112)=>{return fetch(`//api.bilibili.com/pgc/player/web/playurl/?ep_id=${e}&qn=${t}&bsource=`,r).then(e=>e.json()).then(e=>0!==e.code?d(e):d(e.result)).catch(()=>l())})(t,a);if(0===g){const e=`[${h}] ${i.mediaInfo.title}_${n.index||n.title}_${n.index_title||n.longTitle}`;b({code:g,title:e,durls:p,message:m})}else b({code:g,message:m})}};_();let $=""+window.location.href,L=""+localStorage.bilibili_player_settings;setInterval(()=>{const e=window.location.href,t=localStorage.bilibili_player_settings;if($!==e&&($=e,_()),L!==t)try{if(JSON.parse(t).setting_config.defquality===JSON.parse(L).setting_config.defquality)return;L=t,_()}catch(e){}},1e3)})();</script><script async="" src="./WNODE_HEADER structure (Wmistr.h) - Win32 apps _ Microsoft Docs_files/t.js(2).ä¸‹è½½"></script><script async="" src="./WNODE_HEADER structure (Wmistr.h) - Win32 apps _ Microsoft Docs_files/t.js(3).ä¸‹è½½"></script><script async="" src="./WNODE_HEADER structure (Wmistr.h) - Win32 apps _ Microsoft Docs_files/t.js(4).ä¸‹è½½"></script><script async="" src="./WNODE_HEADER structure (Wmistr.h) - Win32 apps _ Microsoft Docs_files/t.js(5).ä¸‹è½½"></script><script async="" src="./WNODE_HEADER structure (Wmistr.h) - Win32 apps _ Microsoft Docs_files/t.js(6).ä¸‹è½½"></script><script async="" src="./WNODE_HEADER structure (Wmistr.h) - Win32 apps _ Microsoft Docs_files/t.js(7).ä¸‹è½½"></script><script async="" src="./WNODE_HEADER structure (Wmistr.h) - Win32 apps _ Microsoft Docs_files/t.js(8).ä¸‹è½½"></script><script async="" src="./WNODE_HEADER structure (Wmistr.h) - Win32 apps _ Microsoft Docs_files/t.js(9).ä¸‹è½½"></script><script async="" src="./WNODE_HEADER structure (Wmistr.h) - Win32 apps _ Microsoft Docs_files/t.js(10).ä¸‹è½½"></script><script async="" src="./WNODE_HEADER structure (Wmistr.h) - Win32 apps _ Microsoft Docs_files/t.js(11).ä¸‹è½½"></script><script async="" src="./WNODE_HEADER structure (Wmistr.h) - Win32 apps _ Microsoft Docs_files/t.js(12).ä¸‹è½½"></script><script async="" src="./WNODE_HEADER structure (Wmistr.h) - Win32 apps _ Microsoft Docs_files/t.js(13).ä¸‹è½½"></script><script async="" src="./WNODE_HEADER structure (Wmistr.h) - Win32 apps _ Microsoft Docs_files/t.js(14).ä¸‹è½½"></script><script async="" src="./WNODE_HEADER structure (Wmistr.h) - Win32 apps _ Microsoft Docs_files/t.js(15).ä¸‹è½½"></script><script async="" src="./WNODE_HEADER structure (Wmistr.h) - Win32 apps _ Microsoft Docs_files/t.js(16).ä¸‹è½½"></script><script async="" src="./WNODE_HEADER structure (Wmistr.h) - Win32 apps _ Microsoft Docs_files/t.js(17).ä¸‹è½½"></script><script async="" src="./WNODE_HEADER structure (Wmistr.h) - Win32 apps _ Microsoft Docs_files/t.js(18).ä¸‹è½½"></script><script async="" src="./WNODE_HEADER structure (Wmistr.h) - Win32 apps _ Microsoft Docs_files/t.js(19).ä¸‹è½½"></script><script async="" src="./WNODE_HEADER structure (Wmistr.h) - Win32 apps _ Microsoft Docs_files/t.js(20).ä¸‹è½½"></script><script async="" src="./WNODE_HEADER structure (Wmistr.h) - Win32 apps _ Microsoft Docs_files/t.js(21).ä¸‹è½½"></script><script async="" src="./WNODE_HEADER structure (Wmistr.h) - Win32 apps _ Microsoft Docs_files/t.js(22).ä¸‹è½½"></script><script async="" src="./WNODE_HEADER structure (Wmistr.h) - Win32 apps _ Microsoft Docs_files/t.js(23).ä¸‹è½½"></script><script async="" src="./WNODE_HEADER structure (Wmistr.h) - Win32 apps _ Microsoft Docs_files/t.js(24).ä¸‹è½½"></script><script async="" src="./WNODE_HEADER structure (Wmistr.h) - Win32 apps _ Microsoft Docs_files/t.js(25).ä¸‹è½½"></script><script async="" src="./WNODE_HEADER structure (Wmistr.h) - Win32 apps _ Microsoft Docs_files/t.js(26).ä¸‹è½½"></script><script async="" src="./WNODE_HEADER structure (Wmistr.h) - Win32 apps _ Microsoft Docs_files/t.js(27).ä¸‹è½½"></script><script async="" src="./WNODE_HEADER structure (Wmistr.h) - Win32 apps _ Microsoft Docs_files/t.js(28).ä¸‹è½½"></script><script async="" src="./WNODE_HEADER structure (Wmistr.h) - Win32 apps _ Microsoft Docs_files/t.js(29).ä¸‹è½½"></script><script async="" src="./WNODE_HEADER structure (Wmistr.h) - Win32 apps _ Microsoft Docs_files/t.js(30).ä¸‹è½½"></script><script async="" src="./WNODE_HEADER structure (Wmistr.h) - Win32 apps _ Microsoft Docs_files/t.js(31).ä¸‹è½½"></script><script async="" src="./WNODE_HEADER structure (Wmistr.h) - Win32 apps _ Microsoft Docs_files/t.js(32).ä¸‹è½½"></script><script async="" src="./WNODE_HEADER structure (Wmistr.h) - Win32 apps _ Microsoft Docs_files/t.js(33).ä¸‹è½½"></script><script async="" src="./WNODE_HEADER structure (Wmistr.h) - Win32 apps _ Microsoft Docs_files/t.js(34).ä¸‹è½½"></script><script async="" src="./WNODE_HEADER structure (Wmistr.h) - Win32 apps _ Microsoft Docs_files/t.js(35).ä¸‹è½½"></script><script async="" src="./WNODE_HEADER structure (Wmistr.h) - Win32 apps _ Microsoft Docs_files/t.js(36).ä¸‹è½½"></script><script async="" src="./WNODE_HEADER structure (Wmistr.h) - Win32 apps _ Microsoft Docs_files/t.js(37).ä¸‹è½½"></script><script async="" src="./WNODE_HEADER structure (Wmistr.h) - Win32 apps _ Microsoft Docs_files/t.js(38).ä¸‹è½½"></script><script async="" src="./WNODE_HEADER structure (Wmistr.h) - Win32 apps _ Microsoft Docs_files/t.js(39).ä¸‹è½½"></script><script async="" src="./WNODE_HEADER structure (Wmistr.h) - Win32 apps _ Microsoft Docs_files/t.js(40).ä¸‹è½½"></script><script async="" src="./WNODE_HEADER structure (Wmistr.h) - Win32 apps _ Microsoft Docs_files/t.js(41).ä¸‹è½½"></script><script async="" src="./WNODE_HEADER structure (Wmistr.h) - Win32 apps _ Microsoft Docs_files/t.js(42).ä¸‹è½½"></script><script async="" src="./WNODE_HEADER structure (Wmistr.h) - Win32 apps _ Microsoft Docs_files/t.js(43).ä¸‹è½½"></script><script async="" src="./WNODE_HEADER structure (Wmistr.h) - Win32 apps _ Microsoft Docs_files/t.js(44).ä¸‹è½½"></script><script async="" src="./WNODE_HEADER structure (Wmistr.h) - Win32 apps _ Microsoft Docs_files/t.js(45).ä¸‹è½½"></script><script async="" src="./WNODE_HEADER structure (Wmistr.h) - Win32 apps _ Microsoft Docs_files/t.js(46).ä¸‹è½½"></script><link type="text/css" rel="stylesheet" charset="UTF-8" href="./WNODE_HEADER structure (Wmistr.h) - Win32 apps _ Microsoft Docs_files/translateelement.css"><script async="" src="./WNODE_HEADER structure (Wmistr.h) - Win32 apps _ Microsoft Docs_files/t.js(47).ä¸‹è½½"></script><script async="" src="./WNODE_HEADER structure (Wmistr.h) - Win32 apps _ Microsoft Docs_files/t.js(48).ä¸‹è½½"></script><script async="" src="./WNODE_HEADER structure (Wmistr.h) - Win32 apps _ Microsoft Docs_files/t.js(49).ä¸‹è½½"></script><script async="" src="./WNODE_HEADER structure (Wmistr.h) - Win32 apps _ Microsoft Docs_files/t.js(50).ä¸‹è½½"></script><script async="" src="https://web.vortex.data.microsoft.com/collect/v1/t.js?ver=%272.1%27&amp;name=%27Ms.Webi.PageAction%27&amp;time=%272019-11-14T13%3A10%3A34.235Z%27&amp;os=%27Windows%27&amp;appId=%27JS%3ADocs%27&amp;-ver=%271.0%27&amp;-impressionGuid=%270ce288e3-fb7e-431b-9b78-509672c2e715%27&amp;-pageName=%2733059b62-b06e-9039-8ab6-91b33e801dc0%27&amp;-uri=%27https%3A%2F%2Fdocs.microsoft.com%2Fen-us%2Fwindows%2Fwin32%2Fetw%2Fwnode-header%27&amp;-pageTags=%27%7B%22author%22%3A%22Karl-Bridge-Microsoft%22%2C%22pgauth%22%3A%22kbridge%22%2C%22technology%22%3A%22diagnostics%22%2C%22product%22%3A%22desktop%22%2C%22asst%22%3A%22862a8f46-a326-48c6-92b7-8bb667837bb7%22%2C%22pgtop%22%3A%22reference%22%2C%22date%22%3A%2205%2F31%2F2018%22%2C%22depotname%22%3A%22MSDN.win32%22%2C%22publishtime%22%3A%222019-11-09%2001%3A30%20AM%22%2C%22gitcommit%22%3A%22https%3A%2F%2Fgithub.com%2FMicrosoftDocs%2Fwin32-pr%2Fblob%2Fbe04b9680925bb1f11ebfb87e4052b3cdc5da745%2Fdesktop-src%2FETW%2Fwnode-header.md%22%2C%22giturl%22%3A%22https%3A%2F%2Fgithub.com%2FMicrosoftDocs%2Fwin32-pr%2Fblob%2Flive%2Fdesktop-src%2FETW%2Fwnode-header.md%22%2C%22document_version_independent_id%22%3A%2205145eba-4258-d2f5-24b5-180af511e08d%22%2C%22contentlocale%22%3A%22en-us%22%2C%22highContrast%22%3A%22false%22%2C%22metaTags%22%3A%7B%7D%7D%27&amp;-contentVer=%272.0%27&amp;-market=%27en-us%27&amp;-pageType=%27conceptual%27&amp;-actionType=%27O%27&amp;-behavior=300&amp;-content=%27%5B%7B%22event%22%3A%22page-visibility-changed%22%2C%22value%22%3A%22hidden%22%7D%5D%27&amp;*baseType=%27Ms.Content.PageAction%27&amp;*timeToAction=1870144&amp;*cookieEnabled=true&amp;*isJs=true&amp;*title=%27WNODE_HEADER%20structure%20(Wmistr.h)%20-%20Win32%20apps%20%7C%20Microsoft%20Docs%27&amp;*isLoggedIn=false&amp;*isManual=true&amp;*referrerUri=%27https%3A%2F%2Fdocs.microsoft.com%2Fen-us%2Fwindows%2Fwin32%2Fetw%2Fevent-trace-properties%27&amp;ext-javascript-ver=%271.1%27&amp;ext-javascript-libVer=%274.2.14%27&amp;ext-javascript-domain=%27docs.microsoft.com%27&amp;ext-javascript-msfpc=%27GUID%3Dae1e712b3e794d648d085d92083651f9%26HASH%3Dae1e%26LV%3D201909%26V%3D4%26LU%3D1567830522049%27&amp;ext-javascript-userConsent=false&amp;ext-user-localId=%27t%3A055DDF596BD66EAB2878D28B6FD66884%27&amp;$mscomCookies=false"></script><script async="" src="https://web.vortex.data.microsoft.com/collect/v1/t.js?ver=%272.1%27&amp;name=%27Ms.Webi.PageAction%27&amp;time=%272019-11-14T13%3A10%3A35.167Z%27&amp;os=%27Windows%27&amp;appId=%27JS%3ADocs%27&amp;-ver=%271.0%27&amp;-impressionGuid=%270ce288e3-fb7e-431b-9b78-509672c2e715%27&amp;-pageName=%2733059b62-b06e-9039-8ab6-91b33e801dc0%27&amp;-uri=%27https%3A%2F%2Fdocs.microsoft.com%2Fen-us%2Fwindows%2Fwin32%2Fetw%2Fwnode-header%27&amp;-pageTags=%27%7B%22author%22%3A%22Karl-Bridge-Microsoft%22%2C%22pgauth%22%3A%22kbridge%22%2C%22technology%22%3A%22diagnostics%22%2C%22product%22%3A%22desktop%22%2C%22asst%22%3A%22862a8f46-a326-48c6-92b7-8bb667837bb7%22%2C%22pgtop%22%3A%22reference%22%2C%22date%22%3A%2205%2F31%2F2018%22%2C%22depotname%22%3A%22MSDN.win32%22%2C%22publishtime%22%3A%222019-11-09%2001%3A30%20AM%22%2C%22gitcommit%22%3A%22https%3A%2F%2Fgithub.com%2FMicrosoftDocs%2Fwin32-pr%2Fblob%2Fbe04b9680925bb1f11ebfb87e4052b3cdc5da745%2Fdesktop-src%2FETW%2Fwnode-header.md%22%2C%22giturl%22%3A%22https%3A%2F%2Fgithub.com%2FMicrosoftDocs%2Fwin32-pr%2Fblob%2Flive%2Fdesktop-src%2FETW%2Fwnode-header.md%22%2C%22document_version_independent_id%22%3A%2205145eba-4258-d2f5-24b5-180af511e08d%22%2C%22contentlocale%22%3A%22en-us%22%2C%22highContrast%22%3A%22false%22%2C%22metaTags%22%3A%7B%7D%7D%27&amp;-contentVer=%272.0%27&amp;-market=%27en-us%27&amp;-pageType=%27conceptual%27&amp;-actionType=%27O%27&amp;-behavior=300&amp;-content=%27%5B%7B%22event%22%3A%22page-focus-changed%22%2C%22value%22%3A%22blur%22%7D%5D%27&amp;*baseType=%27Ms.Content.PageAction%27&amp;*timeToAction=1871076&amp;*cookieEnabled=true&amp;*isJs=true&amp;*title=%27WNODE_HEADER%20structure%20(Wmistr.h)%20-%20Win32%20apps%20%7C%20Microsoft%20Docs%27&amp;*isLoggedIn=false&amp;*isManual=true&amp;*referrerUri=%27https%3A%2F%2Fdocs.microsoft.com%2Fen-us%2Fwindows%2Fwin32%2Fetw%2Fevent-trace-properties%27&amp;ext-javascript-ver=%271.1%27&amp;ext-javascript-libVer=%274.2.14%27&amp;ext-javascript-domain=%27docs.microsoft.com%27&amp;ext-javascript-msfpc=%27GUID%3Dae1e712b3e794d648d085d92083651f9%26HASH%3Dae1e%26LV%3D201909%26V%3D4%26LU%3D1567830522049%27&amp;ext-javascript-userConsent=false&amp;ext-user-localId=%27t%3A055DDF596BD66EAB2878D28B6FD66884%27&amp;$mscomCookies=false"></script></head>

<body lang="en-us" dir="ltr">
<div class="header-holder has-default-focus">
	<a href="https://docs.microsoft.com/en-us/windows/win32/etw/wnode-header#main" class="skip-to-main-link visually-hidden-until-focused is-fixed has-inner-focus focus-visible has-top-zero has-left-zero has-right-zero has-padding-medium has-text-centered has-body-background-medium" tabindex="1">Skip to main content</a>
		<div id="headerAreaHolder" data-bi-name="header"><!----><!----><header class="nav-bar" role="banner" itemscope="itemscope" itemtype="http://schema.org/Organization"><!---->
		
		<button class="nav-bar-burger" aria-label="Global navigation" aria-controls="ax-6" aria-expanded="false">
			<span></span>
			<span></span>
			<span></span>
		</button>
		<nav class="nav-bar-mobile-nav" role="navigation" id="ax-6" aria-label="Global" hidden="">
			<ul class="nav-bar-mobile-nav-list">
				<!---->
		<li class="nav-bar-mobile-nav-item">
			<a class="nav-bar-button" href="https://developer.microsoft.com/en-us/windows"><!---->Windows Dev Center<!----></a>
		</li><!---->
		<li class="nav-bar-mobile-nav-item">
			<button class="nav-bar-button" aria-controls="ax-7" aria-expanded="false">
				<span><!---->Explore<!----></span>
				<span class="nav-bar-button-chevron" aria-hidden="true">
					<span class="docon docon-chevron-down-light expanded-indicator"></span>
				</span>
			</button>
			<ul class="nav-bar-mobile-nav-list" id="ax-7" aria-label="Explore" hidden="">
				<!----><li><!---->
		<li class="nav-bar-mobile-nav-item">
			<a class="nav-bar-button" href="https://developer.microsoft.com/en-us/windows/get-started-windows-10"><!---->Get started developing for Windows<!----></a>
		</li><!----></li><!----><li><!---->
		<li class="nav-bar-mobile-nav-item">
			<a class="nav-bar-button" href="https://developer.microsoft.com/en-us/windows/windows-10-for-developers"><!---->Whatâ€™s new for Windows 10<!----></a>
		</li><!----></li><!----><li><!---->
		<li class="nav-bar-mobile-nav-item">
			<a class="nav-bar-button" href="https://developer.microsoft.com/en-us/windows/enterprise"><!---->Build for enterprise<!----></a>
		</li><!----></li><!----><li><!---->
		<li class="nav-bar-mobile-nav-item">
			<a class="nav-bar-button" href="https://developer.microsoft.com/en-us/windows/accessible-apps"><!---->Develop for accessibility<!----></a>
		</li><!----></li><!----><li><!---->
		<li class="nav-bar-mobile-nav-item">
			<a class="nav-bar-button" href="https://developer.microsoft.com/en-us/windows/ad-monetization-platform"><!---->Ad Monetization platform<!----></a>
		</li><!----></li><!---->
			</ul>
		</li><!---->
		<li class="nav-bar-mobile-nav-item">
			<button class="nav-bar-button" aria-controls="ax-8" aria-expanded="false">
				<span><!---->Platforms<!----></span>
				<span class="nav-bar-button-chevron" aria-hidden="true">
					<span class="docon docon-chevron-down-light expanded-indicator"></span>
				</span>
			</button>
			<ul class="nav-bar-mobile-nav-list" id="ax-8" aria-label="Platforms" hidden="">
				<!----><li><!---->
		<li class="nav-bar-mobile-nav-item">
			<a class="nav-bar-button" href="https://docs.microsoft.com/en-us/windows/apps/desktop/"><!---->Windows PCs<!----></a>
		</li><!----></li><!----><li><!---->
		<li class="nav-bar-mobile-nav-item">
			<a class="nav-bar-button" href="https://developer.microsoft.com/en-us/windows/iot"><!---->Windows IoT<!----></a>
		</li><!----></li><!----><li><!---->
		<li class="nav-bar-mobile-nav-item">
			<a class="nav-bar-button" href="https://developer.microsoft.com/en-us/mixed-reality"><!---->Mixed Reality<!----></a>
		</li><!----></li><!----><li><!---->
		<li class="nav-bar-mobile-nav-item">
			<a class="nav-bar-button" href="https://developer.microsoft.com/en-us/games"><!---->Games<!----></a>
		</li><!----></li><!----><li><!---->
		<li class="nav-bar-mobile-nav-item">
			<a class="nav-bar-button" href="https://developer.microsoft.com/en-us/web"><!---->Web<!----></a>
		</li><!----></li><!----><li><!---->
		<li class="nav-bar-mobile-nav-item">
			<a class="nav-bar-button" href="https://docs.microsoft.com/en-us/windows/uwp/"><!---->UWP<!----></a>
		</li><!----></li><!---->
			</ul>
		</li><!---->
		<li class="nav-bar-mobile-nav-item">
			<a class="nav-bar-button" href="https://docs.microsoft.com/en-us/windows/"><!---->Docs<!----></a>
		</li><!---->
		<li class="nav-bar-mobile-nav-item">
			<a class="nav-bar-button" href="https://developer.microsoft.com/en-us/windows/downloads"><!---->Downloads<!----></a>
		</li><!---->
		<li class="nav-bar-mobile-nav-item">
			<a class="nav-bar-button" href="https://developer.microsoft.com/en-us/windows/samples"><!---->Samples<!----></a>
		</li><!---->
		<li class="nav-bar-mobile-nav-item">
			<a class="nav-bar-button" href="https://developer.microsoft.com/en-us/windows/support"><!---->Support<!----></a>
		</li><!---->
		<li class="nav-bar-mobile-nav-item">
			<a class="nav-bar-button" href="https://partner.microsoft.com/dashboard"><!---->Dashboard<!----></a>
		</li><!---->
			</ul>
		</nav>
		
		<a class="nav-bar-button" itemprop="url" href="https://www.microsoft.com/" aria-label="Microsoft">
			<div class="nav-bar-logo has-background-image theme-display is-light" role="presentation" aria-hidden="true" itemprop="logo" itemscope="itemscope"></div>
			<div class="nav-bar-logo has-background-image theme-display is-dark is-high-contrast" role="presentation" aria-hidden="true" itemprop="logo" itemscope="itemscope"></div>
		</a>
		<nav class="nav-bar-nav" role="navigation" aria-label="Global">
			<ul class="nav-bar-nav-list">
				
		<li class="nav-bar-item is-category has-spacing">
			<a class="nav-bar-button title has-hover-underline is-4" itemprop="url" href="https://developer.microsoft.com/en-us/windows">
				<span><!---->Windows Dev Center<!----></span>
			</a>
		</li>
				<!---->
		<li class="dropdown nav-bar-item">
			<button aria-expanded="false" class="dropdown-trigger nav-bar-button has-hover-underline" aria-controls="ax-9">
				<span><!---->Explore<!----></span>
				<span class="nav-bar-button-chevron" aria-hidden="true">
					<span class="docon docon-chevron-down-light expanded-indicator"></span>
				</span>
			</button>
			<ul class="dropdown-menu" id="ax-9" aria-label="Explore">
				<!---->
		<li class="nav-bar-item">
			<a class="nav-bar-button" href="https://developer.microsoft.com/en-us/windows/get-started-windows-10"><!---->Get started developing for Windows<!----></a>
		</li>
	<!---->
		<li class="nav-bar-item">
			<a class="nav-bar-button" href="https://developer.microsoft.com/en-us/windows/windows-10-for-developers"><!---->Whatâ€™s new for Windows 10<!----></a>
		</li>
	<!---->
		<li class="nav-bar-item">
			<a class="nav-bar-button" href="https://developer.microsoft.com/en-us/windows/enterprise"><!---->Build for enterprise<!----></a>
		</li>
	<!---->
		<li class="nav-bar-item">
			<a class="nav-bar-button" href="https://developer.microsoft.com/en-us/windows/accessible-apps"><!---->Develop for accessibility<!----></a>
		</li>
	<!---->
		<li class="nav-bar-item">
			<a class="nav-bar-button" href="https://developer.microsoft.com/en-us/windows/ad-monetization-platform"><!---->Ad Monetization platform<!----></a>
		</li>
	<!---->
			</ul>
		</li><!---->
		<li class="dropdown nav-bar-item">
			<button aria-expanded="false" class="dropdown-trigger nav-bar-button has-hover-underline" aria-controls="ax-10">
				<span><!---->Platforms<!----></span>
				<span class="nav-bar-button-chevron" aria-hidden="true">
					<span class="docon docon-chevron-down-light expanded-indicator"></span>
				</span>
			</button>
			<ul class="dropdown-menu" id="ax-10" aria-label="Platforms">
				<!---->
		<li class="nav-bar-item">
			<a class="nav-bar-button" href="https://docs.microsoft.com/en-us/windows/apps/desktop/"><!---->Windows PCs<!----></a>
		</li>
	<!---->
		<li class="nav-bar-item">
			<a class="nav-bar-button" href="https://developer.microsoft.com/en-us/windows/iot"><!---->Windows IoT<!----></a>
		</li>
	<!---->
		<li class="nav-bar-item">
			<a class="nav-bar-button" href="https://developer.microsoft.com/en-us/mixed-reality"><!---->Mixed Reality<!----></a>
		</li>
	<!---->
		<li class="nav-bar-item">
			<a class="nav-bar-button" href="https://developer.microsoft.com/en-us/games"><!---->Games<!----></a>
		</li>
	<!---->
		<li class="nav-bar-item">
			<a class="nav-bar-button" href="https://developer.microsoft.com/en-us/web"><!---->Web<!----></a>
		</li>
	<!---->
		<li class="nav-bar-item">
			<a class="nav-bar-button" href="https://docs.microsoft.com/en-us/windows/uwp/"><!---->UWP<!----></a>
		</li>
	<!---->
			</ul>
		</li><!---->
		<li class="nav-bar-item">
			<a class="nav-bar-button has-hover-underline" href="https://docs.microsoft.com/en-us/windows/">
				<span><!---->Docs<!----></span>
			</a>
		</li><!---->
		<li class="nav-bar-item">
			<a class="nav-bar-button has-hover-underline" href="https://developer.microsoft.com/en-us/windows/downloads">
				<span><!---->Downloads<!----></span>
			</a>
		</li><!---->
		<li class="nav-bar-item">
			<a class="nav-bar-button has-hover-underline" href="https://developer.microsoft.com/en-us/windows/samples">
				<span><!---->Samples<!----></span>
			</a>
		</li><!---->
		<li class="nav-bar-item">
			<a class="nav-bar-button has-hover-underline" href="https://developer.microsoft.com/en-us/windows/support">
				<span><!---->Support<!----></span>
			</a>
		</li><!---->
		<li class="nav-bar-item">
			<a class="nav-bar-button has-hover-underline" href="https://partner.microsoft.com/dashboard">
				<span><!---->Dashboard<!----></span>
			</a>
		</li><!---->
		<li class="dropdown nav-bar-item" hidden="">
			<button aria-expanded="false" class="dropdown-trigger nav-bar-button has-hover-underline" aria-controls="ax-11">
				<span><!---->More<!----></span>
				<span class="nav-bar-button-chevron" aria-hidden="true">
					<span class="docon docon-chevron-down-light expanded-indicator"></span>
				</span>
			</button>
			<ul class="dropdown-menu" id="ax-11" aria-label="More">
				<!---->
		<li class="dropdown nav-bar-item" hidden="">
			<button aria-expanded="false" class="dropdown-trigger nav-bar-button " aria-controls="ax-12">
				<span><!---->Explore<!----></span>
				<span class="nav-bar-button-chevron" aria-hidden="true">
					<span class="docon docon-chevron-right-light "></span>
				</span>
			</button>
			<ul class="dropdown-menu" id="ax-12" aria-label="Explore">
				<!---->
		<li class="nav-bar-item">
			<a class="nav-bar-button" href="https://developer.microsoft.com/en-us/windows/get-started-windows-10"><!---->Get started developing for Windows<!----></a>
		</li>
	<!---->
		<li class="nav-bar-item">
			<a class="nav-bar-button" href="https://developer.microsoft.com/en-us/windows/windows-10-for-developers"><!---->Whatâ€™s new for Windows 10<!----></a>
		</li>
	<!---->
		<li class="nav-bar-item">
			<a class="nav-bar-button" href="https://developer.microsoft.com/en-us/windows/enterprise"><!---->Build for enterprise<!----></a>
		</li>
	<!---->
		<li class="nav-bar-item">
			<a class="nav-bar-button" href="https://developer.microsoft.com/en-us/windows/accessible-apps"><!---->Develop for accessibility<!----></a>
		</li>
	<!---->
		<li class="nav-bar-item">
			<a class="nav-bar-button" href="https://developer.microsoft.com/en-us/windows/ad-monetization-platform"><!---->Ad Monetization platform<!----></a>
		</li>
	<!---->
			</ul>
		</li><!---->
		<li class="dropdown nav-bar-item" hidden="">
			<button aria-expanded="false" class="dropdown-trigger nav-bar-button " aria-controls="ax-13">
				<span><!---->Platforms<!----></span>
				<span class="nav-bar-button-chevron" aria-hidden="true">
					<span class="docon docon-chevron-right-light "></span>
				</span>
			</button>
			<ul class="dropdown-menu" id="ax-13" aria-label="Platforms">
				<!---->
		<li class="nav-bar-item">
			<a class="nav-bar-button" href="https://docs.microsoft.com/en-us/windows/apps/desktop/"><!---->Windows PCs<!----></a>
		</li>
	<!---->
		<li class="nav-bar-item">
			<a class="nav-bar-button" href="https://developer.microsoft.com/en-us/windows/iot"><!---->Windows IoT<!----></a>
		</li>
	<!---->
		<li class="nav-bar-item">
			<a class="nav-bar-button" href="https://developer.microsoft.com/en-us/mixed-reality"><!---->Mixed Reality<!----></a>
		</li>
	<!---->
		<li class="nav-bar-item">
			<a class="nav-bar-button" href="https://developer.microsoft.com/en-us/games"><!---->Games<!----></a>
		</li>
	<!---->
		<li class="nav-bar-item">
			<a class="nav-bar-button" href="https://developer.microsoft.com/en-us/web"><!---->Web<!----></a>
		</li>
	<!---->
		<li class="nav-bar-item">
			<a class="nav-bar-button" href="https://docs.microsoft.com/en-us/windows/uwp/"><!---->UWP<!----></a>
		</li>
	<!---->
			</ul>
		</li><!---->
		<li class="nav-bar-item" hidden="">
			<a class="nav-bar-button" href="https://docs.microsoft.com/en-us/windows/"><!---->Docs<!----></a>
		</li>
	<!---->
		<li class="nav-bar-item" hidden="">
			<a class="nav-bar-button" href="https://developer.microsoft.com/en-us/windows/downloads"><!---->Downloads<!----></a>
		</li>
	<!---->
		<li class="nav-bar-item" hidden="">
			<a class="nav-bar-button" href="https://developer.microsoft.com/en-us/windows/samples"><!---->Samples<!----></a>
		</li>
	<!---->
		<li class="nav-bar-item" hidden="">
			<a class="nav-bar-button" href="https://developer.microsoft.com/en-us/windows/support"><!---->Support<!----></a>
		</li>
	<!---->
		<li class="nav-bar-item" hidden="">
			<a class="nav-bar-button" href="https://partner.microsoft.com/dashboard"><!---->Dashboard<!----></a>
		</li>
	<!---->
			</ul>
		</li><!---->
				
			</ul>
		</nav>
		<span class="nav-bar-spacer"></span>
		
			<div class="nav-bar-item nav-bar-search-form-item" id="ax-14" hidden="">
				
			<form class="is-flex" method="GET" id="searchForm" name="searchForm" role="search" aria-label="Search" aria-expanded="false" action="https://docs.microsoft.com/en-us/search/">
					
							<button class="nav-bar-button has-margin-extra-small tag" type="button" aria-label="Search filter is &quot;Desktop&quot;. Tap to remove.">
								<span class="is-inline-truncated"><!---->Desktop<!----></span>
								<span class="icon">
									<span class="docon docon-navigate-close" aria-hidden="true"></span>
								</span>
							</button>
					<div class="autocomplete" data-bi-name="autocomplete"><!---->
		<div class="control ">
			<input role="combobox" maxlength="100" aria-autocomplete="list" autocapitalize="off" autocomplete="off" autocorrect="off" spellcheck="false" id="site-search-input" class="autocomplete-input input   is-full-width" type="search" name="search" aria-expanded="false" aria-owns="ax-15-listbox" aria-activedescendant="" placeholder="Search">

			<span class="icon is-small is-left" aria-hidden="true" hidden="">
				<span class="has-text-primary docon docon-undefined"></span>
			</span>

			<span class="autocomplete-loader loader has-text-primary" aria-hidden="true" hidden=""></span>
		</div>

		<ul class="autocomplete-suggestions is-vertically-scrollable" role="listbox" id="ax-15-listbox" hidden="">
			
		</ul><!----></div>
					<!-- mobile safari will not dispatch submit event unless there's a submit button that is not display:none -->
					<button type="submit" class="visually-hidden" tabindex="-1" aria-hidden="true"></button>
					<input name="category" hidden="" value="All">
					<input name="scope" hidden="" value="Desktop">
					
			</form>
		
			</div>
			<div class="nav-bar-item ">
				<button id="form-expander" class="nav-bar-button has-hover-underline has-margin-left-extra-small" aria-label="Search" aria-expanded="false" aria-controls="ax-14">
						
					<span class="is-hidden-mobile" aria-hidden="true"><!---->Search<!----></span>
					<span class="icon" aria-hidden="true">
						<span class="docon docon-search"></span>
					</span>
	
				</button>
			</div>
		<!----><!----></header></div>
		<div class="content-header uhf-container has-padding has-default-focus" data-bi-name="content-header">
		<nav class="has-padding-none-mobile" data-bi-name="breadcrumb" itemscope="" itemtype="http://schema.org/BreadcrumbList" role="navigation" aria-label="Breadcrumb">
			<ul id="page-breadcrumbs" class="breadcrumbs"><!---->
		<!---->
		<li itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem">
			
			<a itemprop="item" href="https://docs.microsoft.com/en-us/">
				<span itemprop="name">
					Docs
				</span>
			</a>
			<meta itemprop="position" content="1">
		</li><!---->
		<li itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem">
			
			<a itemprop="item" href="https://docs.microsoft.com/en-us/windows/">
				<span itemprop="name">
					Windows
				</span>
			</a>
			<meta itemprop="position" content="2">
		</li><!---->
		<li itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem">
			
			<a itemprop="item" href="https://docs.microsoft.com/en-us/windows/win32/etw/event-tracing-portal">
				<span itemprop="name">
					Event Tracing
				</span>
			</a>
			<meta itemprop="position" content="3">
		</li><!---->
		<li itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem">
			
			<a itemprop="item" href="https://docs.microsoft.com/en-us/windows/win32/etw/event-tracing-reference">
				<span itemprop="name">
					Event Tracing Reference
				</span>
			</a>
			<meta itemprop="position" content="4">
		</li><!---->
		<li itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem">
			
			<a itemprop="item" href="https://docs.microsoft.com/en-us/windows/win32/etw/event-tracing-structures">
				<span itemprop="name">
					Event Tracing Structures
				</span>
			</a>
			<meta itemprop="position" content="5">
		</li><!---->
		<li itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem">
			
			<span itemprop="name">
				WNODE_HEADER
			</span>
			<meta itemprop="position" content="6">
		</li><!---->
	<!----></ul>
		</nav>
		<div class="content-header-controls">
			<button type="button" class="contents-button button" data-bi-name="contents-expand" aria-haspopup="true">
				<span class="icon"><span class="docon docon-menu" aria-hidden="true"></span></span>
				<span>Contents</span>
			</button>
		</div>
		<div class="content-header-controls exit-focus">
			<button type="button" class="ap-collapse-behavior ap-expanded button" data-bi-name="ap-collapse" aria-controls="action-panel">
				<span class="icon"><span class="docon docon-exit-mode" aria-hidden="true"></span></span>
				<span>Exit focus mode</span>
			</button>
		</div>
		<div id="page-actions" class="is-flex-touch has-flex-justify-content-space-between-touch has-padding-none has-padding-none-mobile">
			<ul class="action-list has-flex-justify-content-start-mobile is-flex is-flex-row has-flex-wrap">
				<li>
					<button type="button" class="bookmark button is-text has-inner-focus is-small is-icon-only-touch" data-list-type="bookmarks" data-bi-name="bookmark" aria-pressed="false" aria-label="Add bookmark for WNODE_HEADER structure (Wmistr.h) - Win32 apps | Microsoft Docs">
						<span class="icon" aria-hidden="true">
							<span class="docon docon-single-bookmark"></span>
						</span>
						<span class="bookmark-status is-visually-hidden-touch is-hidden-portrait">Bookmark</span>
					</button>
				</li>
							<li id="contenteditbtn">
									<a href="https://github.com/MicrosoftDocs/win32/blob/docs/desktop-src/ETW/wnode-header.md" class="button is-text has-inner-focus is-icon-only-touch is-small" title="Edit This Document" data-bi-name="edit" data-original_content_git_url="https://github.com/MicrosoftDocs/win32-pr/blob/live/desktop-src/ETW/wnode-header.md" data-original_content_git_url_template="" data-pr_repo="" data-pr_branch="">
									<span class="icon">
										<span class="docon docon-edit-outline" aria-hidden="true"></span>
									</span>
									<span class="is-visually-hidden-touch is-hidden-portrait">Edit</span>
								</a>
							</li>
				<li>
<div class="sharing dropdown has-caret">
	<button class="dropdown-trigger button is-text is-fullwidth has-flex-justify-content-start has-inner-focus is-small is-icon-only-touch" aria-controls="sharing-menu" aria-expanded="false" title="Share This Document" data-bi-name="share">
		<span class="icon" aria-hidden="true">
			<span class="docon docon-sharing"></span>
		</span>
		<span class="is-visually-hidden-touch is-hidden-portrait">Share</span>
	</button>
	<div class="dropdown-menu has-padding-small" id="sharing-menu">
		<ul data-bi-name="share-links">
			<li>
				<a class="button is-text is-fullwidth has-flex-justify-content-start has-inner-focus is-small share-twitter" data-bi-name="twitter" href="https://twitter.com/intent/tweet?original_referer=https%3A%2F%2Fdocs.microsoft.com%2Fen-us%2Fwindows%2Fwin32%2Fetw%2Fwnode-header%3FWT.mc_id%3Dtwitter&amp;text=WNODE_HEADER%20structure%20(Wmistr.h)%20-%20Win32%20apps%20%7C%20Microsoft%20Docs&amp;tw_p=tweetbutton&amp;url=https%3A%2F%2Fdocs.microsoft.com%2Fen-us%2Fwindows%2Fwin32%2Fetw%2Fwnode-header%3FWT.mc_id%3Dtwitter">
					<span class="icon">
						<span class="docon docon-brand-twitter has-text-primary" aria-hidden="true"></span>
					</span>
					<span>Twitter</span>
				</a>
			</li>
			<li>
				<a class="button is-text is-fullwidth has-flex-justify-content-start has-inner-focus is-small share-linkedin" data-bi-name="linkedin" href="https://www.linkedin.com/cws/share?url=https%3A%2F%2Fdocs.microsoft.com%2Fen-us%2Fwindows%2Fwin32%2Fetw%2Fwnode-header%3FWT.mc_id%3Dlinkedin">
					<span class="icon">
						<span class="docon docon-brand-linkedin has-text-primary" aria-hidden="true"></span>
					</span>
					<span>LinkedIn</span>
				</a>
			</li>
			<li>
				<a class="button is-text is-fullwidth has-flex-justify-content-start has-inner-focus is-small share-facebook" data-bi-name="facebook" href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fdocs.microsoft.com%2Fen-us%2Fwindows%2Fwin32%2Fetw%2Fwnode-header%3FWT.mc_id%3Dfacebook">
					<span class="icon">
						<span class="docon docon-brand-facebook has-text-primary" aria-hidden="true"></span>
					</span>
					<span>Facebook</span>
				</a>
			</li>
			<li>
				<a class="button is-text is-fullwidth has-flex-justify-content-start has-inner-focus is-small share-email" data-bi-name="email" href="mailto:?subject=%5BShared%20Article%5D%20WNODE_HEADER%20structure%20(Wmistr.h)%20-%20Win32%20apps%20%7C%20Microsoft%20Docs&amp;body=WNODE_HEADER%20structure%20(Wmistr.h)%20-%20Win32%20apps%20%7C%20Microsoft%20Docs%0A%0Ahttps%3A%2F%2Fdocs.microsoft.com%2Fen-us%2Fwindows%2Fwin32%2Fetw%2Fwnode-header%3FWT.mc_id%3Demail">
					<span class="icon">
						<span class="docon docon-mail-message-fill has-text-primary" aria-hidden="true"></span>
					</span>
					<span>Email</span>
				</a>
			</li>
		</ul>
	</div>
</div>				</li>
				<li>
<div class="dropdown has-caret">
	<button class="dropdown-trigger button is-text is-small is-icon-only-touch has-inner-focus" aria-controls="theme-menu" aria-expanded="false" title="Theme" data-bi-name="theme">
		<span class="icon">
			<span class="docon docon-sun" aria-hidden="true"></span>
		</span>
		<span class="is-visually-hidden-touch is-hidden-portrait">Theme</span>
	</button>
	<div class="dropdown-menu" id="theme-menu" role="menu" style="left: 0px;">
		<div class="theme-selector has-padding-small">
			<div class="theme is-block">
				<button class="button is-text is-small theme-control is-fullwidth has-flex-justify-content-start is-selected" data-theme-to="light" role="menuitem" aria-selected="true">
					<span class="theme-light has-margin-right-small">
						<span class="theme-selector-icon css-variable-support has-border is-inline-block has-body-background" aria-hidden="true">
							<svg class="svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 14">
								<rect width="22" height="14" class="has-fill-body-background"></rect>
								<rect x="5" y="5" width="12" height="4" class="has-fill-secondary"></rect>
								<rect x="5" y="2" width="2" height="1" class="has-fill-secondary"></rect>
								<rect x="8" y="2" width="2" height="1" class="has-fill-secondary"></rect>
								<rect x="11" y="2" width="3" height="1" class="has-fill-secondary"></rect>
								<rect x="1" y="1" width="2" height="2" class="has-fill-secondary"></rect>
								<rect x="5" y="10" width="7" height="2" rx="0.3" class="has-fill-primary"></rect>
								<rect x="19" y="1" width="2" height="2" rx="1" class="has-fill-secondary"></rect>
							</svg>
						</span>
					</span>
					<span>
Light					</span>
				</button>
			</div>
			<div class="theme is-block">
				<button class="button is-text is-small theme-control is-fullwidth has-flex-justify-content-start" data-theme-to="dark" role="menuitem" aria-selected="false">
					<span class="theme-dark has-margin-right-small">
						<span class="has-border theme-selector-icon css-variable-support is-inline-block has-body-background" aria-hidden="true">
							<svg class="svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 14">
								<rect width="22" height="14" class="has-fill-body-background"></rect>
								<rect x="5" y="5" width="12" height="4" class="has-fill-secondary"></rect>
								<rect x="5" y="2" width="2" height="1" class="has-fill-secondary"></rect>
								<rect x="8" y="2" width="2" height="1" class="has-fill-secondary"></rect>
								<rect x="11" y="2" width="3" height="1" class="has-fill-secondary"></rect>
								<rect x="1" y="1" width="2" height="2" class="has-fill-secondary"></rect>
								<rect x="5" y="10" width="7" height="2" rx="0.3" class="has-fill-primary"></rect>
								<rect x="19" y="1" width="2" height="2" rx="1" class="has-fill-secondary"></rect>
							</svg>
						</span>
					</span>
					<span>
Dark					</span>
				</button>
			</div>
			<div class="theme is-block">
				<button class="button is-text is-small theme-control is-fullwidth has-flex-justify-content-start" data-theme-to="high-contrast" role="menuitem" aria-selected="false">
					<span class="theme-high-contrast has-margin-right-small">
						<span class="has-border theme-selector-icon css-variable-support is-inline-block has-body-background" aria-hidden="true">
							<svg class="svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 14">
								<rect width="22" height="14" class="has-fill-body-background"></rect>
								<rect x="5" y="5" width="12" height="4" class="has-fill-secondary"></rect>
								<rect x="5" y="2" width="2" height="1" class="has-fill-secondary"></rect>
								<rect x="8" y="2" width="2" height="1" class="has-fill-secondary"></rect>
								<rect x="11" y="2" width="3" height="1" class="has-fill-secondary"></rect>
								<rect x="1" y="1" width="2" height="2" class="has-fill-secondary"></rect>
								<rect x="5" y="10" width="7" height="2" rx="0.3" class="has-fill-primary"></rect>
								<rect x="19" y="1" width="2" height="2" rx="1" class="has-fill-secondary"></rect>
							</svg>
						</span>
					</span>
					<span>
High contrast					</span>
				</button>
			</div>
		</div>
	</div>
</div>				</li>
				<li>
					<a class="docs-sign-in auth-status-determined not-authenticated button is-text has-inner-focus has-text-primary is-small" href="https://docs.microsoft.com/en-us/windows/win32/etw/wnode-header#">Sign in</a>
					<div class="dropdown has-caret auth-status-determined authenticated">
						<button class="dropdown-trigger button is-text has-inner-focus is-small is-icon-only-touch has-inner-focus" aria-label="Your Account" aria-controls="user-menu" aria-expanded="false">
							<span class="icon" aria-hidden="true">
								<span class="image">
									<img class="has-body-background-medium is-rounded" data-profile-property="avatarUrl">
								</span>
							</span>
							<span class="is-inline-truncated has-margin-left-small" data-profile-property="userName"></span>
						</button>
						<div class="dropdown-menu box" id="user-menu" role="menu">
							<div class="media is-user-dir">
								<div class="media-left">
									<span class="image is-64x64" aria-hidden="true">
										<img class="has-body-background-medium is-rounded" data-profile-property="avatarUrl">
									</span>
								</div>
								<div class="media-content">
									<p class="title">
										<span class="is-inline-truncated has-max-width-200" data-profile-property="userName"></span>
									</p>
									<p class="subtitle has-margin-bottom-none">
										<span class="is-inline-truncated has-max-width-200" data-profile-property="upn"></span>
									</p>
									<ul class="is-unstyled has-margin-none has-margin-top-small">
										<li><a href="https://docs.microsoft.com/profile" data-profile-property="profileUrl">Profile</a></li>
										<li><a href="https://docs.microsoft.com/profile" data-profile-property="bookmarksUrl">Bookmarks</a></li>
										<li><a href="https://docs.microsoft.com/profile" data-profile-property="collectionsUrl">Collections</a></li>
										<li><a class="docs-sign-out" href="https://docs.microsoft.com/en-us/windows/win32/etw/wnode-header#">Sign out</a></li>
									</ul>
								</div>
							</div>
						</div>
					</div>
				</li>
			</ul>
			<button type="button" class="contents-button button is-small is-text is-hidden-tablet has-inner-focus is-hidden-tablet" aria-label="Contents" data-bi-name="contents-expand-">
				<span class="icon">
					<span class="docon docon-editor-list-bullet" aria-hidden="true"></span>
				</span>
				<span>Contents</span>
			</button>
		</div>
	</div>

		<div id="banner-holder" class="has-default-focus has-overflow-hidden">
		</div>

	<div id="disclaimer-holder" class="has-overflow-hidden has-default-focus"></div>
	</div>

	<div class="mainContainer  uhf-container has-top-padding  has-default-focus" data-bi-name="body">

		<div class="columns has-large-gaps is-gapless-mobile ">

			<div id="left-container" class="left-container is-hidden-mobile column is-one-third-tablet is-one-quarter-desktop">
				<nav id="affixed-left-container" class="is-fixed is-flex is-flex-column" role="navigation" aria-label="Primary" data-bi-name="left toc" style="width: 364px; top: 111.5px; bottom: 24px;"><form action="javascript:" role="search" aria-label="Search" class="is-full-width has-margin-bottom-small"><label class="visually-hidden" for="ax-16">Search</label><div class="autocomplete is-block" data-bi-name="autocomplete"><!---->
		<div class="control has-icons-left">
			<input role="combobox" maxlength="100" aria-autocomplete="list" autocapitalize="off" autocomplete="off" autocorrect="off" spellcheck="false" id="ax-16" class="autocomplete-input input control has-icons-left is-small is-full-width" type="text" aria-expanded="false" aria-owns="ax-17-listbox" aria-activedescendant="" placeholder="Filter by title">

			<span class="icon is-small is-left" aria-hidden="true">
				<span class="has-text-primary docon docon-filter"></span>
			</span>

			<span class="autocomplete-loader loader has-text-primary" aria-hidden="true" hidden=""></span>
		</div>

		<ul class="autocomplete-suggestions is-vertically-scrollable" role="listbox" id="ax-17-listbox" hidden="">
			
		</ul><!----></div></form><ul class="tree is-vertically-scrollable has-flex-grow has-flex-shrink" role="tree" aria-label="Table of contents" data-bi-name="tree"><li role="none"><a aria-setsize="5" aria-level="1" aria-posinset="1" class="tree-item is-leaf" role="treeitem" tabindex="-1" data-bi-name="tree-leaf" href="https://docs.microsoft.com/en-us/windows/win32/etw/event-tracing-portal">Event Tracing</a></li><li role="none"><a aria-setsize="5" aria-level="1" aria-posinset="2" class="tree-item is-leaf" role="treeitem" tabindex="-1" data-bi-name="tree-leaf" href="https://docs.microsoft.com/en-us/windows/win32/etw/what-s-new-in-event-tracing">What's New in Event Tracing</a></li><li aria-setsize="5" aria-level="1" aria-posinset="3" class="tree-item" role="treeitem" tabindex="-1" aria-expanded="false"><span class="tree-expander" data-bi-name="tree-expander"><span class="tree-expander-indicator docon docon-chevron-right-light" aria-hidden="true"></span>About Event Tracing</span></li><li aria-setsize="5" aria-level="1" aria-posinset="4" class="tree-item" role="treeitem" tabindex="-1" aria-expanded="false"><span class="tree-expander" data-bi-name="tree-expander"><span class="tree-expander-indicator docon docon-chevron-right-light" aria-hidden="true"></span>Using Event Tracing</span></li><li aria-setsize="5" aria-level="1" aria-posinset="5" class="tree-item is-expanded" role="treeitem" tabindex="-1" aria-expanded="true"><span class="tree-expander" data-bi-name="tree-expander"><span class="tree-expander-indicator docon docon-chevron-right-light" aria-hidden="true"></span>Event Tracing Reference</span><ul class="tree-group" role="group"><li role="none"><a aria-setsize="11" aria-level="2" aria-posinset="1" class="tree-item is-leaf" role="treeitem" tabindex="-1" data-bi-name="tree-leaf" href="https://docs.microsoft.com/en-us/windows/win32/etw/event-tracing-reference">Event Tracing Reference</a></li><li aria-setsize="11" aria-level="2" aria-posinset="2" class="tree-item" role="treeitem" tabindex="-1" aria-expanded="false"><span class="tree-expander" data-bi-name="tree-expander"><span class="tree-expander-indicator docon docon-chevron-right-light" aria-hidden="true"></span>Event Tracing Constants</span></li><li aria-setsize="11" aria-level="2" aria-posinset="3" class="tree-item" role="treeitem" tabindex="-1" aria-expanded="false"><span class="tree-expander" data-bi-name="tree-expander"><span class="tree-expander-indicator docon docon-chevron-right-light" aria-hidden="true"></span>Event Tracing Enumerations</span></li><li aria-setsize="11" aria-level="2" aria-posinset="4" class="tree-item" role="treeitem" tabindex="-1" aria-expanded="false"><span class="tree-expander" data-bi-name="tree-expander"><span class="tree-expander-indicator docon docon-chevron-right-light" aria-hidden="true"></span>Event Tracing Functions</span></li><li aria-setsize="11" aria-level="2" aria-posinset="5" class="tree-item" role="treeitem" tabindex="-1" aria-expanded="false"><span class="tree-expander" data-bi-name="tree-expander"><span class="tree-expander-indicator docon docon-chevron-right-light" aria-hidden="true"></span>Event Tracing Interfaces</span></li><li aria-setsize="11" aria-level="2" aria-posinset="6" class="tree-item" role="treeitem" tabindex="-1" aria-expanded="false"><span class="tree-expander" data-bi-name="tree-expander"><span class="tree-expander-indicator docon docon-chevron-right-light" aria-hidden="true"></span>Event Tracing Macros</span></li><li aria-setsize="11" aria-level="2" aria-posinset="7" class="tree-item" role="treeitem" tabindex="-1" aria-expanded="false"><span class="tree-expander" data-bi-name="tree-expander"><span class="tree-expander-indicator docon docon-chevron-right-light" aria-hidden="true"></span>Event Tracing MOF Classes</span></li><li role="none"><a aria-setsize="11" aria-level="2" aria-posinset="8" class="tree-item is-leaf" role="treeitem" tabindex="-1" data-bi-name="tree-leaf" href="https://docs.microsoft.com/en-us/windows/win32/etw/event-tracing-mof-qualifiers">Event Tracing MOF Qualifiers</a></li><li role="none"><a aria-setsize="11" aria-level="2" aria-posinset="9" class="tree-item is-leaf" role="treeitem" tabindex="-1" data-bi-name="tree-leaf" href="https://docs.microsoft.com/en-us/windows/win32/etw/event-tracing-tools">Event Tracing Tools</a></li><li role="none"><a aria-setsize="11" aria-level="2" aria-posinset="10" class="tree-item is-leaf" role="treeitem" tabindex="-1" data-bi-name="tree-leaf" href="https://docs.microsoft.com/en-us/windows/win32/etw/event-tracing-samples">Event Tracing Samples</a></li><li aria-setsize="11" aria-level="2" aria-posinset="11" class="tree-item is-expanded" role="treeitem" tabindex="-1" aria-expanded="true"><span class="tree-expander" data-bi-name="tree-expander"><span class="tree-expander-indicator docon docon-chevron-right-light" aria-hidden="true"></span>Event Tracing Structures</span><ul class="tree-group" role="group"><li role="none"><a aria-setsize="51" aria-level="3" aria-posinset="1" class="tree-item is-leaf" role="treeitem" tabindex="-1" data-bi-name="tree-leaf" href="https://docs.microsoft.com/en-us/windows/win32/etw/event-tracing-structures">Event Tracing Structures</a></li><li role="none"><a aria-setsize="51" aria-level="3" aria-posinset="2" class="tree-item is-leaf" role="treeitem" tabindex="-1" data-bi-name="tree-leaf" href="https://docs.microsoft.com/en-us/windows/win32/etw/etw-trace-partition-information">ETW_TRACE_PARTITION_INFORMATION</a></li><li role="none"><a aria-setsize="51" aria-level="3" aria-posinset="3" class="tree-item is-leaf" role="treeitem" tabindex="-1" data-bi-name="tree-leaf" href="https://docs.microsoft.com/en-us/windows/win32/etw/classic-event-id">CLASSIC_EVENT_ID</a></li><li role="none"><a aria-setsize="51" aria-level="3" aria-posinset="4" class="tree-item is-leaf" role="treeitem" tabindex="-1" data-bi-name="tree-leaf" href="https://docs.microsoft.com/en-us/windows/win32/etw/enable-trace-parameters">ENABLE_TRACE_PARAMETERS</a></li><li role="none"><a aria-setsize="51" aria-level="3" aria-posinset="5" class="tree-item is-leaf" role="treeitem" tabindex="-1" data-bi-name="tree-leaf" href="https://docs.microsoft.com/en-us/windows/win32/etw/enable-trace-parameters-v1">ENABLE_TRACE_PARAMETERS_V1</a></li><li role="none"><a aria-setsize="51" aria-level="3" aria-posinset="6" class="tree-item is-leaf" role="treeitem" tabindex="-1" data-bi-name="tree-leaf" href="https://docs.microsoft.com/en-us/windows/desktop/api/relogger/ns-relogger-_etw_buffer_context">ETW_BUFFER_CONTEXT</a></li><li role="none"><a aria-setsize="51" aria-level="3" aria-posinset="7" class="tree-item is-leaf" role="treeitem" tabindex="-1" data-bi-name="tree-leaf" href="https://docs.microsoft.com/en-us/windows/desktop/api/Evntprov/ns-evntprov-_event_data_descriptor">EVENT_DATA_DESCRIPTOR</a></li><li role="none"><a aria-setsize="51" aria-level="3" aria-posinset="8" class="tree-item is-leaf" role="treeitem" tabindex="-1" data-bi-name="tree-leaf" href="https://docs.microsoft.com/en-us/windows/desktop/api/evntprov/ns-evntprov-_event_descriptor">EVENT_DESCRIPTOR</a></li><li role="none"><a aria-setsize="51" aria-level="3" aria-posinset="9" class="tree-item is-leaf" role="treeitem" tabindex="-1" data-bi-name="tree-leaf" href="https://docs.microsoft.com/en-us/windows/desktop/api/Evntcons/ns-evntcons-_event_extended_item_instance">EVENT_EXTENDED_ITEM_INSTANCE</a></li><li role="none"><a aria-setsize="51" aria-level="3" aria-posinset="10" class="tree-item is-leaf" role="treeitem" tabindex="-1" data-bi-name="tree-leaf" href="https://docs.microsoft.com/en-us/windows/desktop/api/Evntcons/ns-evntcons-_event_extended_item_related_activityid">EVENT_EXTENDED_ITEM_RELATED_ACTIVITYID</a></li><li role="none"><a aria-setsize="51" aria-level="3" aria-posinset="11" class="tree-item is-leaf" role="treeitem" tabindex="-1" data-bi-name="tree-leaf" href="https://docs.microsoft.com/en-us/windows/desktop/api/Evntcons/ns-evntcons-_event_extended_item_stack_trace32">EVENT_EXTENDED_ITEM_STACK_TRACE32</a></li><li role="none"><a aria-setsize="51" aria-level="3" aria-posinset="12" class="tree-item is-leaf" role="treeitem" tabindex="-1" data-bi-name="tree-leaf" href="https://docs.microsoft.com/en-us/windows/desktop/api/Evntcons/ns-evntcons-_event_extended_item_stack_trace64">EVENT_EXTENDED_ITEM_STACK_TRACE64</a></li><li role="none"><a aria-setsize="51" aria-level="3" aria-posinset="13" class="tree-item is-leaf" role="treeitem" tabindex="-1" data-bi-name="tree-leaf" href="https://docs.microsoft.com/en-us/windows/desktop/api/Evntcons/ns-evntcons-_event_extended_item_ts_id">EVENT_EXTENDED_ITEM_TS_ID</a></li><li role="none"><a aria-setsize="51" aria-level="3" aria-posinset="14" class="tree-item is-leaf" role="treeitem" tabindex="-1" data-bi-name="tree-leaf" href="https://docs.microsoft.com/en-us/windows/desktop/api/Evntprov/ns-evntprov-_event_filter_descriptor">EVENT_FILTER_DESCRIPTOR</a></li><li role="none"><a aria-setsize="51" aria-level="3" aria-posinset="15" class="tree-item is-leaf" role="treeitem" tabindex="-1" data-bi-name="tree-leaf" href="https://docs.microsoft.com/en-us/windows/desktop/api/Evntprov/ns-evntprov-_event_filter_event_name">EVENT_FILTER_EVENT_NAME</a></li><li role="none"><a aria-setsize="51" aria-level="3" aria-posinset="16" class="tree-item is-leaf" role="treeitem" tabindex="-1" data-bi-name="tree-leaf" href="https://docs.microsoft.com/en-us/windows/desktop/api/Evntprov/ns-evntprov-_event_filter_level_kw">EVENT_FILTER_LEVEL_KW</a></li><li role="none"><a aria-setsize="51" aria-level="3" aria-posinset="17" class="tree-item is-leaf" role="treeitem" tabindex="-1" data-bi-name="tree-leaf" href="https://docs.microsoft.com/en-us/windows/desktop/api/Evntprov/ns-evntprov-_event_filter_event_id">EVENT_FILTER_EVENT_ID</a></li><li role="none"><a aria-setsize="51" aria-level="3" aria-posinset="18" class="tree-item is-leaf" role="treeitem" tabindex="-1" data-bi-name="tree-leaf" href="https://docs.microsoft.com/en-us/windows/desktop/api/Evntprov/ns-evntprov-_event_filter_header">EVENT_FILTER_HEADER</a></li><li role="none"><a aria-setsize="51" aria-level="3" aria-posinset="19" class="tree-item is-leaf" role="treeitem" tabindex="-1" data-bi-name="tree-leaf" href="https://docs.microsoft.com/en-us/windows/desktop/api/evntcons/ns-evntcons-_event_header">EVENT_HEADER</a></li><li role="none"><a aria-setsize="51" aria-level="3" aria-posinset="20" class="tree-item is-leaf" role="treeitem" tabindex="-1" data-bi-name="tree-leaf" href="https://docs.microsoft.com/en-us/windows/desktop/api/evntcons/ns-evntcons-_event_header_extended_data_item">EVENT_HEADER_EXTENDED_DATA_ITEM</a></li><li role="none"><a aria-setsize="51" aria-level="3" aria-posinset="21" class="tree-item is-leaf" role="treeitem" tabindex="-1" data-bi-name="tree-leaf" href="https://docs.microsoft.com/en-us/windows/win32/etw/event-instance-header">EVENT_INSTANCE_HEADER</a></li><li role="none"><a aria-setsize="51" aria-level="3" aria-posinset="22" class="tree-item is-leaf" role="treeitem" tabindex="-1" data-bi-name="tree-leaf" href="https://docs.microsoft.com/en-us/windows/win32/etw/event-instance-info">EVENT_INSTANCE_INFO</a></li><li role="none"><a aria-setsize="51" aria-level="3" aria-posinset="23" class="tree-item is-leaf" role="treeitem" tabindex="-1" data-bi-name="tree-leaf" href="https://docs.microsoft.com/en-us/windows/desktop/api/Tdh/ns-tdh-_event_map_entry">EVENT_MAP_ENTRY</a></li><li role="none"><a aria-setsize="51" aria-level="3" aria-posinset="24" class="tree-item is-leaf" role="treeitem" tabindex="-1" data-bi-name="tree-leaf" href="https://docs.microsoft.com/en-us/windows/desktop/api/Tdh/ns-tdh-_event_map_info">EVENT_MAP_INFO</a></li><li role="none"><a aria-setsize="51" aria-level="3" aria-posinset="25" class="tree-item is-leaf" role="treeitem" tabindex="-1" data-bi-name="tree-leaf" href="https://docs.microsoft.com/en-us/windows/desktop/api/Tdh/ns-tdh-_event_property_info">EVENT_PROPERTY_INFO</a></li><li role="none"><a aria-setsize="51" aria-level="3" aria-posinset="26" class="tree-item is-leaf" role="treeitem" tabindex="-1" data-bi-name="tree-leaf" href="https://docs.microsoft.com/en-us/windows/desktop/api/evntcons/ns-evntcons-_event_record">EVENT_RECORD</a></li><li role="none"><a aria-setsize="51" aria-level="3" aria-posinset="27" class="tree-item is-leaf" role="treeitem" tabindex="-1" data-bi-name="tree-leaf" href="https://docs.microsoft.com/en-us/windows/win32/etw/event-trace">EVENT_TRACE</a></li><li role="none"><a aria-setsize="51" aria-level="3" aria-posinset="28" class="tree-item is-leaf" role="treeitem" tabindex="-1" data-bi-name="tree-leaf" href="https://docs.microsoft.com/en-us/windows/win32/etw/event-trace-header">EVENT_TRACE_HEADER</a></li><li role="none"><a aria-setsize="51" aria-level="3" aria-posinset="29" class="tree-item is-leaf" role="treeitem" tabindex="-1" data-bi-name="tree-leaf" href="https://docs.microsoft.com/en-us/windows/win32/etw/event-trace-logfile">EVENT_TRACE_LOGFILE</a></li><li role="none"><a aria-setsize="51" aria-level="3" aria-posinset="30" class="tree-item is-leaf" role="treeitem" tabindex="-1" data-bi-name="tree-leaf" href="https://docs.microsoft.com/en-us/windows/win32/etw/event-trace-properties">EVENT_TRACE_PROPERTIES</a></li><li role="none"><a aria-setsize="51" aria-level="3" aria-posinset="31" class="tree-item is-leaf" role="treeitem" tabindex="-1" data-bi-name="tree-leaf" href="https://docs.microsoft.com/en-us/windows/win32/etw/event-trace-properties-v2">EVENT_TRACE_PROPERTIES_V2</a></li><li role="none"><a aria-setsize="51" aria-level="3" aria-posinset="32" class="tree-item is-leaf" role="treeitem" tabindex="-1" data-bi-name="tree-leaf" href="https://docs.microsoft.com/en-us/windows/win32/etw/mof-field">MOF_FIELD</a></li><li role="none"><a aria-setsize="51" aria-level="3" aria-posinset="33" class="tree-item is-leaf" role="treeitem" tabindex="-1" data-bi-name="tree-leaf" href="https://docs.microsoft.com/en-us/windows/desktop/api/Tdh/ns-tdh-_payload_filter_predicate">PAYLOAD_FILTER_PREDICATE</a></li><li role="none"><a aria-setsize="51" aria-level="3" aria-posinset="34" class="tree-item is-leaf" role="treeitem" tabindex="-1" data-bi-name="tree-leaf" href="https://docs.microsoft.com/en-us/windows/desktop/api/Tdh/ns-tdh-_property_data_descriptor">PROPERTY_DATA_DESCRIPTOR</a></li><li role="none"><a aria-setsize="51" aria-level="3" aria-posinset="35" class="tree-item is-leaf" role="treeitem" tabindex="-1" data-bi-name="tree-leaf" href="https://docs.microsoft.com/en-us/windows/desktop/api/Tdh/ns-tdh-_provider_enumeration_info">PROVIDER_ENUMERATION_INFO</a></li><li role="none"><a aria-setsize="51" aria-level="3" aria-posinset="36" class="tree-item is-leaf" role="treeitem" tabindex="-1" data-bi-name="tree-leaf" href="https://docs.microsoft.com/en-us/windows/desktop/api/Tdh/ns-tdh-_provider_event_info">PROVIDER_EVENT_INFO</a></li><li role="none"><a aria-setsize="51" aria-level="3" aria-posinset="37" class="tree-item is-leaf" role="treeitem" tabindex="-1" data-bi-name="tree-leaf" href="https://docs.microsoft.com/en-us/windows/desktop/api/Tdh/ns-tdh-_provider_field_info">PROVIDER_FIELD_INFO</a></li><li role="none"><a aria-setsize="51" aria-level="3" aria-posinset="38" class="tree-item is-leaf" role="treeitem" tabindex="-1" data-bi-name="tree-leaf" href="https://docs.microsoft.com/en-us/windows/desktop/api/Tdh/ns-tdh-_provider_field_infoarray">PROVIDER_FIELD_INFOARRAY</a></li><li role="none"><a aria-setsize="51" aria-level="3" aria-posinset="39" class="tree-item is-leaf" role="treeitem" tabindex="-1" data-bi-name="tree-leaf" href="https://docs.microsoft.com/en-us/windows/desktop/api/Tdh/ns-tdh-_provider_filter_info">PROVIDER_FILTER_INFO</a></li><li role="none"><a aria-setsize="51" aria-level="3" aria-posinset="40" class="tree-item is-leaf" role="treeitem" tabindex="-1" data-bi-name="tree-leaf" href="https://docs.microsoft.com/en-us/windows/desktop/api/Tdh/ns-tdh-_tdh_context">TDH_CONTEXT</a></li><li role="none"><a aria-setsize="51" aria-level="3" aria-posinset="41" class="tree-item is-leaf" role="treeitem" tabindex="-1" data-bi-name="tree-leaf" href="https://docs.microsoft.com/en-us/windows/win32/etw/trace-enable-info">TRACE_ENABLE_INFO</a></li><li role="none"><a aria-setsize="51" aria-level="3" aria-posinset="42" class="tree-item is-leaf" role="treeitem" tabindex="-1" data-bi-name="tree-leaf" href="https://docs.microsoft.com/en-us/windows/desktop/api/Tdh/ns-tdh-_trace_event_info">TRACE_EVENT_INFO</a></li><li role="none"><a aria-setsize="51" aria-level="3" aria-posinset="43" class="tree-item is-leaf" role="treeitem" tabindex="-1" data-bi-name="tree-leaf" href="https://docs.microsoft.com/en-us/windows/win32/etw/trace-guid-info">TRACE_GUID_INFO</a></li><li role="none"><a aria-setsize="51" aria-level="3" aria-posinset="44" class="tree-item is-leaf" role="treeitem" tabindex="-1" data-bi-name="tree-leaf" href="https://docs.microsoft.com/en-us/windows/win32/etw/trace-guid-properties">TRACE_GUID_PROPERTIES</a></li><li role="none"><a aria-setsize="51" aria-level="3" aria-posinset="45" class="tree-item is-leaf" role="treeitem" tabindex="-1" data-bi-name="tree-leaf" href="https://docs.microsoft.com/en-us/windows/win32/etw/trace-guid-registration">TRACE_GUID_REGISTRATION</a></li><li role="none"><a aria-setsize="51" aria-level="3" aria-posinset="46" class="tree-item is-leaf" role="treeitem" tabindex="-1" data-bi-name="tree-leaf" href="https://docs.microsoft.com/en-us/windows/win32/etw/trace-logfile-header">TRACE_LOGFILE_HEADER</a></li><li role="none"><a aria-setsize="51" aria-level="3" aria-posinset="47" class="tree-item is-leaf" role="treeitem" tabindex="-1" data-bi-name="tree-leaf" href="https://docs.microsoft.com/en-us/windows/win32/etw/trace-periodic-capture-state-info">TRACE_PERIODIC_CAPTURE_STATE_INFO</a></li><li role="none"><a aria-setsize="51" aria-level="3" aria-posinset="48" class="tree-item is-leaf" role="treeitem" tabindex="-1" data-bi-name="tree-leaf" href="https://docs.microsoft.com/en-us/windows/desktop/api/Tdh/ns-tdh-_trace_provider_info">TRACE_PROVIDER_INFO</a></li><li role="none"><a aria-setsize="51" aria-level="3" aria-posinset="49" class="tree-item is-leaf" role="treeitem" tabindex="-1" data-bi-name="tree-leaf" href="https://docs.microsoft.com/en-us/windows/win32/etw/trace-provider-instance-info">TRACE_PROVIDER_INSTANCE_INFO</a></li><li role="none"><a aria-setsize="51" aria-level="3" aria-posinset="50" class="tree-item is-leaf" role="treeitem" tabindex="-1" data-bi-name="tree-leaf" href="https://docs.microsoft.com/en-us/windows/win32/etw/trace-version-info">TRACE_VERSION_INFO</a></li><li role="none"><a aria-setsize="51" aria-level="3" aria-posinset="51" class="tree-item is-leaf is-selected" role="treeitem" tabindex="0" data-bi-name="tree-leaf" href="https://docs.microsoft.com/en-us/windows/win32/etw/wnode-header">WNODE_HEADER</a></li></ul></li></ul></li></ul></nav>
			</div>

			<section class="primary-holder column is-two-thirds-tablet is-three-quarters-desktop">
				<div class="columns is-gapless-mobile has-large-gaps ">


				<div id="main-column" class="column  is-full is-four-fifths-desktop ">

					<main id="main" role="main" class="content " data-bi-name="content" lang="en-us" dir="ltr">



						<h1 id="wnode_header-structure" sourcefile="ETW/wnode-header.md" sourcestartlinenumber="18">WNODE_HEADER structure</h1>

						<ul class="metadata page-metadata" data-bi-name="page info" lang="en-us" dir="ltr">
							<li class="displayDate">
								<time role="presentation" datetime="2018-05-31T00:00:00.000Z" data-article-date-source="ms.date">05/31/2018</time>
							</li>
								<li class="readingTime">6 minutes to read</li>
							<li class="contributors-holder">
								<a class="has-inner-focus" href="https://github.com/MicrosoftDocs/win32/blob/docs/desktop-src/ETW/wnode-header.md" title="3 Contributors" aria-label="3 Contributors">
									<ul class="contributors" data-bi-name="contributors" aria-hidden="true">
												<li><img src="./WNODE_HEADER structure (Wmistr.h) - Win32 apps _ Microsoft Docs_files/Karl-Bridge-Microsoft.png" data-src="https://github.com/Karl-Bridge-Microsoft.png?size=32" role="presentation"></li>
												<li><img src="./WNODE_HEADER structure (Wmistr.h) - Win32 apps _ Microsoft Docs_files/drewbatgit.png" data-src="https://github.com/drewbatgit.png?size=32" role="presentation"></li>
												<li><img src="./WNODE_HEADER structure (Wmistr.h) - Win32 apps _ Microsoft Docs_files/msatranjr.png" data-src="https://github.com/msatranjr.png?size=32" role="presentation"></li>
									</ul>
								</a>
							</li>

						</ul>

						<nav id="center-doc-outline" class="doc-outline is-hidden-desktop" data-bi-name="intopic toc" role="navigation" aria-label="Article Outline">
							<h3>In this article</h3>
						<ol><li><a href="https://docs.microsoft.com/en-us/windows/win32/etw/wnode-header#syntax">Syntax</a></li><li><a href="https://docs.microsoft.com/en-us/windows/win32/etw/wnode-header#members">Members</a></li><li><a href="https://docs.microsoft.com/en-us/windows/win32/etw/wnode-header#remarks">Remarks</a></li><li><a href="https://docs.microsoft.com/en-us/windows/win32/etw/wnode-header#requirements">Requirements</a></li><li><a href="https://docs.microsoft.com/en-us/windows/win32/etw/wnode-header#see-also">See also</a></li></ol></nav>


						<!-- <content> -->
							
<p>The <strong>WNODE_HEADER</strong> structure is a member of the <a href="https://docs.microsoft.com/en-us/windows/win32/etw/event-trace-properties" data-linktype="relative-path"><strong>EVENT_TRACE_PROPERTIES</strong></a> structure.</p>
<h2 id="syntax">Syntax<a class="docon docon-link heading-anchor" href="https://docs.microsoft.com/en-us/windows/win32/etw/wnode-header#syntax" aria-labelledby="syntax"></a></h2>
<div class="codeHeader" id="code-try-0" data-bi-name="code-header"><span class="language">C++</span>
			<button class="action" data-bi-name="copy" aria-label="Copy code">
				<span class="docon docon-edit-copy" role="presentation"></span>
				<span>Copy</span>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-C++" data-author-content="typedef struct _WNODE_HEADER {
  ULONG BufferSize;
  ULONG ProviderId;
  union {
    ULONG64 HistoricalContext;
    struct {
      ULONG Version;
      ULONG Linkage;
    };
  };
  union {
    HANDLE Â Â Â Â Â Â Â KernelHandle;
    LARGE_INTEGER TimeStamp;
  };
  GUID Â Guid;
  ULONG ClientContext;
  ULONG Flags;
} WNODE_HEADER, *PWNODE_HEADER;
"><span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> _<span class="hljs-title">WNODE_HEADER</span> {</span>
  ULONG BufferSize;
  ULONG ProviderId;
  <span class="hljs-keyword">union</span> {
    ULONG64 HistoricalContext;
    <span class="hljs-class"><span class="hljs-keyword">struct</span> {</span>
      ULONG Version;
      ULONG Linkage;
    };
  };
  <span class="hljs-keyword">union</span> {
    HANDLE &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;KernelHandle;
    LARGE_INTEGER TimeStamp;
  };
  GUID &nbsp;Guid;
  ULONG ClientContext;
  ULONG Flags;
} WNODE_HEADER, *PWNODE_HEADER;
</code></pre>
<h2 id="members">Members<a class="docon docon-link heading-anchor" href="https://docs.microsoft.com/en-us/windows/win32/etw/wnode-header#members" aria-labelledby="members"></a></h2>
<dl> <dt>
<p><strong>BufferSize</strong></p>
</dt> <dd>
<p>Total size of memory allocated, in bytes, for the event tracing session properties. The size of memory must include the room for the <a href="https://docs.microsoft.com/en-us/windows/win32/etw/event-trace-properties" data-linktype="relative-path"><strong>EVENT_TRACE_PROPERTIES</strong></a> structure plus the session name string and log file name string that follow the structure in memory.</p>
</dd> <dt>
<p><strong>ProviderId</strong></p>
</dt> <dd>
<p>Reserved for internal use.</p>
</dd> <dt>
<p><strong>HistoricalContext</strong></p>
</dt> <dd>
<p>On output, the handle to the event tracing session.</p>
</dd> <dt>
<p><strong>Version</strong></p>
</dt> <dd>
<p>Reserved for internal use.</p>
</dd> <dt>
<p><strong>Linkage</strong></p>
</dt> <dd>
<p>Reserved for internal use.</p>
</dd> <dt>
<p><strong>KernelHandle</strong></p>
</dt> <dd>
<p>Reserved for internal use.</p>
</dd> <dt>
<p><strong>TimeStamp</strong></p>
</dt> <dd>
<p>Time at which the information in this structure was updated, in 100-nanosecond intervals since midnight, January 1, 1601.</p>
</dd> <dt>
<p><strong>Guid</strong></p>
</dt> <dd>
<p>The GUID that you define for the session.</p>
<p>For an NT Kernel Logger session, set this member to <strong>SystemTraceControlGuid</strong>.</p>
<p>If this member is set to <strong>SystemTraceControlGuid</strong> or <strong>GlobalLoggerGuid</strong>, the logger will be a system logger.</p>
<p>For a private logger session, set this member to the provider's GUID that you are going to enable for the session.</p>
<p>If you start a session that is not a kernel logger or private logger session, you do not have to specify a session GUID. If you do not specify a GUID, ETW creates one for you. You need to specify a session GUID only if you want to change the default permissions associated with a specific session. For details, see the EventAccessControl function.</p>
<p>You cannot start more than one session with the same session GUID.</p>
<p><strong>Prior to Windows&nbsp;Vista:</strong> You can start more than one session with the same session GUID.</p>
</dd> <dt>
<p><strong>ClientContext</strong></p>
</dt> <dd>
<p>Clock resolution to use when logging the time stamp for each event. The default is Query performance counter (QPC).</p>
<p><strong>Prior to Windows&nbsp;Vista:</strong> The default is system time.</p>
<p><strong>Prior to Windows&nbsp;10, version 1703:</strong> No more than 2 distinct clock types can be used simultaneously by any system loggers.</p>
<p><strong>Starting with Windows&nbsp;10, version 1703:</strong> The clock type restriction has been removed. All three clock types can now be used simultaneously by system loggers.</p>
<p>You can specify one of the following values.</p>
<div class="table-scroll-wrapper"><table>
<colgroup>
<col style="">
<col style="">
</colgroup>
<thead>
<tr class="header">
<th>Value</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><dl> <dt>1</dt> </dl></td>
<td>Query performance counter (QPC). The QPC counter provides a high-resolution time stamp that is not affected by adjustments to the system clock. The time stamp stored in the event is equivalent to the value returned from the QueryPerformanceCounter API. For more information on the characteristics of this time stamp, see <a href="https://go.microsoft.com/fwlink/?LinkId=733315" data-linktype="external">Acquiring high-resolution time stamps</a>.<br> You should use this resolution if you have high event rates or if the consumer merges events from different buffers. In these cases, the precision and stability of the QPC time stamp allows for better accuracy in ordering the events from different buffers. However, the QPC time stamp will not reflect updates to the system clock, e.g. if the system clock is adjusted forward due to synchronization with an NTP server while the trace is in progress, the QPC time stamps in the trace will continue to reflect time as if no update had occurred.<br> To determine the resolution, use the <strong>PerfFreq</strong> member of <a href="https://docs.microsoft.com/en-us/windows/win32/etw/trace-logfile-header" data-linktype="relative-path"><strong>TRACE_LOGFILE_HEADER</strong></a> when consuming the event.<br> To convert an eventâ€™s time stamp into 100-ns units, use the following conversion formula: <br> scaledTimestamp = eventRecord.EventHeader.TimeStamp.QuadPart * 10000000.0 / logfileHeader.PerfFreq.QuadPart<br> Note that on older computers, the time stamp may not be accurate because the counter sometimes skips forward due to hardware errors.<br></td>
</tr>
<tr class="even">
<td><dl> <dt>2</dt> </dl></td>
<td>System time. The system time provides a time stamp that tracks changes to the systemâ€™s clock, e.g. if the system clock is adjusted forward due to synchronization with an NTP server while the trace is in progress, the System Time time stamps in the trace will also jump forward to match the new setting of the system clock. <br>
<ul>
<li>On systems prior to Windows 10, the time stamp stored in the event is equivalent to the value returned from the GetSystemTimeAsFileTime API.</li>
<li>On Windows 10 or later, the time stamp stored in the event is equivalent to the value returned from the GetSystemTimePreciseAsFileTime API.</li>
</ul>
Prior to Windows 10, the resolution of this time stamp was the resolution of a system clock tick, as indicated by the TimerResolution member of TRACE_LOGFILE_HEADER. Starting with Windows 10, the resolution of this time stamp is the performance counter resolution, as indicated by the PerfFreq member of TRACE_LOGFILE_HEADER.<br> To convert an eventâ€™s time stamp into 100-ns units, use the following conversion formula: <br> scaledTimestamp = eventRecord.EventHeader.TimeStamp.QuadPart<br> Note that when events are captured on a system running an OS prior to Windows 10, if the volume of events is high, the resolution for system time may not be fine enough to determine the sequence of events. In this case, a set of events will have the same time stamp, but the order in which ETW delivers the events may not be correct. Starting with Windows 10, the time stamp is captured with additional precision, though some instability may still occur in cases where the system clock was adjusted while the trace was being captured.<br></td>
</tr>
<tr class="odd">
<td><dl> <dt>3</dt> </dl></td>
<td>CPU cycle counter. The CPU counter provides the highest resolution time stamp and is the least resource-intensive to retrieve. However, the CPU counter is unreliable and should not be used in production. For example, on some computers, the timers will change frequency due to thermal and power changes, in addition to stopping in some states.<br> To determine the resolution, use the <strong>CpuSpeedInMHz</strong> member of <a href="https://docs.microsoft.com/en-us/windows/win32/etw/trace-logfile-header" data-linktype="relative-path"><strong>TRACE_LOGFILE_HEADER</strong></a> when consuming the event.<br> If your hardware does not support this clock type, ETW uses system time.<br> <strong>Windows Server&nbsp;2003, Windows&nbsp;XP with SP1 and Windows&nbsp;XP:</strong> This value is not supported, it was introduced in Windows Server&nbsp;2003 with SP1 and Windows&nbsp;XP with SP2.<br></td>
</tr>
</tbody>
</table></div>
<p>&nbsp;</p>
<p><strong>Windows&nbsp;2000:</strong> The <strong>ClientContext</strong> member is not supported.</p>
</dd> <dt>
<p><strong>Flags</strong></p>
</dt> <dd>
<p>Must contain <strong>WNODE_FLAG_TRACED_GUID</strong> to indicate that the structure contains event tracing information.</p>
</dd> </dl>
<h2 id="remarks">Remarks<a class="docon docon-link heading-anchor" href="https://docs.microsoft.com/en-us/windows/win32/etw/wnode-header#remarks" aria-labelledby="remarks"></a></h2>
<p>Be sure to initialize the memory for this structure to zero before setting any members.</p>
<p>To convert an ETW timestamp into a FILETIME, use the following procedure:</p>
<dl> 1. For each session or log file being processed (i.e. for each EVENT\_TRACE\_LOGFILE), check the logFile.ProcessTraceMode field to determine whether the PROCESS\_TRACE\_MODE\_RAW\_TIMESTAMP flag is set. By default, this flag is not set. If this flag is not set, the ETW runtime will automatically convert the timestamp of each EVENT\_RECORD into a FILETIME before sending the EVENT\_RECORD to your EventRecordCallback function, so no additional processing is needed. The following steps should only be used if the trace is being processed with the PROCESS\_TRACE\_MODE\_RAW\_TIMESTAMP flag set.  
2. For each session or log file being processed (i.e. for each EVENT\_TRACE\_LOGFILE), check the logFile.LogfileHeader.ReservedFlags field to determine the time stamp scale for the log file. Based on the value of ReservedFlags, follow one of these steps to determine the value to use for timeStampScale in the remaining steps: <dl> a. If ReservedFlags == 1 (QPC): DOUBLE timeStampScale = 10000000.0 / logFile.LogfileHeader.PerfFreq.QuadPart;  
b. If ReservedFlags == 2 (System time): DOUBLE timeStampScale = 1.0;  
Note that the remaining steps are unnecessary for events using system time, since the events already provide their time stamps in FILETIME units. The remaining steps will work but are unnecessary and will introduce a small rounding error.  
c. If ReservedFlags == 3 (CPU cycle counter): DOUBLE timeStampScale = 10.0 / logFile.LogfileHeader.CpuSpeedInMHz;  
</dl>  3. On the FIRST call to your EventRecordCallback function for a particular log file, use data from the logFile (EVENT\_TRACE\_LOGFILE) and from the eventRecord (EVENT\_RECORD) to compute the timeStampBase that will be used for the remaining events in the log file: INT64 timeStampBase = logFile.LogfileHeader.StartTime.QuadPart - (INT64)(timeStampScale \* eventRecord.EventHeader.TimeStamp.QuadPart);  
4. For each eventRecord (EVENT\_RECORD), convert the eventâ€™s timestamp into FILETIME as follows, using the timeStampScale and timeStampBase values calculated in steps 2 and 3: INT64 timeStampInFileTime = timeStampBase + (INT64)(timeStampScale \* eventRecord.EventHeader.TimeStamp.QuadPart);  
</dl>
<h2 id="requirements">Requirements<a class="docon docon-link heading-anchor" href="https://docs.microsoft.com/en-us/windows/win32/etw/wnode-header#requirements" aria-labelledby="requirements"></a></h2>
<div class="table-scroll-wrapper"><table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Minimum supported client<br></td>
<td>Windows&nbsp;2000 Professional [desktop apps | UWP apps]<br></td>
</tr>
<tr>
<td>Minimum supported server<br></td>
<td>Windows&nbsp;2000 Server [desktop apps | UWP apps]<br></td>
</tr>
<tr>
<td>Header<br></td>
<td><dl> <dt>Wmistr.h</dt> </dl></td>
</tr>
</tbody>
</table></div>
<h2 id="see-also">See also<a class="docon docon-link heading-anchor" href="https://docs.microsoft.com/en-us/windows/win32/etw/wnode-header#see-also" aria-labelledby="see-also"></a></h2>
<dl> <dt>
<p><a href="https://docs.microsoft.com/en-us/windows/win32/etw/controlcallback" data-linktype="relative-path"><em>ControlCallback</em></a></p>
</dt> <dt>
<p><a href="https://docs.microsoft.com/en-us/windows/win32/etw/event-trace-properties" data-linktype="relative-path"><strong>EVENT_TRACE_PROPERTIES</strong></a></p>
</dt> <dt>
<p><a href="https://docs.microsoft.com/en-us/windows/win32/etw/gettraceloggerhandle" data-linktype="relative-path"><strong>GetTraceLoggerHandle</strong></a></p>
</dt> <dt>
<p><a href="https://msdn.microsoft.com/en-us/library/Aa383713(v=VS.85).aspx" data-linktype="external"><strong>LARGE_INTEGER</strong></a></p>
</dt> </dl>
<p>&nbsp;</p>
<p>&nbsp;</p>

						<!-- </content> -->

						</main>

						<!-- rating mobile section -->
								<div class="is-hidden-desktop has-border-top has-margin-top-large has-padding-top-small">
<div data-bi-name="rating" class="feedback-verbatim has-border-bottom has-padding-bottom-small has-margin-bottom-small">
	<div class="binary-rating">
		<div class="binary-rating-buttons">
			<h3 class="has-text-weight-semibold has-margin-top-none has-margin-bottom-small">Is this page helpful?</h3>
			<div>
				<button class="thumb-rating like has-inner-focus has-padding-left-extra-small has-padding-right-extra-small" title="Yes" data-bi-name="rating-yes" data-bi-sat="1">
					<span class="icon docon docon-like" aria-hidden="true"></span><span>Yes</span>
				</button>
				<button class="thumb-rating dislike has-inner-focus has-padding-none has-padding-right-extra-small" title="No" data-bi-name="rating-no" data-bi-sat="0" aria-expanded="false" aria-haspopup="true" aria-controls="rating-feedback">
					<span class="icon docon docon-dislike" aria-hidden="true"></span><span>No</span>
				</button>
			</div>
		</div>
		<form class="feedback-verbatim-form is-hidden">
			<div class="verbatim-textarea box is-relative has-box-shadow-none has-border has-margin-top-small has-padding-extra-small is-size-8">
				<label for="rating-feedback-mobile" class="visually-hidden">Any additional feedback?</label>
				<textarea id="rating-feedback-mobile" rows="4" maxlength="999" placeholder="Any additional feedback?" required="" class="textarea has-border-none has-box-shadow-none has-inner-focus"></textarea>
			</div>
			<div class="buttons is-right has-margin-top-medium has-margin-right-extra-small">
				<button class="skip-rating button is-text is-link is-small" type="button">Skip</button>
				<button disabled="" class="submit-rating button is-primary is-small" type="submit" data-bi-name="rating-verbatim">Submit</button>
			</div>
		</form>
	</div>
	<div class="thankyou-rating is-hidden">
		<p>Thank you.</p>
	</div>
</div>								</div>
						<!-- end rating mobile section -->

						<!-- feedback section -->





						<!-- end feedback section -->

						<div class="footerContainer is-visible-interactive has-default-focus ">
<footer id="footer-interactive" data-bi-name="footer" class="footer-layout">

    <a data-mscc-ic="false" class="locale-selector-link" href="https://docs.microsoft.com/en-us/locale?target=https://docs.microsoft.com/en-us/windows/win32/etw/wnode-header" data-bi-name="select-locale"><span class="icon docon docon-world is-size-4 has-margin-right-small" aria-hidden="true"></span><span class="local-selector-link-text has-inner-focus">English (United States)</span></a>

    <ul class="links" data-bi-name="footerlinks">
		<li><a data-mscc-ic="false" href="https://docs.microsoft.com/previous-versions/" data-bi-name="archivelink">Previous Version Docs</a></li>
		<li><a data-mscc-ic="false" href="https://docs.microsoft.com/teamblog" data-bi-name="bloglink">Blog</a></li>
		<li><a data-mscc-ic="false" href="https://docs.microsoft.com/contribute" data-bi-name="contributorGuide">Contribute</a></li>
			<li><a data-mscc-ic="false" href="https://go.microsoft.com/fwlink/?LinkId=521839" data-bi-name="privacy">Privacy &amp; Cookies</a></li>
		<li><a data-mscc-ic="false" href="https://docs.microsoft.com/en-us/legal/termsofuse" data-bi-name="termsofuse">Terms of Use</a></li>
		<li><a data-mscc-ic="false" href="https://aka.ms/sitefeedback" data-bi-name="feedback">Site Feedback</a></li>
		<li><a data-mscc-ic="false" href="https://www.microsoft.com/en-us/legal/intellectualproperty/Trademarks/EN-US.aspx" data-bi-name="trademarks">Trademarks</a></li>
    </ul>
</footer>
						</div>
					</div>

					<div id="page-actions" class="right-container column is-one-quarter is-one-fifth-desktop is-hidden-mobile is-hidden-tablet-only" data-bi-name="pageactions" role="complementary" aria-label="Page Actions">
						<div id="affixed-right-container" class="doc-outline is-fixed is-vertically-scrollable" style="width: 199.188px; top: 111.5px; bottom: 24px;">
<div data-bi-name="rating" class="feedback-verbatim has-border-bottom has-padding-bottom-small has-margin-bottom-small">
	<div class="binary-rating">
		<div class="binary-rating-buttons">
			<h3 class="has-text-weight-semibold has-margin-top-none has-margin-bottom-small">Is this page helpful?</h3>
			<div>
				<button class="thumb-rating like has-inner-focus has-padding-left-extra-small has-padding-right-extra-small" title="Yes" data-bi-name="rating-yes" data-bi-sat="1">
					<span class="icon docon docon-like" aria-hidden="true"></span><span>Yes</span>
				</button>
				<button class="thumb-rating dislike has-inner-focus has-padding-none has-padding-right-extra-small" title="No" data-bi-name="rating-no" data-bi-sat="0" aria-expanded="false" aria-haspopup="true" aria-controls="rating-feedback">
					<span class="icon docon docon-dislike" aria-hidden="true"></span><span>No</span>
				</button>
			</div>
		</div>
		<form class="feedback-verbatim-form is-hidden">
			<div class="verbatim-textarea box is-relative has-box-shadow-none has-border has-margin-top-small has-padding-extra-small is-size-8">
				<label for="rating-feedback-mobile" class="visually-hidden">Any additional feedback?</label>
				<textarea id="rating-feedback-mobile" rows="4" maxlength="999" placeholder="Any additional feedback?" required="" class="textarea has-border-none has-box-shadow-none has-inner-focus"></textarea>
			</div>
			<div class="buttons is-right has-margin-top-medium has-margin-right-extra-small">
				<button class="skip-rating button is-text is-link is-small" type="button">Skip</button>
				<button disabled="" class="submit-rating button is-primary is-small" type="submit" data-bi-name="rating-verbatim">Submit</button>
			</div>
		</form>
	</div>
	<div class="thankyou-rating is-hidden">
		<p>Thank you.</p>
	</div>
</div>							<nav id="side-doc-outline" data-bi-name="intopic toc" role="navigation" aria-label="Article Outline">
								<h3>In this article</h3>
							<ol><li class="selected"><a href="https://docs.microsoft.com/en-us/windows/win32/etw/wnode-header#syntax">Syntax</a></li><li class=""><a href="https://docs.microsoft.com/en-us/windows/win32/etw/wnode-header#members">Members</a></li><li><a href="https://docs.microsoft.com/en-us/windows/win32/etw/wnode-header#remarks">Remarks</a></li><li><a href="https://docs.microsoft.com/en-us/windows/win32/etw/wnode-header#requirements">Requirements</a></li><li><a href="https://docs.microsoft.com/en-us/windows/win32/etw/wnode-header#see-also">See also</a></li></ol></nav>
						</div>
					</div>

					<!--end of div.columns -->
				</div>

			<!--end of .primary-holder -->
			</section>

			<aside id="interactive-container" class="interactive-container is-visible-interactive column has-body-background-dark ">
			</aside>
		</div>

		<!--end of .mainContainer -->
	</div>

	<div id="openFeedbackContainer" class="openfeedback-container"></div>

	<div class="footerContainer has-default-focus is-hidden-interactive ">
<footer id="footer" data-bi-name="footer" class="footer-layout uhf-container has-padding" role="contentinfo">

    <a data-mscc-ic="false" class="locale-selector-link" href="https://docs.microsoft.com/en-us/locale?target=https://docs.microsoft.com/en-us/windows/win32/etw/wnode-header" data-bi-name="select-locale"><span class="icon docon docon-world is-size-4 has-margin-right-small" aria-hidden="true"></span><span class="local-selector-link-text">English (United States)</span></a>

    <ul class="links" data-bi-name="footerlinks">
		<li><a data-mscc-ic="false" href="https://docs.microsoft.com/previous-versions/" data-bi-name="archivelink">Previous Version Docs</a></li>
		<li><a data-mscc-ic="false" href="https://docs.microsoft.com/teamblog" data-bi-name="bloglink">Blog</a></li>
		<li><a data-mscc-ic="false" href="https://docs.microsoft.com/contribute" data-bi-name="contributorGuide">Contribute</a></li>
			<li><a data-mscc-ic="false" href="https://go.microsoft.com/fwlink/?LinkId=521839" data-bi-name="privacy">Privacy &amp; Cookies</a></li>
		<li><a data-mscc-ic="false" href="https://docs.microsoft.com/en-us/legal/termsofuse" data-bi-name="termsofuse">Terms of Use</a></li>
		<li><a data-mscc-ic="false" href="https://aka.ms/sitefeedback" data-bi-name="feedback">Site Feedback</a></li>
		<li><a data-mscc-ic="false" href="https://www.microsoft.com/en-us/legal/intellectualproperty/Trademarks/EN-US.aspx" data-bi-name="trademarks">Trademarks</a></li>
    </ul>
</footer>
	</div>

	<div id="action-panel" role="region" aria-label="Action Panel" class="action-panel has-default-focus" tabindex="-1"></div>


<div id="goog-gt-tt" class="skiptranslate" dir="ltr"><div style="padding: 8px;"><div><div class="logo"><img src="./WNODE_HEADER structure (Wmistr.h) - Win32 apps _ Microsoft Docs_files/translate_24dp.png" width="20" height="20" alt="Google ç¿»è¯‘"></div></div></div><div class="top" style="padding: 8px; float: left; width: 100%;"><h1 class="title gray">åŸæ–‡</h1></div><div class="middle" style="padding: 8px;"><div class="original-text"></div></div><div class="bottom" style="padding: 8px;"><div class="activity-links"><span class="activity-link">æä¾›æ›´å¥½çš„ç¿»è¯‘å»ºè®®</span><span class="activity-link"></span></div><div class="started-activity-container"><hr style="color: #CCC; background-color: #CCC; height: 1px; border: none;"><div class="activity-root"></div></div></div><div class="status-message" style="display: none;"></div></div><div id="sel-ext-win" class="sel-text-win" style="display: none;"></div><div class="goog-te-spinner-pos"><div class="goog-te-spinner-animation"><svg xmlns="http://www.w3.org/2000/svg" class="goog-te-spinner" width="96px" height="96px" viewBox="0 0 66 66"><circle class="goog-te-spinner-path" fill="none" stroke-width="6" stroke-linecap="round" cx="33" cy="33" r="30"></circle></svg></div></div></body></html>