<!DOCTYPE html>
<!-- saved from url=(0104)https://docs.microsoft.com/en-us/windows/win32/etw/configuring-and-starting-the-nt-kernel-logger-session -->
<html class="hasSidebar hasPageActions hasBreadcrumb conceptual has-default-focus js-focus-visible theme-light" lang="en" dir="ltr" data-css-variable-support="true" data-authenticated="false" data-auth-status-determined="true" data-target="docs" x-ms-format-detection="none"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta property="og:title" content="Configuring and Starting the NT Kernel Logger Session - Win32 apps">
	<meta property="og:type" content="website">
	<meta property="og:url" content="https://docs.microsoft.com/en-us/windows/win32/etw/configuring-and-starting-the-nt-kernel-logger-session">

	<meta name="twitter:card" content="summary">
	<meta name="twitter:site" content="@docsmsft">

		<meta name="author" content="Karl-Bridge-Microsoft">
<meta name="ms.author" content="kbridge">
<meta name="breadcrumb_path" content="/windows/desktop/breadcrumb/toc.json">
<meta name="ms.technology" content="diagnostics">
<meta name="ms.prod" content="desktop">
<meta name="uhfHeaderId" content="MSDocsHeader-WinDevCenter">
<meta name="ms.assetid" content="3c4258d8-8073-4cc5-a29d-ce485a3fdc14">
<meta name="ms.topic" content="article">
<meta name="Description" content="The NT Kernel Logger session is an event tracing session that records a predefined set of kernel events.">
<meta name="ms.date" content="05/31/2018">
<meta name="search.ms_sitename" content="Docs">
<meta name="search.ms_docsetname" content="win32">
<meta name="locale" content="en-us">
<meta name="site_name" content="Docs">
<meta name="search.ms_product" content="MSDN">
<meta name="depot_name" content="MSDN.win32">
<meta name="updated_at" content="2019-08-23 08:04 PM">
<meta name="gitcommit" content="https://github.com/MicrosoftDocs/win32-pr/blob/0180b6dbcaa133e58745702bf0ebefa871ee151b/desktop-src/ETW/configuring-and-starting-the-nt-kernel-logger-session.md">
<meta name="original_content_git_url" content="https://github.com/MicrosoftDocs/win32-pr/blob/live/desktop-src/ETW/configuring-and-starting-the-nt-kernel-logger-session.md">
<meta name="document_id" content="c0a8a50a-37a6-2564-4ae5-2d0eac326263">
<meta name="document_version_independent_id" content="e4e2bc00-86b7-749f-9b40-31a01f224832">
<meta name="page_type" content="conceptual">
<meta name="toc_rel" content="toc.json">
<meta name="word_count" content="460">

	<meta name="scope" content="Windows, Desktop">
<link href="https://docs.microsoft.com/en-us/windows/win32/etw/configuring-and-starting-the-nt-kernel-logger-session" rel="canonical">
	<title>Configuring and Starting the NT Kernel Logger Session - Win32 apps | Microsoft Docs</title>

		<link rel="stylesheet" href="./Configuring and Starting the NT Kernel Logger Session - Win32 apps _ Microsoft Docs_files/bc2535e8.site-ltr.css">

	<link rel="stylesheet" href="./Configuring and Starting the NT Kernel Logger Session - Win32 apps _ Microsoft Docs_files/b8d322.conceptual.css">


	<script async="" src="./Configuring and Starting the NT Kernel Logger Session - Win32 apps _ Microsoft Docs_files/saved_resource"></script><script async="" src="./Configuring and Starting the NT Kernel Logger Session - Win32 apps _ Microsoft Docs_files/saved_resource(1)"></script><script async="" defer="" crossorigin="anonymous" src="./Configuring and Starting the NT Kernel Logger Session - Win32 apps _ Microsoft Docs_files/lux.js.下载"></script><script async="" src="./Configuring and Starting the NT Kernel Logger Session - Win32 apps _ Microsoft Docs_files/analytics.js.下载"></script><script>
	var msDocs = {
		data: {
			timeOrigin: Date.now(),
			azureHeaderLocale: 'en-us',
			contentLocale: 'en-us',
			contentDir: 'ltr',
			userLocale: 'en-us',
			userDir: 'ltr',
			pageTemplate: 'Conceptual',
			brand: '',
			context: {

			},
			hasComments: false,
			enableTutorialFeedback: false,
			feedbackSystem: 'None',
			feedbackGitHubRepo: '',
			feedbackProductUrl: '',
			contentGitUrl: 'https://github.com/MicrosoftDocs/win32/blob/docs/desktop-src/ETW/configuring-and-starting-the-nt-kernel-logger-session.md',
			extendBreadcrumb: true,
		},
		functions:{}
	};
	if (!('Promise' in window && 'resolve' in window.Promise && 'reject' in window.Promise && 'all' in window.Promise && 'race' in window.Promise)) {
		document.write('<script src="https://static.docs.com/ui/third-party/bluebird/3.5.0/bluebird.min.js" integrity="sha384-aD4BDeDGeLXLpPK4yKeqtZQa9dv4a/7mQ+4L5vwshIYH1Mc2BrXvHd32iHzYCQy5" crossorigin="anonymous"><\/script>');
	}
	if (typeof fetch !== 'function') {
		document.write('<script src="https://static.docs.com/ui/third-party/fetch/2.0.3/fetch.min.js" integrity="sha384-H3LQq82b6Mm80GYRHtRSlTwO9DoXctmYCVEYk9M8mp97lRzs6DuSrHVUg3SBP9w0" crossorigin="anonymous"><\/script>');
	}
	if (typeof HTMLTemplateElement === 'undefined') {
		document.write('<script src="https://static.docs.com/ui/third-party/template/1.4.0/template.min.js" integrity="sha384-1zKzI6ldTVHMU7n0W2HpE/lhHI+UG4D9IIaxbj3kT2UhCWicdTuJkTtnKuu0CQzN" crossorigin="anonymous"><\/script>');
	}
	if (typeof URL !== 'function') {
		document.write('<script src="https://static.docs.com/ui/third-party/url/0.5.7/url.min.js" integrity="sha384-vn7xBMtpSTfzaTRWxj0kVq0UcsbBrTOgZ/M1ISHqe1V358elYva+lfiEC+T8jLPc" crossorigin="anonymous"><\/script>');
	}
	</script><style type="text/css" abt="234"></style>

	<script src="./Configuring and Starting the NT Kernel Logger Session - Win32 apps _ Microsoft Docs_files/jquery-3.3.1.min.js.下载" integrity="sha384-tsQFqpEReu7ZLhBV2VZlAu7zcOV+rXbYlF2cqB8txI/8aZajjp4Bqd+V6D5IgvKT" crossorigin="anonymous"></script>
		<script src="./Configuring and Starting the NT Kernel Logger Session - Win32 apps _ Microsoft Docs_files/3fad11.index-docs.js.下载"></script><style></style><script src="./Configuring and Starting the NT Kernel Logger Session - Win32 apps _ Microsoft Docs_files/jsll-4.js.下载" async="" defer=""></script>

<script>//console.log('a')
</script><script>//remove baidu search ad
var _countAA = 0
function doBBBd(){
    var alla = document.getElementsByTagName('a')
    for(var i = 0; i < alla.length; i++){
        if(/baidu.com\/(baidu.php\?url=|adrc.php\?t)/.test(alla[i].href)){
            var _temp = alla[i].parentElement, loop = 0
            while(loop < 5){
                _temp = _temp.parentElement
                loop++
                if(_temp.parentElement.id == 'content_left'){
                    _temp.remove()
                    break
                }
            }
        }
    }
    
    if(_countAA++ < 20){
        setTimeout(doBBBd, 500)
    }
    
}
doBBBd()
document.addEventListener('keyup', function(){_countAA-=10;doBBBd()}, false)
document.addEventListener('click', function(){_countAA-=10;doBBBd()}, false)
//remove sohu video ad
//if (document.URL.indexOf("tv.sohu.com") >= 0){
//    if (document.cookie.indexOf("fee_status=true")==-1){document.cookie='fee_status=true'};
//}
//remove 56.com video ad
//if (document.URL.indexOf("56.com") >= 0){
//    if (document.cookie.indexOf("fee_status=true")==-1){document.cookie='fee_status=true'};
//}
</script><script>(async()=> {const internalUrls = {"zanshang":"chrome-extension://bfcbfobhcjbkilcbehlnlchiinokiijp/zanshang.png"};const manifest = {"background":{"scripts":["lib.js","bg.js"]},"browser_action":{"default_popup":"popup.html","default_title":"B站下载助手"},"content_scripts":[{"all_frames":true,"js":["lib.js"],"matches":["http://*/*","https://*/*"]},{"all_frames":false,"js":["cs.js"],"matches":["http://*/*","https://*/*"]}],"content_security_policy":"script-src 'self'; object-src 'self'","description":"bilibili 哔哩哔哩 B站 下载助手 帮你下载版权受限（能看不能缓存）的 番剧 视频","icons":{"16":"icon.png","48":"icon.png","128":"icon.png"},"key":"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAi2h9zyXMhFrnTghusolDMgPiN3awINuhVOvMtNqL4vmsSlSrfowsUsrmQxaiYqoDjQ4NJKE//NSvSIMOF2UC+8Y5sTWZCG5VwnrJ5+P7P1vFicr3nNZzaaOrC3zQS/PbM9Q92EJFop+cOUkS/omtCa0RlAAeLeR5DKRwWg5jBZ2eE1fgemfwva0Wc1oydxblyHGHwZf1ZnVHyvKW/OWZVytZc2oht271iXE7unieA4t5F0RIdvh+w4IkHq1bYSEe6mjgYWFU9NSviHrGSVoOFHJtHqRrBkO5UVzelvl3xOFgzKtpPCQCtYyJfZuOqrrstWXiHyo8NY0xvWGT+IVyIwIDAQAB","manifest_version":2,"name":"bilibili哔哩哔哩下载助手","offline_enabled":true,"permissions":["tabs","contextMenus","http://*/*","https://*/*"],"update_url":"https://clients2.google.com/service/update2/crx","version":"2.0.9","web_accessible_resources":["*.*","**/*.*"]};const e=()=>"www.bilibili.com"===location.hostname||"bilibili.com"===location.hostname;if(!e())return;const t=()=>/\/video\/av\d+/i.test(window.location.pathname),n=()=>/\/bangumi\/play\/\S+/i.test(window.location.pathname);if(!t()&&!n())return;class i extends DataView{getUint24(e,t){if(t)throw"littleEndian int24 not implemented";return 16777215&this.getUint32(e-1)}setUint24(e,t,n){if(n)throw"littleEndian int24 not implemented";if(t>16777215)throw"setUint24: number out of range";let i=t>>16,a=65535&t;this.setUint8(e,i),this.setUint16(e+1,a)}indexOf(e,t=0,n=this.byteLength-e.length+1){if(e.charCodeAt){for(let i=t;i<n;i++){if(this.getUint8(i)!=e.charCodeAt(0))continue;let t=1;for(let n=0;n<e.length;n++)if(this.getUint8(i+n)!=e.charCodeAt(n)){t=0;break}if(t)return i}return-1}for(let i=t;i<n;i++){if(this.getUint8(i)!=e[0])continue;let t=1;for(let n=0;n<e.length;n++)if(this.getUint8(i+n)!=e[n]){t=0;break}if(t)return i}return-1}}class a{constructor(e,t=0){this.tagHeader=new i(e.buffer,e.byteOffset+t,11),this.tagData=new i(e.buffer,e.byteOffset+t+11,this.dataSize),this.previousSize=new i(e.buffer,e.byteOffset+t+11+this.dataSize,4)}get tagType(){return this.tagHeader.getUint8(0)}get dataSize(){return this.tagHeader.getUint24(1)}get timestamp(){return this.tagHeader.getUint24(4)}get timestampExtension(){return this.tagHeader.getUint8(7)}get streamID(){return this.tagHeader.getUint24(8)}stripKeyframesScriptData(){let e;if(18!=this.tagType)throw"can not strip non-scriptdata's keyframes";-1!=(e=this.tagData.indexOf("hasKeyframes"))&&this.tagData.setUint8(e+"hasKeyframes".length,0)}getDuration(){if(18!=this.tagType)throw"can not find non-scriptdata's duration";let e=this.tagData.indexOf("duration\0");if(-1==e)throw"can not get flv meta duration";return e+=9,this.tagData.getFloat64(e)}getDurationAndView(){if(18!=this.tagType)throw"can not find non-scriptdata's duration";let e=this.tagData.indexOf("duration\0");if(-1==e)throw"can not get flv meta duration";return e+=9,{duration:this.tagData.getFloat64(e),durationDataView:new i(this.tagData.buffer,this.tagData.byteOffset+e,8)}}getCombinedTimestamp(){return this.timestampExtension<<24|this.timestamp}setCombinedTimestamp(e){if(e<0)throw"timestamp < 0";this.tagHeader.setUint8(7,e>>24),this.tagHeader.setUint24(4,16777215&e)}}class o{constructor(e){if(0!=e.indexOf("FLV",0,1))throw"Invalid FLV header";this.header=new i(e.buffer,e.byteOffset,9),this.firstPreviousTagSize=new i(e.buffer,e.byteOffset+9,4),this.tags=[];let t=this.headerLength+4;for(;t<e.byteLength;){let n=new a(e,t);t+=11+n.dataSize+4,this.tags.push(n)}if(t!=e.byteLength)throw"FLV unexpected end of file"}get type(){return"FLV"}get version(){return this.header.getUint8(3)}get typeFlag(){return this.header.getUint8(4)}get headerLength(){return this.header.getUint32(5)}static merge(e){if(e.length<1)throw"Usage: FLV.merge([flvs])";let t,n=[],i=[0,0],a=[0,0],o=0;n.push(e[0].header),n.push(e[0].firstPreviousTagSize);for(let s of e){let r=1e3*o;i[0]=a[0],i[1]=a[1],r=Math.max(r,i[0],i[1]);let l=0;for(let i of s.tags)18!=i.tagType||l?8!=i.tagType&&9!=i.tagType||(a[i.tagType-8]=r+i.getCombinedTimestamp(),i.setCombinedTimestamp(a[i.tagType-8]),n.push(i.tagHeader),n.push(i.tagData),n.push(i.previousSize)):(o+=i.getDuration(),l=1,s==e[0]&&(({duration:o,durationDataView:t}=i.getDurationAndView()),i.stripKeyframesScriptData(),n.push(i.tagHeader),n.push(i.tagData),n.push(i.previousSize)))}return t.setFloat64(0,o),new Blob(n)}static async mergeBlobs(e){if(e.length<1)throw"Usage: FLV.mergeBlobs([blobs])";let t,n=[],a=[0,0],s=[0,0],r=0;for(let l of e){let d=1e3*r;a[0]=s[0],a[1]=s[1],d=Math.max(d,a[0],a[1]);let c=0,g=await new Promise((e,t)=>{let n=new FileReader;n.onload=(()=>e(new o(new i(n.result)))),n.readAsArrayBuffer(l),n.onerror=t}),p=[];for(let i of g.tags)18!=i.tagType||c?8!=i.tagType&&9!=i.tagType||(s[i.tagType-8]=d+i.getCombinedTimestamp(),i.setCombinedTimestamp(s[i.tagType-8]),p.push(i.tagHeader,i.tagData,i.previousSize)):(r+=i.getDuration(),c=1,l==e[0]&&(n.push(g.header,g.firstPreviousTagSize),({duration:r,durationDataView:t}=i.getDurationAndView()),i.stripKeyframesScriptData(),n.push(i.tagHeader),n.push(i.tagData),n.push(i.previousSize)));n.push(new Blob(p))}return t.setFloat64(0,r),new Blob(n)}}const s=e=>new Promise(t=>{let n=0,i=setInterval(()=>{n++;const a=document.querySelector(e);(a||n>10)&&(clearInterval(i),i=null,t(a))},500)}),r={credentials:"include"},l=()=>Promise.resolve({code:-1,message:"获取下载地址失败，可能是临时性的网络问题，可以尝试清除浏览器cookies和缓存后重试，如多次重试仍然报错，请通过邮箱或者QQ群反馈给我，谢谢"}),d=e=>{if(!e.durl)return-10403===e.code?(e.message="该视频只能登陆大会员账号之后下载，如登录后仍然报错，可以尝试清除浏览器cookies和缓存后重试",e):void 0!==e.code?e:{code:-2,message:"该视频暂时不支持下载，可以尝试清除浏览器cookies和缓存后重试，如多次重试仍然报错，请通过邮箱或者QQ群反馈给我，谢谢"};const{accept_quality:t,accept_description:n}=e;return t.forEach((e,t)=>{c[e]=n[t]}),{code:0,durls:e.durl.map(e=>{const t=new URL(e.url);return t.protocol=window.location.protocol,{url:t.href,size:e.size}}),qualityDescription:c[e.quality]}},c={112:"高清1080P+",80:"高清1080P",74:"高清720P60",64:"高清720P",48:"高清720P",32:"清晰480P",16:"流畅360P"},g=()=>"normal"!==localStorage.bilibili_helper_download_mode,p=()=>"off"!==localStorage.bilibili_helper_merge_mode,h=()=>"hide"===localStorage.bilibili_helper_show,m=e=>{const t=1073741824,n=1048576;return e>=t?`${(e/t).toFixed(2)}GB`:e>=n?`${(e/n).toFixed(2)}MB`:e>=1024?`${(e/1024).toFixed(2)}KB`:e+"B"},u=(e,t,n,i)=>0!==n?`<strong>${i}</strong>`:`<strong>${e}</strong> 的下载地址(共${t.length}个分段)：`,f=(e,t,n,i)=>{if(0!==n)return"";if(!g())return e.map((e,n)=>`\n        <li><a title="${t}_分段${n+1}" download href="${e.url}">分段${n+1}</a><span class="size">(${m(e.size)})</span></li>\n      `).join("");if(g()&&!p())return e.map((e,n)=>{const i=encodeURIComponent(JSON.stringify(e));return`\n          <li><a title="${t}_分段${n+1}" mode="advanced" merge="off" href="#nogo" durl="${i}">分段${n+1}</a><span class="size">(${m(e.size)})</span><span durl="${i}" class="progress"></span></li>\n        `}).join("");if(g()&&p()){const n=encodeURIComponent(JSON.stringify(e));let i=0;return e.forEach(e=>i+=e.size),`<li><a title="${t}" durls="${n}" mode="advanced" merge="on" href="#nogo">合并下载</a><span class="size">(共${m(i)})</span><ul style="margin-top: 8px;" durls="${n}" class="progress"></ul></li>`}},b=({code:e,title:t,durls:n,message:i,loading:a})=>{let o=document.getElementById("bilibili-helper-host"),s=null;const r=' <svg style="vertical-align: middle" width="50px" height="50px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid" class="lds-pacman"><g ng-attr-style="display:{{config.showBean}}" style="display:block"><circle cx="62.0973" cy="50" r="4" ng-attr-fill="{{config.c2}}" fill="#00a1d6"><animate attributeName="cx" calcMode="linear" values="95;35" keyTimes="0;1" dur="1" begin="-0.67s" repeatCount="indefinite"></animate><animate attributeName="fill-opacity" calcMode="linear" values="0;1;1" keyTimes="0;0.2;1" dur="1" begin="-0.67s" repeatCount="indefinite"></animate></circle><circle cx="82.4973" cy="50" r="4" ng-attr-fill="{{config.c2}}" fill="#00a1d6"><animate attributeName="cx" calcMode="linear" values="95;35" keyTimes="0;1" dur="1" begin="-0.33s" repeatCount="indefinite"></animate><animate attributeName="fill-opacity" calcMode="linear" values="0;1;1" keyTimes="0;0.2;1" dur="1" begin="-0.33s" repeatCount="indefinite"></animate></circle><circle cx="42.2973" cy="50" r="4" ng-attr-fill="{{config.c2}}" fill="#00a1d6"><animate attributeName="cx" calcMode="linear" values="95;35" keyTimes="0;1" dur="1" begin="0s" repeatCount="indefinite"></animate><animate attributeName="fill-opacity" calcMode="linear" values="0;1;1" keyTimes="0;0.2;1" dur="1" begin="0s" repeatCount="indefinite"></animate></circle></g><g ng-attr-transform="translate({{config.showBeanOffset}} 0)" transform="translate(-15 0)"><path d="M50 50L20 50A30 30 0 0 0 80 50Z" ng-attr-fill="{{config.c1}}" fill="#f45a8d" transform="rotate(10.946 50 50)"><animateTransform attributeName="transform" type="rotate" calcMode="linear" values="0 50 50;45 50 50;0 50 50" keyTimes="0;0.5;1" dur="1s" begin="0s" repeatCount="indefinite"></animateTransform></path><path d="M50 50L20 50A30 30 0 0 1 80 50Z" ng-attr-fill="{{config.c1}}" fill="#f45a8d" transform="rotate(-10.946 50 50)"><animateTransform attributeName="transform" type="rotate" calcMode="linear" values="0 50 50;-45 50 50;0 50 50" keyTimes="0;0.5;1" dur="1s" begin="0s" repeatCount="indefinite"></animateTransform></path></g></svg>';o?((s=o.shadowRoot).getElementById("title").innerHTML=a?"加载中"+r:u(t,n,e,i),s.getElementById("durls").innerHTML=a?"":f(n,t,e)):((o=document.createElement("bilibili-helper-host")).id="bilibili-helper-host",o.style.cssText=`display:block;overflow:auto;position:fixed;z-index:${Number.MAX_SAFE_INTEGER};bottom:0;left:0;right:0;max-height:50%;width:100%;background: #fff;border-top: 1px solid #ccc;box-shadow: rgba(0, 0, 0, 0.2) 0 -5px 10px;`,h()?o.classList.add("hide"):o.classList.remove("hide"),o.innerHTML="<style>\n        #bilibili-helper-host.hide{\n          width:auto!important;\n          left:auto!important;\n          background:transparent!important;\n          border:0 none!important;\n          border-radius: 6px 0 0 0;\n          box-shadow: rgba(0, 0, 0, 0.2) -5px -5px 10px!important;\n        }\n        .player-fullscreen-fix #bilibili-helper-host {\n          z-index: 99999!important;\n        }\n      </style>",document.body.appendChild(o),(s=o.attachShadow({mode:"open"})).innerHTML=`\n        <style>\n          p, a, div, span, li, i, b, strong, input, button, label {\n            font-size: inherit;\n          }\n          li {\n            margin-bottom: 5px;\n          }\n          p {\n            margin: 0;\n            line-height: 1.5;\n          }\n          h1 {\n            font-size: 20px;\n            font-weight: bold;\n            margin-bottom: 20px;\n          }\n          h3 {\n            font-size: 16px;\n            margin: 1em 0;\n          }\n          #title {\n            font-size: 16px;\n            font-weight: normal;\n          }\n          #content {\n            display: flex;\n            width: 100%;\n            font-size: 14px;\n            position: relative;\n          }\n          a {\n            color: #00a1d6 !important;\n            text-decoration: none;\n          }\n          a:hover {\n            text-decoration: underline;\n          }\n          a.disabled {\n            color: #666!important;\n          }\n          a.disabled:hover {\n            text-decoration: none;\n            cursor: not-allowed;\n          }\n          #side-bar {\n            flex: 3;\n            padding: 20px;\n            border-right: 1px solid #ccc;\n            margin-right: -1px;\n          }\n          #main {\n            flex: 7;\n            padding: 20px;\n            border-left: 1px solid #ccc;\n          }\n          #notice-frame {\n            width: 100%;\n            padding: 0;\n          }\n          .donate {\n            border-top: 1px solid #ccc;\n            padding-top: 10px;\n          }\n          #zanshang {\n            width: 80%;\n          }\n          .setting-item {\n            margin-bottom: 8px;\n          }\n          .setting-item .label {\n            font-weight: bold;\n            width: 6em;\n            display: inline-block;\n            text-align: right;\n          }\n          .desc {\n            padding-left: 6em;\n          }\n          #actions {\n            position: absolute;\n            right: 0;\n            top: 0;\n          }\n          .btn-large {\n            border: 0 none;\n            background: #f45a8d;\n            border-radius: 6px;\n            color: #fff;\n            padding: 10px 20px;\n          }\n          #toggle {\n            border-radius: 0 0 0 6px;\n            outline: none;\n            cursor: pointer;\n          }\n          .hide #side-bar {\n            display: none;\n          }\n          .hide #main {\n            display: none;\n          }\n          .hide #toggle {\n            border-radius: 6px 0 0 0;\n          }\n          .hide #actions {\n            position: static;\n          }\n      \n          a.btn {\n            border: 0 none;\n            background: #f45a8d;\n            text-decoration: none !important;\n            color: #fff !important;\n            border-radius: 3px;\n            padding: 5px 10px;\n            display: inline-block;\n          }\n          .settings {\n            border-left: 5px solid #ccc;\n            background: #eee;\n            padding: 16px 16px 8px 0;\n          }\n          .size {\n            margin: 0 5px;\n          }\n        </style>\n        <div id="content" ${h()?'class="hide"':""}>\n          <div id="side-bar">\n            <div class="notice">\n              <iframe id="notice-frame" frameborder="0"></iframe>\n            </div>\n            \x3c!--<div class="support">TODO 支持区域</div>--\x3e\n            <div class="donate">\n              <p>微信扫一扫赞赏作者(扫不出来请点击图片后扫大图)：</p>\n              <a href="${internalUrls.zanshang}" target="_blank"><img title="点击查看大图" alt="点击查看大图" id="zanshang" src="${internalUrls.zanshang}"/></a>\n            </div>\n          </div>\n          <div id="main">\n            <h1 style="margin-top: 0;">B站下载助手</h1>\n            <div class="settings">\n              <div class="setting-item">\n                <span class="label">清晰度：</span>\n                <span>请在页面中B站自己的播放器内切换清晰度</span>\n              </div>\n              <div class="setting-item">\n                <span class="label">下载模式：</span>\n                <label><input id="setting-download-mode-advanced" checked name="setting-download-mode" type="radio"/> 高级</label>\n                <label><input id="setting-download-mode-normal" name="setting-download-mode" type="radio"/> 兼容</label>\n                <p class="desc">高级模式支持自动重命名和合并下载，但会占用非常大的系统运行内存<br/>兼容模式直接使用浏览器的默认下载，资源占用很小，但不支持自动重命名和合并下载</p>\n                <p class="desc">建议系统运行内存小于16G的用户使用兼容模式，下载后可以点<a href="http://csser.top/bilibili/merge.html" target="_blank">这里</a>尝试手动合并</p>\n              </div>\n              <div class="setting-item" id="setting-advanced">\n                <span class="label">合并下载：</span>\n                <label><input id="setting-merge-on" checked name="setting-merge" type="radio"> 开</label>\n                <label><input id="setting-merge-off" name="setting-merge" type="radio"> 关</label>\n                <p class="desc">高级模式下载过程中请<strong style="color: red;">不要</strong>刷新或关闭页面，也<strong style="color: red;">不要</strong>切换分集和清晰度</p>\n              </div>\n            </div>\n            <h3 id="title">${a?"加载中"+r:u(t,n,e,i)}</h3>\n            <ul id="durls">\n              ${a?"":f(n,t,e)}\n            </ul>\n            <div class="beg">\n              <p>\n                如果这个工具确实帮到了您，烦请在Chrome商店给个五星好评，谢谢😊\n                <a class="btn" href="https://chrome.google.com/webstore/detail/bfcbfobhcjbkilcbehlnlchiinokiijp/reviews" target="_blank">去评价</a>\n              </p>\n            </div>\n          </div>\n          <div id="actions">\n            <button id="toggle" class="btn-large">${h()?"打开B站下载助手":"收起"}</button>\n          </div>\n        </div>\n      `,(e=>{const t=e.getElementById("setting-download-mode-advanced"),n=e.getElementById("setting-download-mode-normal"),i=e.getElementById("setting-merge-on"),a=e.getElementById("setting-merge-off"),o=e.getElementById("setting-advanced"),s=e.getElementById("durls"),r=e.getElementById("toggle"),l=e.getElementById("actions"),d=e.getElementById("content"),c=document.getElementById("bilibili-helper-host"),m=()=>{t.disabled=!0,n.disabled=!0,i.disabled=!0,a.disabled=!0},u=()=>{t.disabled=!1,n.disabled=!1,i.disabled=!1,a.disabled=!1};g()?(t.checked=!0,n.checked=!1,o.style.display="block"):(t.checked=!1,n.checked=!0,o.style.display="none"),p()?(i.checked=!0,a.checked=!1):(i.checked=!1,a.checked=!0);const f=()=>{e.buildDownloadLinks()};t.addEventListener("change",()=>{t.checked?(localStorage.bilibili_helper_download_mode="advanced",o.style.display="block"):(localStorage.bilibili_helper_download_mode="normal",o.style.display="none"),f()}),n.addEventListener("change",()=>{n.checked?(localStorage.bilibili_helper_download_mode="normal",o.style.display="none"):(localStorage.bilibili_helper_download_mode="advanced",o.style.display="block"),f()}),i.addEventListener("change",()=>{localStorage.bilibili_helper_merge_mode=i.checked?"on":"off",f()}),a.addEventListener("change",()=>{localStorage.bilibili_helper_merge_mode=a.checked?"off":"on",f()}),s.addEventListener("click",t=>{const n=t.target;if("a"===n.tagName.toLowerCase()&&"advanced"===n.getAttribute("mode")){if(t.preventDefault(),t.stopPropagation(),n.classList.contains("disabled"))return;let i=null;const a=n.getAttribute("title");"on"===n.getAttribute("merge")?(i=e.querySelector(`ul[durls="${n.getAttribute("durls")}"]`),m(),x(n,JSON.parse(decodeURIComponent(n.getAttribute("durls"))),a,i).then(u)):(i=e.querySelector(`span[durl="${n.getAttribute("durl")}"]`),m(),v(n,JSON.parse(decodeURIComponent(n.getAttribute("durl"))),a,i).then(u))}}),r.addEventListener("click",()=>{h()?(localStorage.bilibili_helper_show="show",d.classList.remove("hide"),r.innerHTML="收起",c.classList.remove("hide"),l.style.top="0",e.getElementById("notice-frame").contentWindow.postMessage({action:"getHeight"},"https://csser.top")):(localStorage.bilibili_helper_show="hide",d.classList.add("hide"),c.classList.add("hide"),r.innerHTML="打开B站下载助手",l.style.top="0")}),c.addEventListener("scroll",()=>{l.style.top=c.scrollTop+"px"})})(s),(e=>{const t=e.getElementById("notice-frame");t.onload=(()=>{t.contentWindow.postMessage({action:"getHeight"},"https://csser.top"),t.contentWindow.postMessage({action:"setVersion",version:{name:manifest.version,code:parseInt(manifest.version.replace(/\./g,""),10)}},"https://csser.top"),t.contentWindow.postMessage({action:"setTheme",theme:"null"},"https://csser.top")}),window.addEventListener("message",e=>{if("https://csser.top"===e.origin&&e.data&&"reportHeight"===e.data.action&&(t.style.height=e.data.height+10+"px"),"https://csser.top"===e.origin&&e.data&&"showBilibilihelperindooorsmanNoticeDialog"===e.data.action){const t=e.data.notices;t&&t.length>0&&t.forEach(e=>{})}}),t.src=`https://csser.top/bilibili/notice.html?t=${Date.now()}`,window.addEventListener("resize",()=>{t.contentWindow.postMessage({action:"getHeight"},"https://csser.top")})})(s)),s.buildDownloadLinks=(()=>{s.getElementById("durls").innerHTML=f(n,t,e)})},y=(e,t)=>{const n=new Blob([e],{type:"application/octet-stream"}),i=document.createElement("a");i.setAttribute("href",URL.createObjectURL(n)),i.setAttribute("download",t),i.setAttribute("style","position:absolute;top:-9999px;"),document.body.appendChild(i);const a=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});i.dispatchEvent(a),setTimeout(()=>{document.body.removeChild(i)},1e3)},w=(e,t,n)=>{let i=null;return fetch(e).then(e=>{const a=e.headers.get("content-length"),o=t||parseInt(a,10);let s=0;return i=setInterval(()=>{n(s,o)},1e3),new Response(new ReadableStream({start(t){const n=e.body.getReader(),i=()=>{n.read().then(({done:e,value:n})=>{e?t.close():(s+=n.byteLength,t.enqueue(n),i())}).catch(e=>{t.error(e)})};i()}}))}).then(e=>e.blob()).finally(()=>{i&&clearInterval(i)})},v=(e,{url:t,size:n},i,a)=>(e.classList.add("disabled"),w(t,n,(e,t)=>{const n=Math.ceil(e/t*100);a.innerHTML=` 正在下载 - ${e}/${t} - ${n}%`}).then(e=>{a.innerHTML=" 已下载完成";const n=new URL(t).pathname.toLowerCase().match(/\.[a-z0-9]+?$/)[0];y(e,i+n)}).finally(()=>{e.classList.remove("disabled")})),x=(e,t,n,i)=>{if(1===t.length)return v(e,t[0],n,i);e.classList.add("disabled");const a=t.map(({url:e,size:t},n)=>{const a=document.createElement("li");return a.innerHTML=`分段${n+1} (${m(t)}) 正在下载`,i.appendChild(a),w(e,t,(e,i)=>{const o=Math.ceil(e/i*100);a.innerHTML=`分段${n+1} (${m(t)}) 正在下载 - ${e}/${i} - ${o}%`}).then(e=>(a.innerHTML=`分段${n+1} (${m(t)}) 已下载完成，等待合并`,e))});return Promise.all(a).then(async e=>{const t=await o.mergeBlobs(Array.from(e));y(t,n+".flv"),i.innerHTML="已完成"}).finally(()=>{e.classList.remove("disabled")})},_=async()=>{if(!e())return;b({loading:!0});const i=await(()=>fetch(window.location.href,r).then(e=>e.text()).then(e=>{const t=e.match(/<script>window.__INITIAL_STATE__=(.+?)<\/script>/);return t&&t[1]?JSON.parse(t[1].replace(";(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());","")):{code:-2,message:"获取视频信息失败，可以尝试清除浏览器cookies和缓存后重试，如多次重试仍然报错，请通过邮箱或QQ群反馈给我，谢谢"}}).catch(()=>l()))();if(i.code)return b(i);let a=localStorage.bilibili_player_settings&&+JSON.parse(localStorage.bilibili_player_settings).setting_config.defquality||112;if(t()){const e=i.videoData.aid;let t,n,o=i.videoData.cid;if(i.videoData.pages.length>1){const e=location.search.match(/p=(\d+)/);let a=i.videoData.pages[0];e&&e[1]&&(a=i.videoData.pages.find(t=>""+t.page==""+e[1])),t=a.page,n=a.part,o=a.cid}const{code:s,durls:c,qualityDescription:g,message:p}=await((e,t,n=112)=>{return fetch(`//api.bilibili.com/x/player/playurl?cid=${t}&avid=${e}&otype=json&qn=${n}`,r).then(e=>e.json()).then(e=>0!==e.code?d(e):d(e.data)).catch(()=>l())})(e,o,a);if(0===s){let e=`[${g}] ${i.videoData.title}`;t&&n&&(e=`[${g}] ${i.videoData.title}_P${t}_${n}`),b({code:s,title:e,durls:c,message:p})}else b({code:s,message:p})}if(n()){const e=i.epList;let t=-1===i.epId?e[e.length-1].ep_id:i.epId,n=e.find(e=>t===e.ep_id);const o=await s(".episode-item.on"),c=await s(".ep-item.cursor");if(o||c){const i=o||c,a=i.parentElement;let r=Array.from(a.querySelectorAll("li")).findIndex(e=>e===i);const l=await s("#eplist_module .ep-list-progress");l&&(r=+l.textContent.match(/(\d+)\/\d+/)[1]-1),n=e[r],t=n.ep_id||n.id}const{code:g,durls:p,qualityDescription:h,message:m}=await((e,t=112)=>{return fetch(`//api.bilibili.com/pgc/player/web/playurl/?ep_id=${e}&qn=${t}&bsource=`,r).then(e=>e.json()).then(e=>0!==e.code?d(e):d(e.result)).catch(()=>l())})(t,a);if(0===g){const e=`[${h}] ${i.mediaInfo.title}_${n.index||n.title}_${n.index_title||n.longTitle}`;b({code:g,title:e,durls:p,message:m})}else b({code:g,message:m})}};_();let $=""+window.location.href,L=""+localStorage.bilibili_player_settings;setInterval(()=>{const e=window.location.href,t=localStorage.bilibili_player_settings;if($!==e&&($=e,_()),L!==t)try{if(JSON.parse(t).setting_config.defquality===JSON.parse(L).setting_config.defquality)return;L=t,_()}catch(e){}},1e3)})();</script><script async="" src="./Configuring and Starting the NT Kernel Logger Session - Win32 apps _ Microsoft Docs_files/t.js.下载"></script><script async="" src="./Configuring and Starting the NT Kernel Logger Session - Win32 apps _ Microsoft Docs_files/t.js(1).下载"></script><link type="text/css" rel="stylesheet" charset="UTF-8" href="./Configuring and Starting the NT Kernel Logger Session - Win32 apps _ Microsoft Docs_files/translateelement.css"><script async="" src="./Configuring and Starting the NT Kernel Logger Session - Win32 apps _ Microsoft Docs_files/t.js(2).下载"></script><script async="" src="./Configuring and Starting the NT Kernel Logger Session - Win32 apps _ Microsoft Docs_files/t.js(3).下载"></script><script async="" src="./Configuring and Starting the NT Kernel Logger Session - Win32 apps _ Microsoft Docs_files/t.js(4).下载"></script><script async="" src="./Configuring and Starting the NT Kernel Logger Session - Win32 apps _ Microsoft Docs_files/t.js(5).下载"></script></head>

<body lang="en-us" dir="ltr">
<div class="header-holder has-default-focus">
	<a href="https://docs.microsoft.com/en-us/windows/win32/etw/configuring-and-starting-the-nt-kernel-logger-session#main" class="skip-to-main-link visually-hidden-until-focused is-fixed has-inner-focus focus-visible has-top-zero has-left-zero has-right-zero has-padding-medium has-text-centered has-body-background-medium" tabindex="1">Skip to main content</a>
		<div id="headerAreaHolder" data-bi-name="header"><!----><!----><header class="nav-bar" role="banner" itemscope="itemscope" itemtype="http://schema.org/Organization"><!---->
		
		<button class="nav-bar-burger" aria-label="Global navigation" aria-controls="ax-6" aria-expanded="false">
			<span></span>
			<span></span>
			<span></span>
		</button>
		<nav class="nav-bar-mobile-nav" role="navigation" id="ax-6" aria-label="Global" hidden="">
			<ul class="nav-bar-mobile-nav-list">
				<!---->
		<li class="nav-bar-mobile-nav-item">
			<a class="nav-bar-button" href="https://developer.microsoft.com/en-us/windows"><!---->Windows Dev Center<!----></a>
		</li><!---->
		<li class="nav-bar-mobile-nav-item">
			<button class="nav-bar-button" aria-controls="ax-7" aria-expanded="false">
				<span><!---->Explore<!----></span>
				<span class="nav-bar-button-chevron" aria-hidden="true">
					<span class="docon docon-chevron-down-light expanded-indicator"></span>
				</span>
			</button>
			<ul class="nav-bar-mobile-nav-list" id="ax-7" aria-label="Explore" hidden="">
				<!----><li><!---->
		<li class="nav-bar-mobile-nav-item">
			<a class="nav-bar-button" href="https://developer.microsoft.com/en-us/windows/get-started-windows-10"><!---->Get started developing for Windows<!----></a>
		</li><!----></li><!----><li><!---->
		<li class="nav-bar-mobile-nav-item">
			<a class="nav-bar-button" href="https://developer.microsoft.com/en-us/windows/windows-10-for-developers"><!---->What’s new for Windows 10<!----></a>
		</li><!----></li><!----><li><!---->
		<li class="nav-bar-mobile-nav-item">
			<a class="nav-bar-button" href="https://developer.microsoft.com/en-us/windows/enterprise"><!---->Build for enterprise<!----></a>
		</li><!----></li><!----><li><!---->
		<li class="nav-bar-mobile-nav-item">
			<a class="nav-bar-button" href="https://developer.microsoft.com/en-us/windows/accessible-apps"><!---->Develop for accessibility<!----></a>
		</li><!----></li><!----><li><!---->
		<li class="nav-bar-mobile-nav-item">
			<a class="nav-bar-button" href="https://developer.microsoft.com/en-us/windows/ad-monetization-platform"><!---->Ad Monetization platform<!----></a>
		</li><!----></li><!---->
			</ul>
		</li><!---->
		<li class="nav-bar-mobile-nav-item">
			<button class="nav-bar-button" aria-controls="ax-8" aria-expanded="false">
				<span><!---->Platforms<!----></span>
				<span class="nav-bar-button-chevron" aria-hidden="true">
					<span class="docon docon-chevron-down-light expanded-indicator"></span>
				</span>
			</button>
			<ul class="nav-bar-mobile-nav-list" id="ax-8" aria-label="Platforms" hidden="">
				<!----><li><!---->
		<li class="nav-bar-mobile-nav-item">
			<a class="nav-bar-button" href="https://docs.microsoft.com/en-us/windows/apps/desktop/"><!---->Windows PCs<!----></a>
		</li><!----></li><!----><li><!---->
		<li class="nav-bar-mobile-nav-item">
			<a class="nav-bar-button" href="https://developer.microsoft.com/en-us/windows/iot"><!---->Windows IoT<!----></a>
		</li><!----></li><!----><li><!---->
		<li class="nav-bar-mobile-nav-item">
			<a class="nav-bar-button" href="https://developer.microsoft.com/en-us/mixed-reality"><!---->Mixed Reality<!----></a>
		</li><!----></li><!----><li><!---->
		<li class="nav-bar-mobile-nav-item">
			<a class="nav-bar-button" href="https://developer.microsoft.com/en-us/games"><!---->Games<!----></a>
		</li><!----></li><!----><li><!---->
		<li class="nav-bar-mobile-nav-item">
			<a class="nav-bar-button" href="https://developer.microsoft.com/en-us/web"><!---->Web<!----></a>
		</li><!----></li><!----><li><!---->
		<li class="nav-bar-mobile-nav-item">
			<a class="nav-bar-button" href="https://docs.microsoft.com/en-us/windows/uwp/"><!---->UWP<!----></a>
		</li><!----></li><!---->
			</ul>
		</li><!---->
		<li class="nav-bar-mobile-nav-item">
			<a class="nav-bar-button" href="https://docs.microsoft.com/en-us/windows/"><!---->Docs<!----></a>
		</li><!---->
		<li class="nav-bar-mobile-nav-item">
			<a class="nav-bar-button" href="https://developer.microsoft.com/en-us/windows/downloads"><!---->Downloads<!----></a>
		</li><!---->
		<li class="nav-bar-mobile-nav-item">
			<a class="nav-bar-button" href="https://developer.microsoft.com/en-us/windows/samples"><!---->Samples<!----></a>
		</li><!---->
		<li class="nav-bar-mobile-nav-item">
			<a class="nav-bar-button" href="https://developer.microsoft.com/en-us/windows/support"><!---->Support<!----></a>
		</li><!---->
		<li class="nav-bar-mobile-nav-item">
			<a class="nav-bar-button" href="https://partner.microsoft.com/dashboard"><!---->Dashboard<!----></a>
		</li><!---->
			</ul>
		</nav>
		
		<a class="nav-bar-button" itemprop="url" href="https://www.microsoft.com/" aria-label="Microsoft">
			<div class="nav-bar-logo has-background-image theme-display is-light" role="presentation" aria-hidden="true" itemprop="logo" itemscope="itemscope"></div>
			<div class="nav-bar-logo has-background-image theme-display is-dark is-high-contrast" role="presentation" aria-hidden="true" itemprop="logo" itemscope="itemscope"></div>
		</a>
		<nav class="nav-bar-nav" role="navigation" aria-label="Global">
			<ul class="nav-bar-nav-list">
				
		<li class="nav-bar-item is-category has-spacing">
			<a class="nav-bar-button title has-hover-underline is-4" itemprop="url" href="https://developer.microsoft.com/en-us/windows">
				<span><!---->Windows Dev Center<!----></span>
			</a>
		</li>
				<!---->
		<li class="dropdown nav-bar-item">
			<button aria-expanded="false" class="dropdown-trigger nav-bar-button has-hover-underline" aria-controls="ax-9">
				<span><!---->Explore<!----></span>
				<span class="nav-bar-button-chevron" aria-hidden="true">
					<span class="docon docon-chevron-down-light expanded-indicator"></span>
				</span>
			</button>
			<ul class="dropdown-menu" id="ax-9" aria-label="Explore">
				<!---->
		<li class="nav-bar-item">
			<a class="nav-bar-button" href="https://developer.microsoft.com/en-us/windows/get-started-windows-10"><!---->Get started developing for Windows<!----></a>
		</li>
	<!---->
		<li class="nav-bar-item">
			<a class="nav-bar-button" href="https://developer.microsoft.com/en-us/windows/windows-10-for-developers"><!---->What’s new for Windows 10<!----></a>
		</li>
	<!---->
		<li class="nav-bar-item">
			<a class="nav-bar-button" href="https://developer.microsoft.com/en-us/windows/enterprise"><!---->Build for enterprise<!----></a>
		</li>
	<!---->
		<li class="nav-bar-item">
			<a class="nav-bar-button" href="https://developer.microsoft.com/en-us/windows/accessible-apps"><!---->Develop for accessibility<!----></a>
		</li>
	<!---->
		<li class="nav-bar-item">
			<a class="nav-bar-button" href="https://developer.microsoft.com/en-us/windows/ad-monetization-platform"><!---->Ad Monetization platform<!----></a>
		</li>
	<!---->
			</ul>
		</li><!---->
		<li class="dropdown nav-bar-item">
			<button aria-expanded="false" class="dropdown-trigger nav-bar-button has-hover-underline" aria-controls="ax-10">
				<span><!---->Platforms<!----></span>
				<span class="nav-bar-button-chevron" aria-hidden="true">
					<span class="docon docon-chevron-down-light expanded-indicator"></span>
				</span>
			</button>
			<ul class="dropdown-menu" id="ax-10" aria-label="Platforms">
				<!---->
		<li class="nav-bar-item">
			<a class="nav-bar-button" href="https://docs.microsoft.com/en-us/windows/apps/desktop/"><!---->Windows PCs<!----></a>
		</li>
	<!---->
		<li class="nav-bar-item">
			<a class="nav-bar-button" href="https://developer.microsoft.com/en-us/windows/iot"><!---->Windows IoT<!----></a>
		</li>
	<!---->
		<li class="nav-bar-item">
			<a class="nav-bar-button" href="https://developer.microsoft.com/en-us/mixed-reality"><!---->Mixed Reality<!----></a>
		</li>
	<!---->
		<li class="nav-bar-item">
			<a class="nav-bar-button" href="https://developer.microsoft.com/en-us/games"><!---->Games<!----></a>
		</li>
	<!---->
		<li class="nav-bar-item">
			<a class="nav-bar-button" href="https://developer.microsoft.com/en-us/web"><!---->Web<!----></a>
		</li>
	<!---->
		<li class="nav-bar-item">
			<a class="nav-bar-button" href="https://docs.microsoft.com/en-us/windows/uwp/"><!---->UWP<!----></a>
		</li>
	<!---->
			</ul>
		</li><!---->
		<li class="nav-bar-item">
			<a class="nav-bar-button has-hover-underline" href="https://docs.microsoft.com/en-us/windows/">
				<span><!---->Docs<!----></span>
			</a>
		</li><!---->
		<li class="nav-bar-item">
			<a class="nav-bar-button has-hover-underline" href="https://developer.microsoft.com/en-us/windows/downloads">
				<span><!---->Downloads<!----></span>
			</a>
		</li><!---->
		<li class="nav-bar-item">
			<a class="nav-bar-button has-hover-underline" href="https://developer.microsoft.com/en-us/windows/samples">
				<span><!---->Samples<!----></span>
			</a>
		</li><!---->
		<li class="nav-bar-item">
			<a class="nav-bar-button has-hover-underline" href="https://developer.microsoft.com/en-us/windows/support">
				<span><!---->Support<!----></span>
			</a>
		</li><!---->
		<li class="nav-bar-item">
			<a class="nav-bar-button has-hover-underline" href="https://partner.microsoft.com/dashboard">
				<span><!---->Dashboard<!----></span>
			</a>
		</li><!---->
		<li class="dropdown nav-bar-item" hidden="">
			<button aria-expanded="false" class="dropdown-trigger nav-bar-button has-hover-underline" aria-controls="ax-11">
				<span><!---->More<!----></span>
				<span class="nav-bar-button-chevron" aria-hidden="true">
					<span class="docon docon-chevron-down-light expanded-indicator"></span>
				</span>
			</button>
			<ul class="dropdown-menu" id="ax-11" aria-label="More">
				<!---->
		<li class="dropdown nav-bar-item" hidden="">
			<button aria-expanded="false" class="dropdown-trigger nav-bar-button " aria-controls="ax-12">
				<span><!---->Explore<!----></span>
				<span class="nav-bar-button-chevron" aria-hidden="true">
					<span class="docon docon-chevron-right-light "></span>
				</span>
			</button>
			<ul class="dropdown-menu" id="ax-12" aria-label="Explore">
				<!---->
		<li class="nav-bar-item">
			<a class="nav-bar-button" href="https://developer.microsoft.com/en-us/windows/get-started-windows-10"><!---->Get started developing for Windows<!----></a>
		</li>
	<!---->
		<li class="nav-bar-item">
			<a class="nav-bar-button" href="https://developer.microsoft.com/en-us/windows/windows-10-for-developers"><!---->What’s new for Windows 10<!----></a>
		</li>
	<!---->
		<li class="nav-bar-item">
			<a class="nav-bar-button" href="https://developer.microsoft.com/en-us/windows/enterprise"><!---->Build for enterprise<!----></a>
		</li>
	<!---->
		<li class="nav-bar-item">
			<a class="nav-bar-button" href="https://developer.microsoft.com/en-us/windows/accessible-apps"><!---->Develop for accessibility<!----></a>
		</li>
	<!---->
		<li class="nav-bar-item">
			<a class="nav-bar-button" href="https://developer.microsoft.com/en-us/windows/ad-monetization-platform"><!---->Ad Monetization platform<!----></a>
		</li>
	<!---->
			</ul>
		</li><!---->
		<li class="dropdown nav-bar-item" hidden="">
			<button aria-expanded="false" class="dropdown-trigger nav-bar-button " aria-controls="ax-13">
				<span><!---->Platforms<!----></span>
				<span class="nav-bar-button-chevron" aria-hidden="true">
					<span class="docon docon-chevron-right-light "></span>
				</span>
			</button>
			<ul class="dropdown-menu" id="ax-13" aria-label="Platforms">
				<!---->
		<li class="nav-bar-item">
			<a class="nav-bar-button" href="https://docs.microsoft.com/en-us/windows/apps/desktop/"><!---->Windows PCs<!----></a>
		</li>
	<!---->
		<li class="nav-bar-item">
			<a class="nav-bar-button" href="https://developer.microsoft.com/en-us/windows/iot"><!---->Windows IoT<!----></a>
		</li>
	<!---->
		<li class="nav-bar-item">
			<a class="nav-bar-button" href="https://developer.microsoft.com/en-us/mixed-reality"><!---->Mixed Reality<!----></a>
		</li>
	<!---->
		<li class="nav-bar-item">
			<a class="nav-bar-button" href="https://developer.microsoft.com/en-us/games"><!---->Games<!----></a>
		</li>
	<!---->
		<li class="nav-bar-item">
			<a class="nav-bar-button" href="https://developer.microsoft.com/en-us/web"><!---->Web<!----></a>
		</li>
	<!---->
		<li class="nav-bar-item">
			<a class="nav-bar-button" href="https://docs.microsoft.com/en-us/windows/uwp/"><!---->UWP<!----></a>
		</li>
	<!---->
			</ul>
		</li><!---->
		<li class="nav-bar-item" hidden="">
			<a class="nav-bar-button" href="https://docs.microsoft.com/en-us/windows/"><!---->Docs<!----></a>
		</li>
	<!---->
		<li class="nav-bar-item" hidden="">
			<a class="nav-bar-button" href="https://developer.microsoft.com/en-us/windows/downloads"><!---->Downloads<!----></a>
		</li>
	<!---->
		<li class="nav-bar-item" hidden="">
			<a class="nav-bar-button" href="https://developer.microsoft.com/en-us/windows/samples"><!---->Samples<!----></a>
		</li>
	<!---->
		<li class="nav-bar-item" hidden="">
			<a class="nav-bar-button" href="https://developer.microsoft.com/en-us/windows/support"><!---->Support<!----></a>
		</li>
	<!---->
		<li class="nav-bar-item" hidden="">
			<a class="nav-bar-button" href="https://partner.microsoft.com/dashboard"><!---->Dashboard<!----></a>
		</li>
	<!---->
			</ul>
		</li><!---->
				
			</ul>
		</nav>
		<span class="nav-bar-spacer"></span>
		
			<div class="nav-bar-item nav-bar-search-form-item" id="ax-14" hidden="">
				
			<form class="is-flex" method="GET" id="searchForm" name="searchForm" role="search" aria-label="Search" aria-expanded="false" action="https://docs.microsoft.com/en-us/search/">
					
							<button class="nav-bar-button has-margin-extra-small tag" type="button" aria-label="Search filter is &quot;Desktop&quot;. Tap to remove.">
								<span class="is-inline-truncated"><!---->Desktop<!----></span>
								<span class="icon">
									<span class="docon docon-navigate-close" aria-hidden="true"></span>
								</span>
							</button>
					<div class="autocomplete" data-bi-name="autocomplete"><!---->
		<div class="control ">
			<input role="combobox" maxlength="100" aria-autocomplete="list" autocapitalize="off" autocomplete="off" autocorrect="off" spellcheck="false" id="site-search-input" class="autocomplete-input input   is-full-width" type="search" name="search" aria-expanded="false" aria-owns="ax-15-listbox" aria-activedescendant="" placeholder="Search">

			<span class="icon is-small is-left" aria-hidden="true" hidden="">
				<span class="has-text-primary docon docon-undefined"></span>
			</span>

			<span class="autocomplete-loader loader has-text-primary" aria-hidden="true" hidden=""></span>
		</div>

		<ul class="autocomplete-suggestions is-vertically-scrollable" role="listbox" id="ax-15-listbox" hidden="">
			
		</ul><!----></div>
					<!-- mobile safari will not dispatch submit event unless there's a submit button that is not display:none -->
					<button type="submit" class="visually-hidden" tabindex="-1" aria-hidden="true"></button>
					<input name="category" hidden="" value="All">
					<input name="scope" hidden="" value="Desktop">
					
			</form>
		
			</div>
			<div class="nav-bar-item ">
				<button id="form-expander" class="nav-bar-button has-hover-underline has-margin-left-extra-small" aria-label="Search" aria-expanded="false" aria-controls="ax-14">
						
					<span class="is-hidden-mobile" aria-hidden="true"><!---->Search<!----></span>
					<span class="icon" aria-hidden="true">
						<span class="docon docon-search"></span>
					</span>
	
				</button>
			</div>
		<!----><!----></header></div>
		<div class="content-header uhf-container has-padding has-default-focus" data-bi-name="content-header">
		<nav class="has-padding-none-mobile" data-bi-name="breadcrumb" itemscope="" itemtype="http://schema.org/BreadcrumbList" role="navigation" aria-label="Breadcrumb">
			<ul id="page-breadcrumbs" class="breadcrumbs"><!---->
		<!---->
		<li itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem">
			
			<a itemprop="item" href="https://docs.microsoft.com/en-us/">
				<span itemprop="name">
					Docs
				</span>
			</a>
			<meta itemprop="position" content="1">
		</li><!---->
		<li itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem">
			
			<a itemprop="item" href="https://docs.microsoft.com/en-us/windows/">
				<span itemprop="name">
					Windows
				</span>
			</a>
			<meta itemprop="position" content="2">
		</li><!---->
		<li itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem">
			
			<a itemprop="item" href="https://docs.microsoft.com/en-us/windows/win32/etw/event-tracing-portal">
				<span itemprop="name">
					Event Tracing
				</span>
			</a>
			<meta itemprop="position" content="3">
		</li><!---->
		<li itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem">
			
			<a itemprop="item" href="https://docs.microsoft.com/en-us/windows/win32/etw/using-event-tracing">
				<span itemprop="name">
					Using Event Tracing
				</span>
			</a>
			<meta itemprop="position" content="4">
		</li><!---->
		<li itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem">
			
			<a itemprop="item" href="https://docs.microsoft.com/en-us/windows/win32/etw/controlling-event-tracing-sessions">
				<span itemprop="name">
					Controlling Event Tracing Sessions
				</span>
			</a>
			<meta itemprop="position" content="5">
		</li><!---->
		<li itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem">
			
			<a itemprop="item" href="https://docs.microsoft.com/en-us/windows/win32/etw/configuring-and-starting-a-systemtraceprovider-session">
				<span itemprop="name">
					Configuring and Starting a SystemTraceProvider Session
				</span>
			</a>
			<meta itemprop="position" content="6">
		</li><!---->
		<li itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem">
			
			<span itemprop="name">
				Configuring and Starting the NT Kernel Logger Session
			</span>
			<meta itemprop="position" content="7">
		</li><!---->
	<!----></ul>
		</nav>
		<div class="content-header-controls">
			<button type="button" class="contents-button button" data-bi-name="contents-expand" aria-haspopup="true">
				<span class="icon"><span class="docon docon-menu" aria-hidden="true"></span></span>
				<span>Contents</span>
			</button>
		</div>
		<div class="content-header-controls exit-focus">
			<button type="button" class="ap-collapse-behavior ap-expanded button" data-bi-name="ap-collapse" aria-controls="action-panel">
				<span class="icon"><span class="docon docon-exit-mode" aria-hidden="true"></span></span>
				<span>Exit focus mode</span>
			</button>
		</div>
		<div id="page-actions" class="is-flex-touch has-flex-justify-content-space-between-touch has-padding-none has-padding-none-mobile">
			<ul class="action-list has-flex-justify-content-start-mobile is-flex is-flex-row has-flex-wrap">
				<li>
					<button type="button" class="bookmark button is-text has-inner-focus is-small is-icon-only-touch" data-list-type="bookmarks" data-bi-name="bookmark" aria-pressed="false" aria-label="Add bookmark for Configuring and Starting the NT Kernel Logger Session - Win32 apps | Microsoft Docs">
						<span class="icon" aria-hidden="true">
							<span class="docon docon-single-bookmark"></span>
						</span>
						<span class="bookmark-status is-visually-hidden-touch is-hidden-portrait">Bookmark</span>
					</button>
				</li>
							<li id="contenteditbtn">
									<a href="https://github.com/MicrosoftDocs/win32/blob/docs/desktop-src/ETW/configuring-and-starting-the-nt-kernel-logger-session.md" class="button is-text has-inner-focus is-icon-only-touch is-small" title="Edit This Document" data-bi-name="edit" data-original_content_git_url="https://github.com/MicrosoftDocs/win32-pr/blob/live/desktop-src/ETW/configuring-and-starting-the-nt-kernel-logger-session.md" data-original_content_git_url_template="" data-pr_repo="" data-pr_branch="">
									<span class="icon">
										<span class="docon docon-edit-outline" aria-hidden="true"></span>
									</span>
									<span class="is-visually-hidden-touch is-hidden-portrait">Edit</span>
								</a>
							</li>
				<li>
<div class="sharing dropdown has-caret">
	<button class="dropdown-trigger button is-text is-fullwidth has-flex-justify-content-start has-inner-focus is-small is-icon-only-touch" aria-controls="sharing-menu" aria-expanded="false" title="Share This Document" data-bi-name="share">
		<span class="icon" aria-hidden="true">
			<span class="docon docon-sharing"></span>
		</span>
		<span class="is-visually-hidden-touch is-hidden-portrait">Share</span>
	</button>
	<div class="dropdown-menu has-padding-small" id="sharing-menu">
		<ul data-bi-name="share-links">
			<li>
				<a class="button is-text is-fullwidth has-flex-justify-content-start has-inner-focus is-small share-twitter" data-bi-name="twitter" href="https://twitter.com/intent/tweet?original_referer=https%3A%2F%2Fdocs.microsoft.com%2Fen-us%2Fwindows%2Fwin32%2Fetw%2Fconfiguring-and-starting-the-nt-kernel-logger-session%3FWT.mc_id%3Dtwitter&amp;text=Configuring%20and%20Starting%20the%20NT%20Kernel%20Logger%20Session%20-%20Win32%20apps%20%7C%20Microsoft%20Docs&amp;tw_p=tweetbutton&amp;url=https%3A%2F%2Fdocs.microsoft.com%2Fen-us%2Fwindows%2Fwin32%2Fetw%2Fconfiguring-and-starting-the-nt-kernel-logger-session%3FWT.mc_id%3Dtwitter">
					<span class="icon">
						<span class="docon docon-brand-twitter has-text-primary" aria-hidden="true"></span>
					</span>
					<span>Twitter</span>
				</a>
			</li>
			<li>
				<a class="button is-text is-fullwidth has-flex-justify-content-start has-inner-focus is-small share-linkedin" data-bi-name="linkedin" href="https://www.linkedin.com/cws/share?url=https%3A%2F%2Fdocs.microsoft.com%2Fen-us%2Fwindows%2Fwin32%2Fetw%2Fconfiguring-and-starting-the-nt-kernel-logger-session%3FWT.mc_id%3Dlinkedin">
					<span class="icon">
						<span class="docon docon-brand-linkedin has-text-primary" aria-hidden="true"></span>
					</span>
					<span>LinkedIn</span>
				</a>
			</li>
			<li>
				<a class="button is-text is-fullwidth has-flex-justify-content-start has-inner-focus is-small share-facebook" data-bi-name="facebook" href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fdocs.microsoft.com%2Fen-us%2Fwindows%2Fwin32%2Fetw%2Fconfiguring-and-starting-the-nt-kernel-logger-session%3FWT.mc_id%3Dfacebook">
					<span class="icon">
						<span class="docon docon-brand-facebook has-text-primary" aria-hidden="true"></span>
					</span>
					<span>Facebook</span>
				</a>
			</li>
			<li>
				<a class="button is-text is-fullwidth has-flex-justify-content-start has-inner-focus is-small share-email" data-bi-name="email" href="mailto:?subject=%5BShared%20Article%5D%20Configuring%20and%20Starting%20the%20NT%20Kernel%20Logger%20Session%20-%20Win32%20apps%20%7C%20Microsoft%20Docs&amp;body=Configuring%20and%20Starting%20the%20NT%20Kernel%20Logger%20Session%20-%20Win32%20apps%20%7C%20Microsoft%20Docs%0A%0Ahttps%3A%2F%2Fdocs.microsoft.com%2Fen-us%2Fwindows%2Fwin32%2Fetw%2Fconfiguring-and-starting-the-nt-kernel-logger-session%3FWT.mc_id%3Demail">
					<span class="icon">
						<span class="docon docon-mail-message-fill has-text-primary" aria-hidden="true"></span>
					</span>
					<span>Email</span>
				</a>
			</li>
		</ul>
	</div>
</div>				</li>
				<li>
<div class="dropdown has-caret">
	<button class="dropdown-trigger button is-text is-small is-icon-only-touch has-inner-focus" aria-controls="theme-menu" aria-expanded="false" title="Theme" data-bi-name="theme">
		<span class="icon">
			<span class="docon docon-sun" aria-hidden="true"></span>
		</span>
		<span class="is-visually-hidden-touch is-hidden-portrait">Theme</span>
	</button>
	<div class="dropdown-menu" id="theme-menu" role="menu">
		<div class="theme-selector has-padding-small">
			<div class="theme is-block">
				<button class="button is-text is-small theme-control is-fullwidth has-flex-justify-content-start is-selected" data-theme-to="light" role="menuitem" aria-selected="true">
					<span class="theme-light has-margin-right-small">
						<span class="theme-selector-icon css-variable-support has-border is-inline-block has-body-background" aria-hidden="true">
							<svg class="svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 14">
								<rect width="22" height="14" class="has-fill-body-background"></rect>
								<rect x="5" y="5" width="12" height="4" class="has-fill-secondary"></rect>
								<rect x="5" y="2" width="2" height="1" class="has-fill-secondary"></rect>
								<rect x="8" y="2" width="2" height="1" class="has-fill-secondary"></rect>
								<rect x="11" y="2" width="3" height="1" class="has-fill-secondary"></rect>
								<rect x="1" y="1" width="2" height="2" class="has-fill-secondary"></rect>
								<rect x="5" y="10" width="7" height="2" rx="0.3" class="has-fill-primary"></rect>
								<rect x="19" y="1" width="2" height="2" rx="1" class="has-fill-secondary"></rect>
							</svg>
						</span>
					</span>
					<span>
Light					</span>
				</button>
			</div>
			<div class="theme is-block">
				<button class="button is-text is-small theme-control is-fullwidth has-flex-justify-content-start" data-theme-to="dark" role="menuitem" aria-selected="false">
					<span class="theme-dark has-margin-right-small">
						<span class="has-border theme-selector-icon css-variable-support is-inline-block has-body-background" aria-hidden="true">
							<svg class="svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 14">
								<rect width="22" height="14" class="has-fill-body-background"></rect>
								<rect x="5" y="5" width="12" height="4" class="has-fill-secondary"></rect>
								<rect x="5" y="2" width="2" height="1" class="has-fill-secondary"></rect>
								<rect x="8" y="2" width="2" height="1" class="has-fill-secondary"></rect>
								<rect x="11" y="2" width="3" height="1" class="has-fill-secondary"></rect>
								<rect x="1" y="1" width="2" height="2" class="has-fill-secondary"></rect>
								<rect x="5" y="10" width="7" height="2" rx="0.3" class="has-fill-primary"></rect>
								<rect x="19" y="1" width="2" height="2" rx="1" class="has-fill-secondary"></rect>
							</svg>
						</span>
					</span>
					<span>
Dark					</span>
				</button>
			</div>
			<div class="theme is-block">
				<button class="button is-text is-small theme-control is-fullwidth has-flex-justify-content-start" data-theme-to="high-contrast" role="menuitem" aria-selected="false">
					<span class="theme-high-contrast has-margin-right-small">
						<span class="has-border theme-selector-icon css-variable-support is-inline-block has-body-background" aria-hidden="true">
							<svg class="svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 14">
								<rect width="22" height="14" class="has-fill-body-background"></rect>
								<rect x="5" y="5" width="12" height="4" class="has-fill-secondary"></rect>
								<rect x="5" y="2" width="2" height="1" class="has-fill-secondary"></rect>
								<rect x="8" y="2" width="2" height="1" class="has-fill-secondary"></rect>
								<rect x="11" y="2" width="3" height="1" class="has-fill-secondary"></rect>
								<rect x="1" y="1" width="2" height="2" class="has-fill-secondary"></rect>
								<rect x="5" y="10" width="7" height="2" rx="0.3" class="has-fill-primary"></rect>
								<rect x="19" y="1" width="2" height="2" rx="1" class="has-fill-secondary"></rect>
							</svg>
						</span>
					</span>
					<span>
High contrast					</span>
				</button>
			</div>
		</div>
	</div>
</div>				</li>
				<li>
					<a class="docs-sign-in auth-status-determined not-authenticated button is-text has-inner-focus has-text-primary is-small" href="https://docs.microsoft.com/en-us/windows/win32/etw/configuring-and-starting-the-nt-kernel-logger-session#">Sign in</a>
					<div class="dropdown has-caret auth-status-determined authenticated">
						<button class="dropdown-trigger button is-text has-inner-focus is-small is-icon-only-touch has-inner-focus" aria-label="Your Account" aria-controls="user-menu" aria-expanded="false">
							<span class="icon" aria-hidden="true">
								<span class="image">
									<img class="has-body-background-medium is-rounded" data-profile-property="avatarUrl">
								</span>
							</span>
							<span class="is-inline-truncated has-margin-left-small" data-profile-property="userName"></span>
						</button>
						<div class="dropdown-menu box" id="user-menu" role="menu">
							<div class="media is-user-dir">
								<div class="media-left">
									<span class="image is-64x64" aria-hidden="true">
										<img class="has-body-background-medium is-rounded" data-profile-property="avatarUrl">
									</span>
								</div>
								<div class="media-content">
									<p class="title">
										<span class="is-inline-truncated has-max-width-200" data-profile-property="userName"></span>
									</p>
									<p class="subtitle has-margin-bottom-none">
										<span class="is-inline-truncated has-max-width-200" data-profile-property="upn"></span>
									</p>
									<ul class="is-unstyled has-margin-none has-margin-top-small">
										<li><a href="https://docs.microsoft.com/profile" data-profile-property="profileUrl">Profile</a></li>
										<li><a href="https://docs.microsoft.com/profile" data-profile-property="bookmarksUrl">Bookmarks</a></li>
										<li><a href="https://docs.microsoft.com/profile" data-profile-property="collectionsUrl">Collections</a></li>
										<li><a class="docs-sign-out" href="https://docs.microsoft.com/en-us/windows/win32/etw/configuring-and-starting-the-nt-kernel-logger-session#">Sign out</a></li>
									</ul>
								</div>
							</div>
						</div>
					</div>
				</li>
			</ul>
			<button type="button" class="contents-button button is-small is-text is-hidden-tablet has-inner-focus is-hidden-tablet" aria-label="Contents" data-bi-name="contents-expand-">
				<span class="icon">
					<span class="docon docon-editor-list-bullet" aria-hidden="true"></span>
				</span>
				<span>Contents</span>
			</button>
		</div>
	</div>

		<div id="banner-holder" class="has-default-focus has-overflow-hidden">
		</div>

	<div id="disclaimer-holder" class="has-overflow-hidden has-default-focus"></div>
	</div>

	<div class="mainContainer  uhf-container has-top-padding  has-default-focus" data-bi-name="body">

		<div class="columns has-large-gaps is-gapless-mobile ">

			<div id="left-container" class="left-container is-hidden-mobile column is-one-third-tablet is-one-quarter-desktop">
				<nav id="affixed-left-container" class="is-fixed is-flex is-flex-column" role="navigation" aria-label="Primary" data-bi-name="left toc" style="width: 364px; top: 143px; bottom: 24px;"><form action="javascript:" role="search" aria-label="Search" class="is-full-width has-margin-bottom-small"><label class="visually-hidden" for="ax-16">Search</label><div class="autocomplete is-block" data-bi-name="autocomplete"><!---->
		<div class="control has-icons-left">
			<input role="combobox" maxlength="100" aria-autocomplete="list" autocapitalize="off" autocomplete="off" autocorrect="off" spellcheck="false" id="ax-16" class="autocomplete-input input control has-icons-left is-small is-full-width" type="text" aria-expanded="false" aria-owns="ax-17-listbox" aria-activedescendant="" placeholder="Filter by title">

			<span class="icon is-small is-left" aria-hidden="true">
				<span class="has-text-primary docon docon-filter"></span>
			</span>

			<span class="autocomplete-loader loader has-text-primary" aria-hidden="true" hidden=""></span>
		</div>

		<ul class="autocomplete-suggestions is-vertically-scrollable" role="listbox" id="ax-17-listbox" hidden="">
			
		</ul><!----></div></form><ul class="tree is-vertically-scrollable has-flex-grow has-flex-shrink" role="tree" aria-label="Table of contents" data-bi-name="tree"><li role="none"><a aria-setsize="5" aria-level="1" aria-posinset="1" class="tree-item is-leaf" role="treeitem" tabindex="-1" data-bi-name="tree-leaf" href="https://docs.microsoft.com/en-us/windows/win32/etw/event-tracing-portal">Event Tracing</a></li><li role="none"><a aria-setsize="5" aria-level="1" aria-posinset="2" class="tree-item is-leaf" role="treeitem" tabindex="-1" data-bi-name="tree-leaf" href="https://docs.microsoft.com/en-us/windows/win32/etw/what-s-new-in-event-tracing">What's New in Event Tracing</a></li><li aria-setsize="5" aria-level="1" aria-posinset="3" class="tree-item" role="treeitem" tabindex="-1" aria-expanded="false"><span class="tree-expander" data-bi-name="tree-expander"><span class="tree-expander-indicator docon docon-chevron-right-light" aria-hidden="true"></span>About Event Tracing</span></li><li aria-setsize="5" aria-level="1" aria-posinset="4" class="tree-item is-expanded" role="treeitem" tabindex="-1" aria-expanded="true"><span class="tree-expander" data-bi-name="tree-expander"><span class="tree-expander-indicator docon docon-chevron-right-light" aria-hidden="true"></span>Using Event Tracing</span><ul class="tree-group" role="group"><li role="none"><a aria-setsize="4" aria-level="2" aria-posinset="1" class="tree-item is-leaf" role="treeitem" tabindex="-1" data-bi-name="tree-leaf" href="https://docs.microsoft.com/en-us/windows/win32/etw/using-event-tracing">Using Event Tracing</a></li><li aria-setsize="4" aria-level="2" aria-posinset="2" class="tree-item is-expanded" role="treeitem" tabindex="-1" aria-expanded="true"><span class="tree-expander" data-bi-name="tree-expander"><span class="tree-expander-indicator docon docon-chevron-right-light" aria-hidden="true"></span>Controlling Event Tracing Sessions</span><ul class="tree-group" role="group"><li role="none"><a aria-setsize="7" aria-level="3" aria-posinset="1" class="tree-item is-leaf" role="treeitem" tabindex="-1" data-bi-name="tree-leaf" href="https://docs.microsoft.com/en-us/windows/win32/etw/controlling-event-tracing-sessions">Controlling Event Tracing Sessions</a></li><li aria-setsize="7" aria-level="3" aria-posinset="2" class="tree-item" role="treeitem" tabindex="-1" aria-expanded="false"><span class="tree-expander" data-bi-name="tree-expander"><span class="tree-expander-indicator docon docon-chevron-right-light" aria-hidden="true"></span>Configuring and Starting an Event Tracing Session</span></li><li aria-setsize="7" aria-level="3" aria-posinset="3" class="tree-item is-expanded" role="treeitem" tabindex="-1" aria-expanded="true"><span class="tree-expander" data-bi-name="tree-expander"><span class="tree-expander-indicator docon docon-chevron-right-light" aria-hidden="true"></span>Configuring and Starting a SystemTraceProvider Session</span><ul class="tree-group" role="group"><li role="none"><a aria-setsize="2" aria-level="4" aria-posinset="1" class="tree-item is-leaf" role="treeitem" tabindex="-1" data-bi-name="tree-leaf" href="https://docs.microsoft.com/en-us/windows/win32/etw/configuring-and-starting-a-systemtraceprovider-session">Configuring and Starting a SystemTraceProvider Session</a></li><li role="none"><a aria-setsize="2" aria-level="4" aria-posinset="2" class="tree-item is-leaf is-selected" role="treeitem" tabindex="0" data-bi-name="tree-leaf" href="https://docs.microsoft.com/en-us/windows/win32/etw/configuring-and-starting-the-nt-kernel-logger-session">Configuring and Starting the NT Kernel Logger Session</a></li></ul></li><li aria-setsize="7" aria-level="3" aria-posinset="4" class="tree-item" role="treeitem" tabindex="-1" aria-expanded="false"><span class="tree-expander" data-bi-name="tree-expander"><span class="tree-expander-indicator docon docon-chevron-right-light" aria-hidden="true"></span>Configuring and Starting an AutoLogger Session</span></li><li role="none"><a aria-setsize="7" aria-level="3" aria-posinset="5" class="tree-item is-leaf" role="treeitem" tabindex="-1" data-bi-name="tree-leaf" href="https://docs.microsoft.com/en-us/windows/win32/etw/configuring-and-starting-a-private-logger-session">Configuring and Starting a Private Logger Session</a></li><li role="none"><a aria-setsize="7" aria-level="3" aria-posinset="6" class="tree-item is-leaf" role="treeitem" tabindex="-1" data-bi-name="tree-leaf" href="https://docs.microsoft.com/en-us/windows/win32/etw/updating-an-event-tracing-session">Updating an Event Tracing Session</a></li><li role="none"><a aria-setsize="7" aria-level="3" aria-posinset="7" class="tree-item is-leaf" role="treeitem" tabindex="-1" data-bi-name="tree-leaf" href="https://docs.microsoft.com/en-us/windows/win32/etw/retrieving-additional-event-tracing-data">Retrieving Additional Event Tracing Data</a></li></ul></li><li aria-setsize="4" aria-level="2" aria-posinset="3" class="tree-item" role="treeitem" tabindex="-1" aria-expanded="false"><span class="tree-expander" data-bi-name="tree-expander"><span class="tree-expander-indicator docon docon-chevron-right-light" aria-hidden="true"></span>Providing Events</span></li><li aria-setsize="4" aria-level="2" aria-posinset="4" class="tree-item" role="treeitem" tabindex="-1" aria-expanded="false"><span class="tree-expander" data-bi-name="tree-expander"><span class="tree-expander-indicator docon docon-chevron-right-light" aria-hidden="true"></span>Consuming Events</span></li></ul></li><li aria-setsize="5" aria-level="1" aria-posinset="5" class="tree-item" role="treeitem" tabindex="-1" aria-expanded="false"><span class="tree-expander" data-bi-name="tree-expander"><span class="tree-expander-indicator docon docon-chevron-right-light" aria-hidden="true"></span>Event Tracing Reference</span></li></ul></nav>
			</div>

			<section class="primary-holder column is-two-thirds-tablet is-three-quarters-desktop">
				<div class="columns is-gapless-mobile has-large-gaps ">


				<div id="main-column" class="column  is-full is-four-fifths-desktop ">

					<main id="main" role="main" class="content " data-bi-name="content" lang="en-us" dir="ltr">



						<h1 id="configuring-and-starting-the-nt-kernel-logger-session" sourcefile="ETW/configuring-and-starting-the-nt-kernel-logger-session.md" sourcestartlinenumber="9">Configuring and Starting the NT Kernel Logger Session</h1>

						<ul class="metadata page-metadata" data-bi-name="page info" lang="en-us" dir="ltr">
							<li class="displayDate">
								<time role="presentation" datetime="2018-05-31T00:00:00.000Z" data-article-date-source="ms.date">05/31/2018</time>
							</li>
								<li class="readingTime">2 minutes to read</li>
							<li class="contributors-holder">
								<a class="has-inner-focus" href="https://github.com/MicrosoftDocs/win32/blob/docs/desktop-src/ETW/configuring-and-starting-the-nt-kernel-logger-session.md" title="2 Contributors" aria-label="2 Contributors">
									<ul class="contributors" data-bi-name="contributors" aria-hidden="true">
												<li><img src="./Configuring and Starting the NT Kernel Logger Session - Win32 apps _ Microsoft Docs_files/Karl-Bridge-Microsoft.png" data-src="https://github.com/Karl-Bridge-Microsoft.png?size=32" role="presentation"></li>
												<li><img src="./Configuring and Starting the NT Kernel Logger Session - Win32 apps _ Microsoft Docs_files/msatranjr.png" data-src="https://github.com/msatranjr.png?size=32" role="presentation"></li>
									</ul>
								</a>
							</li>

						</ul>

						<nav id="center-doc-outline" class="doc-outline is-hidden-desktop" data-bi-name="intopic toc" role="navigation" aria-label="Article Outline">
							<h3>In this article</h3>
						<ol><li><a href="https://docs.microsoft.com/en-us/windows/win32/etw/configuring-and-starting-the-nt-kernel-logger-session#related-topics">Related topics</a></li></ol></nav>


						<!-- <content> -->
							
<p>The NT Kernel Logger session is an event tracing session that records a predefined set of kernel events. You do not call the <a href="https://docs.microsoft.com/en-us/windows/win32/etw/enabletrace" data-linktype="relative-path"><strong>EnableTrace</strong></a> function to enable the kernel providers. Instead, you use the <strong>EnableFlags</strong> member of <a href="https://docs.microsoft.com/en-us/windows/win32/etw/event-trace-properties" data-linktype="relative-path"><strong>EVENT_TRACE_PROPERTIES</strong></a> structure to specify the kernel events that you want to receive. The <a href="https://docs.microsoft.com/en-us/windows/win32/etw/starttrace" data-linktype="relative-path"><strong>StartTrace</strong></a> function uses the enable flags that you specify to enable the kernel providers.</p>
<p>There is only one NT Kernel Logger session. If the session is already in use, the <a href="https://docs.microsoft.com/en-us/windows/win32/etw/starttrace" data-linktype="relative-path"><strong>StartTrace</strong></a> function returns ERROR_ALREADY_EXISTS.</p>
<p>For details on starting an event tracing session, see <a href="https://docs.microsoft.com/en-us/windows/win32/etw/configuring-and-starting-an-event-tracing-session" data-linktype="relative-path">Configuring and Starting an Event Tracing Session</a>.</p>
<p>For details on starting a private logger session, see <a href="https://docs.microsoft.com/en-us/windows/win32/etw/configuring-and-starting-a-private-logger-session" data-linktype="relative-path">Configuring and Starting a Private Logger Session</a>.</p>
<p>For details on starting a Global Logger session, see <a href="https://docs.microsoft.com/en-us/windows/win32/etw/configuring-and-starting-the-global-logger-session" data-linktype="relative-path">Configuring and Starting the Global Logger Session</a>.</p>
<p>For details on starting an AutoLogger session, see <a href="https://docs.microsoft.com/en-us/windows/win32/etw/configuring-and-starting-an-autologger-session" data-linktype="relative-path">Configuring and Starting an AutoLogger Session</a>.</p>
<p>The following example shows how to configure and start an NT Kernel Logger session that collects network TCP/IP kernel events and writes them to a 5MB circular file.</p>
<div class="codeHeader" id="code-try-0" data-bi-name="code-header"><span class="language">C++</span>
			<button class="action" data-bi-name="copy" aria-label="Copy code">
				<span class="docon docon-edit-copy" role="presentation"></span>
				<span>Copy</span>
			</button></div><pre tabindex="0" class="has-inner-focus"><code class="lang-C++" data-author-content="#define INITGUID  // Include this #define to use SystemTraceControlGuid in Evntrace.h.

#include &lt;windows.h&gt;
#include &lt;stdio.h&gt;
#include &lt;conio.h&gt;
#include &lt;strsafe.h&gt;
#include &lt;wmistr.h&gt;
#include &lt;evntrace.h&gt;

#define LOGFILE_PATH L&quot;&lt;FULLPATHTOTHELOGFILE.etl&gt;&quot;

void wmain(void)
{
    ULONG status = ERROR_SUCCESS;
    TRACEHANDLE SessionHandle = 0;
    EVENT_TRACE_PROPERTIES* pSessionProperties = NULL;
    ULONG BufferSize = 0;

    // Allocate memory for the session properties. The memory must
    // be large enough to include the log file name and session name,
    // which get appended to the end of the session properties structure.
    
    BufferSize = sizeof(EVENT_TRACE_PROPERTIES) + sizeof(LOGFILE_PATH) + sizeof(KERNEL_LOGGER_NAME);
    pSessionProperties = (EVENT_TRACE_PROPERTIES*) malloc(BufferSize);    
    if (NULL == pSessionProperties)
    {
        wprintf(L&quot;Unable to allocate %d bytes for properties structure.\n&quot;, BufferSize);
        goto cleanup;
    }
    
    // Set the session properties. You only append the log file name
    // to the properties structure; the StartTrace function appends
    // the session name for you.

    ZeroMemory(pSessionProperties, BufferSize);
    pSessionProperties-&gt;Wnode.BufferSize = BufferSize;
    pSessionProperties-&gt;Wnode.Flags = WNODE_FLAG_TRACED_GUID;
    pSessionProperties-&gt;Wnode.ClientContext = 1; //QPC clock resolution
    pSessionProperties-&gt;Wnode.Guid = SystemTraceControlGuid; 
    pSessionProperties-&gt;EnableFlags = EVENT_TRACE_FLAG_NETWORK_TCPIP;
    pSessionProperties-&gt;LogFileMode = EVENT_TRACE_FILE_MODE_CIRCULAR;
    pSessionProperties-&gt;MaximumFileSize = 5;  // 5 MB
    pSessionProperties-&gt;LoggerNameOffset = sizeof(EVENT_TRACE_PROPERTIES);
    pSessionProperties-&gt;LogFileNameOffset = sizeof(EVENT_TRACE_PROPERTIES) + sizeof(KERNEL_LOGGER_NAME); 
    StringCbCopy((LPWSTR)((char*)pSessionProperties + pSessionProperties-&gt;LogFileNameOffset), sizeof(LOGFILE_PATH), LOGFILE_PATH);

    // Create the trace session.

    status = StartTrace((PTRACEHANDLE)&amp;SessionHandle, KERNEL_LOGGER_NAME, pSessionProperties);

    if (ERROR_SUCCESS != status)
    {
        if (ERROR_ALREADY_EXISTS == status)
        {
            wprintf(L&quot;The NT Kernel Logger session is already in use.\n&quot;);
        }
        else
        {
            wprintf(L&quot;EnableTrace() failed with %lu\n&quot;, status);
        }

        goto cleanup;
    }

    wprintf(L&quot;Press any key to end trace session &quot;);
    _getch();

cleanup:

    if (SessionHandle)
    {
        status = ControlTrace(SessionHandle, KERNEL_LOGGER_NAME, pSessionProperties, EVENT_TRACE_CONTROL_STOP);

        if (ERROR_SUCCESS != status)
        {
            wprintf(L&quot;ControlTrace(stop) failed with %lu\n&quot;, status);
        }
    }

    if (pSessionProperties)
        free(pSessionProperties);
}
"><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> INITGUID  <span class="hljs-comment">// Include this #define to use SystemTraceControlGuid in Evntrace.h.</span></span>

<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;windows.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;stdio.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;conio.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;strsafe.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;wmistr.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;evntrace.h&gt;</span></span>

<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> LOGFILE_PATH <span class="hljs-meta-string">L"&lt;FULLPATHTOTHELOGFILE.etl&gt;"</span></span>

<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">wmain</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span>
</span>{
    ULONG status = ERROR_SUCCESS;
    TRACEHANDLE SessionHandle = <span class="hljs-number">0</span>;
    EVENT_TRACE_PROPERTIES* pSessionProperties = <span class="hljs-literal">NULL</span>;
    ULONG BufferSize = <span class="hljs-number">0</span>;

    <span class="hljs-comment">// Allocate memory for the session properties. The memory must</span>
    <span class="hljs-comment">// be large enough to include the log file name and session name,</span>
    <span class="hljs-comment">// which get appended to the end of the session properties structure.</span>
    
    BufferSize = <span class="hljs-keyword">sizeof</span>(EVENT_TRACE_PROPERTIES) + <span class="hljs-keyword">sizeof</span>(LOGFILE_PATH) + <span class="hljs-keyword">sizeof</span>(KERNEL_LOGGER_NAME);
    pSessionProperties = (EVENT_TRACE_PROPERTIES*) <span class="hljs-built_in">malloc</span>(BufferSize);    
    <span class="hljs-keyword">if</span> (<span class="hljs-literal">NULL</span> == pSessionProperties)
    {
        wprintf(<span class="hljs-string">L"Unable to allocate %d bytes for properties structure.\n"</span>, BufferSize);
        <span class="hljs-keyword">goto</span> cleanup;
    }
    
    <span class="hljs-comment">// Set the session properties. You only append the log file name</span>
    <span class="hljs-comment">// to the properties structure; the StartTrace function appends</span>
    <span class="hljs-comment">// the session name for you.</span>

    ZeroMemory(pSessionProperties, BufferSize);
    pSessionProperties-&gt;Wnode.BufferSize = BufferSize;
    pSessionProperties-&gt;Wnode.Flags = WNODE_FLAG_TRACED_GUID;
    pSessionProperties-&gt;Wnode.ClientContext = <span class="hljs-number">1</span>; <span class="hljs-comment">//QPC clock resolution</span>
    pSessionProperties-&gt;Wnode.Guid = SystemTraceControlGuid; 
    pSessionProperties-&gt;EnableFlags = EVENT_TRACE_FLAG_NETWORK_TCPIP;
    pSessionProperties-&gt;LogFileMode = EVENT_TRACE_FILE_MODE_CIRCULAR;
    pSessionProperties-&gt;MaximumFileSize = <span class="hljs-number">5</span>;  <span class="hljs-comment">// 5 MB</span>
    pSessionProperties-&gt;LoggerNameOffset = <span class="hljs-keyword">sizeof</span>(EVENT_TRACE_PROPERTIES);
    pSessionProperties-&gt;LogFileNameOffset = <span class="hljs-keyword">sizeof</span>(EVENT_TRACE_PROPERTIES) + <span class="hljs-keyword">sizeof</span>(KERNEL_LOGGER_NAME); 
    StringCbCopy((LPWSTR)((<span class="hljs-keyword">char</span>*)pSessionProperties + pSessionProperties-&gt;LogFileNameOffset), <span class="hljs-keyword">sizeof</span>(LOGFILE_PATH), LOGFILE_PATH);

    <span class="hljs-comment">// Create the trace session.</span>

    status = StartTrace((PTRACEHANDLE)&amp;SessionHandle, KERNEL_LOGGER_NAME, pSessionProperties);

    <span class="hljs-keyword">if</span> (ERROR_SUCCESS != status)
    {
        <span class="hljs-keyword">if</span> (ERROR_ALREADY_EXISTS == status)
        {
            wprintf(<span class="hljs-string">L"The NT Kernel Logger session is already in use.\n"</span>);
        }
        <span class="hljs-keyword">else</span>
        {
            wprintf(<span class="hljs-string">L"EnableTrace() failed with %lu\n"</span>, status);
        }

        <span class="hljs-keyword">goto</span> cleanup;
    }

    wprintf(<span class="hljs-string">L"Press any key to end trace session "</span>);
    _getch();

cleanup:

    <span class="hljs-keyword">if</span> (SessionHandle)
    {
        status = ControlTrace(SessionHandle, KERNEL_LOGGER_NAME, pSessionProperties, EVENT_TRACE_CONTROL_STOP);

        <span class="hljs-keyword">if</span> (ERROR_SUCCESS != status)
        {
            wprintf(<span class="hljs-string">L"ControlTrace(stop) failed with %lu\n"</span>, status);
        }
    }

    <span class="hljs-keyword">if</span> (pSessionProperties)
        <span class="hljs-built_in">free</span>(pSessionProperties);
}
</code></pre>
<h2 id="related-topics">Related topics<a class="docon docon-link heading-anchor" href="https://docs.microsoft.com/en-us/windows/win32/etw/configuring-and-starting-the-nt-kernel-logger-session#related-topics" aria-labelledby="related-topics"></a></h2>
<dl> <dt>
<p><a href="https://docs.microsoft.com/en-us/windows/win32/etw/configuring-and-starting-a-private-logger-session" data-linktype="relative-path">Configuring and Starting a Private Logger Session</a></p>
</dt> <dt>
<p><a href="https://docs.microsoft.com/en-us/windows/win32/etw/configuring-and-starting-a-systemtraceprovider-session" data-linktype="relative-path">Configuring and Starting a SystemTraceProvider Session</a></p>
</dt> <dt>
<p><a href="https://docs.microsoft.com/en-us/windows/win32/etw/configuring-and-starting-an-autologger-session" data-linktype="relative-path">Configuring and Starting an AutoLogger Session</a></p>
</dt> <dt>
<p><a href="https://docs.microsoft.com/en-us/windows/win32/etw/configuring-and-starting-an-event-tracing-session" data-linktype="relative-path">Configuring and Starting an Event Tracing Session</a></p>
</dt> <dt>
<p><a href="https://docs.microsoft.com/en-us/windows/win32/etw/updating-an-event-tracing-session" data-linktype="relative-path">Updating an Event Tracing Session</a></p>
</dt> </dl>
<p>&nbsp;</p>
<p>&nbsp;</p>

						<!-- </content> -->

						</main>

						<!-- rating mobile section -->
								<div class="is-hidden-desktop has-border-top has-margin-top-large has-padding-top-small">
<div data-bi-name="rating" class="feedback-verbatim has-border-bottom has-padding-bottom-small has-margin-bottom-small">
	<div class="binary-rating">
		<div class="binary-rating-buttons">
			<h3 class="has-text-weight-semibold has-margin-top-none has-margin-bottom-small">Is this page helpful?</h3>
			<div>
				<button class="thumb-rating like has-inner-focus has-padding-left-extra-small has-padding-right-extra-small" title="Yes" data-bi-name="rating-yes" data-bi-sat="1">
					<span class="icon docon docon-like" aria-hidden="true"></span><span>Yes</span>
				</button>
				<button class="thumb-rating dislike has-inner-focus has-padding-none has-padding-right-extra-small" title="No" data-bi-name="rating-no" data-bi-sat="0" aria-expanded="false" aria-haspopup="true" aria-controls="rating-feedback">
					<span class="icon docon docon-dislike" aria-hidden="true"></span><span>No</span>
				</button>
			</div>
		</div>
		<form class="feedback-verbatim-form is-hidden">
			<div class="verbatim-textarea box is-relative has-box-shadow-none has-border has-margin-top-small has-padding-extra-small is-size-8">
				<label for="rating-feedback-mobile" class="visually-hidden">Any additional feedback?</label>
				<textarea id="rating-feedback-mobile" rows="4" maxlength="999" placeholder="Any additional feedback?" required="" class="textarea has-border-none has-box-shadow-none has-inner-focus"></textarea>
			</div>
			<div class="buttons is-right has-margin-top-medium has-margin-right-extra-small">
				<button class="skip-rating button is-text is-link is-small" type="button">Skip</button>
				<button disabled="" class="submit-rating button is-primary is-small" type="submit" data-bi-name="rating-verbatim">Submit</button>
			</div>
		</form>
	</div>
	<div class="thankyou-rating is-hidden">
		<p>Thank you.</p>
	</div>
</div>								</div>
						<!-- end rating mobile section -->

						<!-- feedback section -->





						<!-- end feedback section -->

						<div class="footerContainer is-visible-interactive has-default-focus ">
<footer id="footer-interactive" data-bi-name="footer" class="footer-layout">

    <a data-mscc-ic="false" class="locale-selector-link" href="https://docs.microsoft.com/en-us/locale?target=https://docs.microsoft.com/en-us/windows/win32/etw/configuring-and-starting-the-nt-kernel-logger-session" data-bi-name="select-locale"><span class="icon docon docon-world is-size-4 has-margin-right-small" aria-hidden="true"></span><span class="local-selector-link-text has-inner-focus">English (United States)</span></a>

    <ul class="links" data-bi-name="footerlinks">
		<li><a data-mscc-ic="false" href="https://docs.microsoft.com/previous-versions/" data-bi-name="archivelink">Previous Version Docs</a></li>
		<li><a data-mscc-ic="false" href="https://docs.microsoft.com/teamblog" data-bi-name="bloglink">Blog</a></li>
		<li><a data-mscc-ic="false" href="https://docs.microsoft.com/contribute" data-bi-name="contributorGuide">Contribute</a></li>
			<li><a data-mscc-ic="false" href="https://go.microsoft.com/fwlink/?LinkId=521839" data-bi-name="privacy">Privacy &amp; Cookies</a></li>
		<li><a data-mscc-ic="false" href="https://docs.microsoft.com/en-us/legal/termsofuse" data-bi-name="termsofuse">Terms of Use</a></li>
		<li><a data-mscc-ic="false" href="https://aka.ms/sitefeedback" data-bi-name="feedback">Site Feedback</a></li>
		<li><a data-mscc-ic="false" href="https://www.microsoft.com/en-us/legal/intellectualproperty/Trademarks/EN-US.aspx" data-bi-name="trademarks">Trademarks</a></li>
    </ul>
</footer>
						</div>
					</div>

					<div id="page-actions" class="right-container column is-one-quarter is-one-fifth-desktop is-hidden-mobile is-hidden-tablet-only" data-bi-name="pageactions" role="complementary" aria-label="Page Actions">
						<div id="affixed-right-container" class="doc-outline is-fixed is-vertically-scrollable" style="width: 199.188px; top: 143px; bottom: 24px;">
<div data-bi-name="rating" class="feedback-verbatim has-border-bottom has-padding-bottom-small has-margin-bottom-small">
	<div class="binary-rating">
		<div class="binary-rating-buttons">
			<h3 class="has-text-weight-semibold has-margin-top-none has-margin-bottom-small">Is this page helpful?</h3>
			<div>
				<button class="thumb-rating like has-inner-focus has-padding-left-extra-small has-padding-right-extra-small" title="Yes" data-bi-name="rating-yes" data-bi-sat="1">
					<span class="icon docon docon-like" aria-hidden="true"></span><span>Yes</span>
				</button>
				<button class="thumb-rating dislike has-inner-focus has-padding-none has-padding-right-extra-small" title="No" data-bi-name="rating-no" data-bi-sat="0" aria-expanded="false" aria-haspopup="true" aria-controls="rating-feedback">
					<span class="icon docon docon-dislike" aria-hidden="true"></span><span>No</span>
				</button>
			</div>
		</div>
		<form class="feedback-verbatim-form is-hidden">
			<div class="verbatim-textarea box is-relative has-box-shadow-none has-border has-margin-top-small has-padding-extra-small is-size-8">
				<label for="rating-feedback-mobile" class="visually-hidden">Any additional feedback?</label>
				<textarea id="rating-feedback-mobile" rows="4" maxlength="999" placeholder="Any additional feedback?" required="" class="textarea has-border-none has-box-shadow-none has-inner-focus"></textarea>
			</div>
			<div class="buttons is-right has-margin-top-medium has-margin-right-extra-small">
				<button class="skip-rating button is-text is-link is-small" type="button">Skip</button>
				<button disabled="" class="submit-rating button is-primary is-small" type="submit" data-bi-name="rating-verbatim">Submit</button>
			</div>
		</form>
	</div>
	<div class="thankyou-rating is-hidden">
		<p>Thank you.</p>
	</div>
</div>							<nav id="side-doc-outline" data-bi-name="intopic toc" role="navigation" aria-label="Article Outline">
								<h3>In this article</h3>
							<ol><li><a href="https://docs.microsoft.com/en-us/windows/win32/etw/configuring-and-starting-the-nt-kernel-logger-session#related-topics">Related topics</a></li></ol></nav>
						</div>
					</div>

					<!--end of div.columns -->
				</div>

			<!--end of .primary-holder -->
			</section>

			<aside id="interactive-container" class="interactive-container is-visible-interactive column has-body-background-dark ">
			</aside>
		</div>

		<!--end of .mainContainer -->
	</div>

	<div id="openFeedbackContainer" class="openfeedback-container"></div>

	<div class="footerContainer has-default-focus is-hidden-interactive ">
<footer id="footer" data-bi-name="footer" class="footer-layout uhf-container has-padding" role="contentinfo">

    <a data-mscc-ic="false" class="locale-selector-link" href="https://docs.microsoft.com/en-us/locale?target=https://docs.microsoft.com/en-us/windows/win32/etw/configuring-and-starting-the-nt-kernel-logger-session" data-bi-name="select-locale"><span class="icon docon docon-world is-size-4 has-margin-right-small" aria-hidden="true"></span><span class="local-selector-link-text">English (United States)</span></a>

    <ul class="links" data-bi-name="footerlinks">
		<li><a data-mscc-ic="false" href="https://docs.microsoft.com/previous-versions/" data-bi-name="archivelink">Previous Version Docs</a></li>
		<li><a data-mscc-ic="false" href="https://docs.microsoft.com/teamblog" data-bi-name="bloglink">Blog</a></li>
		<li><a data-mscc-ic="false" href="https://docs.microsoft.com/contribute" data-bi-name="contributorGuide">Contribute</a></li>
			<li><a data-mscc-ic="false" href="https://go.microsoft.com/fwlink/?LinkId=521839" data-bi-name="privacy">Privacy &amp; Cookies</a></li>
		<li><a data-mscc-ic="false" href="https://docs.microsoft.com/en-us/legal/termsofuse" data-bi-name="termsofuse">Terms of Use</a></li>
		<li><a data-mscc-ic="false" href="https://aka.ms/sitefeedback" data-bi-name="feedback">Site Feedback</a></li>
		<li><a data-mscc-ic="false" href="https://www.microsoft.com/en-us/legal/intellectualproperty/Trademarks/EN-US.aspx" data-bi-name="trademarks">Trademarks</a></li>
    </ul>
</footer>
	</div>

	<div id="action-panel" role="region" aria-label="Action Panel" class="action-panel has-default-focus" tabindex="-1"></div>


<div id="goog-gt-tt" class="skiptranslate" dir="ltr"><div style="padding: 8px;"><div><div class="logo"><img src="./Configuring and Starting the NT Kernel Logger Session - Win32 apps _ Microsoft Docs_files/translate_24dp.png" width="20" height="20" alt="Google 翻译"></div></div></div><div class="top" style="padding: 8px; float: left; width: 100%;"><h1 class="title gray">原文</h1></div><div class="middle" style="padding: 8px;"><div class="original-text"></div></div><div class="bottom" style="padding: 8px;"><div class="activity-links"><span class="activity-link">提供更好的翻译建议</span><span class="activity-link"></span></div><div class="started-activity-container"><hr style="color: #CCC; background-color: #CCC; height: 1px; border: none;"><div class="activity-root"></div></div></div><div class="status-message" style="display: none;"></div></div><div id="sel-ext-win" class="sel-text-win" style="display: none;"></div><div class="goog-te-spinner-pos"><div class="goog-te-spinner-animation"><svg xmlns="http://www.w3.org/2000/svg" class="goog-te-spinner" width="96px" height="96px" viewBox="0 0 66 66"><circle class="goog-te-spinner-path" fill="none" stroke-width="6" stroke-linecap="round" cx="33" cy="33" r="30"></circle></svg></div></div></body></html>